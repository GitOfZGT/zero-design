/*{
    "version": "1.0.0",
    "platform": "darwin",
    "buildTime": "2021-10-18 18:05:50"
}*/
(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"/Ykg":function(e,t,n){"use strict";var r=n("K6wJ");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Zviewer=void 0;var o=r(n("q8s6")),a=r(n("MAG/")),d=r(n("6iOh")),l=r(n("1rR9")),i=r(n("IPZl")),s=r(n("v6s4")),c=r(n("kRUu")),u=r(n("XcRB")),f=r(n("ryJs"));n("hfS7"),n("axcb");var p=r(n("vApo")),h=n("V0j1"),m=n("7JPH"),g=r(n("nyVi"));function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,i.default)(e);if(t){var o=(0,i.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,l.default)(this,n)}}var v=function(e){(0,d.default)(n,e);var t=y(n);function n(){var e;(0,o.default)(this,n);for(var r=arguments.length,a=new Array(r),d=0;d<r;d++)a[d]=arguments[d];return(e=t.call.apply(t,[this].concat(a))).initViewer=(0,g.default)((function(){e.viewer?e.viewer.update():e.props.urls.length&&(e.viewer=new f.default(e.imgsEl,{transition:!1,url:function(e){return e.dataset.url},hide:e.props.onViewerHide,ready:function(){var t=e.viewer.viewer?e.viewer.viewer:null;if(t&&null===t.querySelector(".z-next")){var n=document.createElement("div"),r=document.createElement("div");n.className="z-next",r.className="z-prev",n.innerHTML='<i  class="zero-icon zerod-next"/>',r.innerHTML='<i  class="zero-icon zerod-prev"/>',t.appendChild(n),t.appendChild(r),n.addEventListener("click",(function(){e.viewer.next(!0)}),!1),r.addEventListener("click",(function(){e.viewer.prev(!0)}),!1)}}})),e.props.viewerUpdated&&e.props.viewerUpdated()}),60),e}return(0,a.default)(n,[{key:"componentDidMount",value:function(){this.initViewer()}},{key:"componentDidUpdate",value:function(e){e.urls===this.props.urls&&e.urls.length===this.props.urls.length||this.initViewer()}},{key:"componentWillUnmount",value:function(){this.viewer&&this.viewer.destroy()}},{key:"render",value:function(){var e=this,t=this.props.showThumbAlt;return s.default.createElement("ul",{ref:function(t){e.imgsEl=t},className:"z-viewer-ul ".concat(this.props.className)},s.default.createElement(m.TransitionGroup,{component:null,enter:!0,exit:!1,appear:!0},this.props.urls.map((function(n,r){var o="string"==typeof n?n:n.thumb?n.thumb:n.url,a="string"==typeof n?n:n.url,d="string"!=typeof n&&n.alt?n.alt:r+1;return s.default.createElement(m.CSSTransition,{key:r,timeout:h.animateTimout.flipInTime,classNames:"flipY",onEntered:e.initViewer,onExited:e.initViewer},s.default.createElement("li",{key:r},t?s.default.createElement("div",{className:"z-viewer-thumb"},s.default.createElement(p.default,{url:o,style:{height:"100%"}})):s.default.createElement(p.default,{url:o,style:{height:"100%"}}),t?s.default.createElement("div",{className:"z-viewer-alt"},d):null,s.default.createElement("img",{"data-url":a,alt:d})))}))))}}]),n}(c.default);t.Zviewer=v,v.propTypes={urls:u.default.oneOfType([u.default.arrayOf(u.default.string),u.default.arrayOf(u.default.object)]),className:u.default.string,showThumbAlt:u.default.bool},v.defaultProps={urls:[],className:"",showThumbAlt:!0};var b=v;t.default=b},"7CA7":function(e,t){e.exports='\x3c!-- @routePath:/HOC-doc/ZeditorTreeHOC-doc --\x3e\n\n<h1 id="树列表页：zeditortreehoc">树列表页：ZeditorTreeHOC</h1>\n<p><code>ZeditorTreeHOC</code>是一个函数，传入<code>pageConfig</code>参数配置，返回一个带按钮的树组件</p>\n<p><code>ZeditorTreeHOC</code>内置了一个<code>ZtreePanel</code>组件，可以<code>import {ZtreePanel} from &quot;zerod&quot;</code>引入，<code>ZtreePanel</code>的 props 同 <code>pageConfig.tree</code></p>\n<p>1、基本使用</p>\n<div class="z-demo-box" data-render="ZeditorTreeHOCDemo" data-title=" 基本使用" data-description="基本使用" data-defaultexpanded="false"></div>\n\n<pre><code class="language-jsx">/**\n * @renderMode: rightModal\n * @componentName: ZeditorTreeHOCDemo\n * @description:基本使用\n * @title: 基本使用\n */\nimport React from &#39;react&#39;;\nimport { ZeditorTreeHOC, zTool } from &#39;zerod&#39;;\nimport { Input, message, Button } from &#39;antd&#39;;\nimport axios from &#39;axios&#39;;\nimport getProcessEnv from &#39;zerod/components/zTool/getProcessEnv&#39;;\nconst { baserouter } = getProcessEnv();\nconst pageConfig = {\n    pageHeader: {\n        show: true,\n    },\n    searchForm: {\n        // array&gt;[object] | null，如果是null则不显示搜索表单\n        items: [\n            {\n                key: &#39;serviceCode&#39;,\n                label: &#39;服务编码&#39;,\n                render: (form) =&gt; {\n                    return &lt;Input placeholder=&quot;请输入内容&quot; /&gt;;\n                },\n            },\n            {\n                key: &#39;serviceName&#39;,\n                label: &#39;服务名称&#39;,\n                render: (form) =&gt; {\n                    return &lt;Input placeholder=&quot;请输入内容&quot; /&gt;;\n                },\n            },\n        ],\n    },\n    tree: {\n        treeDataKeys: { id: &#39;areaId&#39; },\n        panelHeader: &#39;树&#39;,\n        // 是否显示新建按钮\n        showAddBtn: true,\n        addPageRender: (panel) =&gt; {\n            return (\n                &lt;div className=&quot;z-panel z-text-center z-margin-bottom-20&quot;&gt;\n                    &lt;div className=&quot;z-panel-body&quot;&gt;addPageRender 函数渲染的内容&lt;/div&gt;\n                &lt;/div&gt;\n            );\n        },\n        // 是否显示详情按钮\n        showDetailBtn: true,\n        detailPageRender: (record) =&gt; {\n            return (\n                &lt;div className=&quot;z-panel z-text-center z-margin-bottom-20&quot;&gt;\n                    &lt;div className=&quot;z-panel-body&quot;&gt;detailPageRender 函数渲染的内容&lt;/div&gt;\n                &lt;/div&gt;\n            );\n        },\n        // 是否显示修改按钮\n        showUpdateBtn: true,\n        // 修改按钮权限控制代码\n        updateBtnPermCod: &#39;&#39;,\n        updatePageRender: (record, panel) =&gt; {\n            return (\n                &lt;div className=&quot;z-panel z-text-center z-margin-bottom-20&quot;&gt;\n                    &lt;div className=&quot;z-panel-body&quot;&gt;updatePageRender 函数渲染的内容&lt;/div&gt;\n                &lt;/div&gt;\n            );\n        },\n        // 是否显示删除按钮\n        showDeleteBtn: true,\n        // 删除按钮权限控制代码\n        deleteBtnPermCod: &#39;&#39;,\n        //更多操作按钮的map数据\n        moreBtnMap: [\n            {\n                key: &#39;0&#39;,\n                name: &#39;默认的按钮&#39;,\n            },\n        ],\n        //更多操作按钮的的点击事件\n        onMoreBtnClick: (item, record) =&gt; {\n            message.success(`您当前点击的是[${record.name}]这条数据`);\n        },\n        // 获取列表数据的后台接口函数，其必须内部返回Promise\n        treeApiInterface: (query) =&gt; {\n            // return api.area.getChildList({ id: &quot;root&quot; }).then((re) =&gt; {\n            //     return { data: re.list };\n            // });\n            return axios.get(`${baserouter}/static/area.json`).then((res) =&gt; {\n                console.log(res);\n                return res;\n            });\n            // return new Promise(resolve =&gt; {\n            //     setTimeout(() =&gt; {\n            //         resolve({ data: deepCopy(area.data) });\n            //     }, 500);\n            // });\n        },\n        childApiInterface: false,\n        // childApiInterface: (query) =&gt; {\n        //     return api.area.getChildList({ id: query.areaId }).then((re) =&gt; {\n        //         return { data: re.list };\n        //     });\n        // },\n        // 删除按钮的后台接口函数，其必须内部返回Promise\n        // deleteApiInterface: data =&gt; {\n        //     return Promise.resolve();\n        // },\n        panelBeforeRender: (obj) =&gt; {\n            return (\n                &lt;div className=&quot;z-panel z-text-center z-margin-bottom-20&quot;&gt;\n                    &lt;div className=&quot;z-panel-body&quot;&gt;panelBeforeRender 函数渲染的内容&lt;/div&gt;\n                &lt;/div&gt;\n            );\n        },\n        panelAfterRender: (obj) =&gt; {\n            return (\n                &lt;div className=&quot;z-panel z-margin-top-20 z-text-center&quot;&gt;\n                    &lt;div className=&quot;z-panel-body&quot;&gt;panelAfterRender 函数渲染的内容&lt;/div&gt;\n                &lt;/div&gt;\n            );\n        },\n        moreContentRender: (obj) =&gt; {\n            return (\n                &lt;div className=&quot;z-panel is-panel-border z-margin-top-20 z-text-center&quot;&gt;\n                    &lt;div className=&quot;z-panel-body&quot;&gt;moreContentRender 函数渲染的内容&lt;/div&gt;\n                &lt;/div&gt;\n            );\n        },\n    },\n};\nexport default ZeditorTreeHOC(pageConfig);</code></pre>\n<h2 id="pageconfig">pageConfig</h2>\n<p>除了如下的属性，pageConfig 还包含 <span class="z-history-href" data-path="/main/HOC-doc/ZpageWraperHOC-doc">HOC/页面头尾结构：ZpageWrapper</span> 的 props</p>\n<table>\n<thead>\n<tr>\n<th>参数</th>\n<th>说明</th>\n<th>类型</th>\n<th>默认值</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>searchForm</td>\n<td><p>1、<code>searchForm.defaultExpanded</code> 是否默认展开表单,(默认 false)</p><p>2、<code>searchForm.insertTo</code> 此属性可以是:一个已存在的 dom 元素 || 一个已存在的 dom 元素的 Id || true || false || (tool)=&gt;{return 一个已存在的 dom 元素 || 一个已存在的 dom 元素的 Id || true || false}，其用途为：将 searchForm 插到某个 dom 元素内,如为 true 则插到页头显示,(默认 false)</p><p>3、<code>searchForm 的其他属性</code>还包含： 请查看 <span class="z-history-href" data-path="/main/component-doc/ZsearchForm-doc">组件/ZsearchForm</span> 的 props (除了 onSearch, onReset, noCollapse ,hidden ,其他都有效)。</p><p>4、其中<code>searchForm.items</code>的<code>render 函数</code>的参数在这里多加 tool,如：items:[{render:(form,changeFormItems,tool)=&gt;{},key:&quot;myKey&quot;}]。</p><p>5、其中<code>searchForm.items</code>的<code>options 函数</code>的参数在这里多加 tool,如：items:[{options:(tool)=&gt;options}]。</p><p>6、<code>searchForm</code>的其他<code>函数属性</code>除了原有的参数，还多加 tool，如 <code>searchForm.afterItemsRendered</code>:(form,methods,tool)=&gt;{}</p></td>\n<td>object</td>\n<td>--</td>\n</tr>\n<tr>\n<td>tree</td>\n<td>列表展示，请看下面的 pageConfig.tree</td>\n<td>object</td>\n<td>--</td>\n</tr>\n</tbody></table>\n<h2 id="pageconfigtree">pageConfig.tree</h2>\n<table>\n<thead>\n<tr>\n<th>参数</th>\n<th>说明</th>\n<th>类型</th>\n<th>默认值</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><i class="zero-icon zerod-shengchangzhouqi"></i> panelHeader</td>\n<td>列表面板的头部内容,为 null 则不显示面板头部。也可以是一个对象：{left:(tool)=&gt;span,center:(tool)=&gt;span,right:(tool)=&gt;span,}</td>\n<td>string | (tool)=&gt;span | object</td>\n<td>列表</td>\n</tr>\n<tr>\n<td>treeDataKeys</td>\n<td>树数据对应的 map 结构，默认：{ name: &quot;name&quot;, id: &quot;id&quot;, children: &quot;children&quot; }</td>\n<td>object</td>\n<td>{ name: &quot;name&quot;, id: &quot;id&quot;, children: &quot;children&quot; }</td>\n</tr>\n<tr>\n<td>treeProps</td>\n<td><a href="https://ant.design/components/tree-cn/">Antd 的 Tree 参数</a>,除了 loadData,loadedKeys,onLoad，其他可用，其中启用 draggable 后 onDrop 参数扩展 function(info,dropData,done,tool){}，defaultExpandAll 可采用 funtion(tool){return true;}</td>\n<td>object</td>\n<td>{ name: &quot;name&quot;, id: &quot;id&quot;, children: &quot;children&quot; }</td>\n</tr>\n<tr>\n<td>nodeTitleRender</td>\n<td>每个节点的 title 渲染函数</td>\n<td>function(text,record){return text;}</td>\n<td>--</td>\n</tr>\n<tr>\n<td>treeApiInterface</td>\n<td>获取树列表数据的后台接口函数,其必须返回 Promise,参数有 query:查询表单相关值。</td>\n<td>(query,tool) =&gt; Promise 对象</td>\n<td>--</td>\n</tr>\n<tr>\n<td>childApiInterface</td>\n<td>异步加载子节点的接口函数，其必须返回 Promise,参数有 data:当前节点的数据。如果不需要异步加载，设为 false 即可</td>\n<td>(data,tool) =&gt; Promise 对象</td>\n<td>false</td>\n</tr>\n<tr>\n<td>deleteApiInterface</td>\n<td>删除按钮后台接口函数,其必须返回 Promise,参数有 data:每一行数据</td>\n<td>(data,tool) =&gt; Promise 对象</td>\n<td>--</td>\n</tr>\n<tr>\n<td><i class="zero-icon zerod-shengchangzhouqi"></i> showAddBtn</td>\n<td>是否显示新增按钮</td>\n<td>boolean | function(record,index){return false}</td>\n<td>true</td>\n</tr>\n<tr>\n<td>addPageRender</td>\n<td>新增按钮打开的页面渲染函数,如果函数 return false,此函数相当于按钮点击事件的回调；tool 参数是列表组件的内部提供的一些工具方法</td>\n<td>function(tool){return ReacNode}</td>\n<td>--</td>\n</tr>\n<tr>\n<td><i class="zero-icon zerod-shengchangzhouqi"></i> showAddChildBtn</td>\n<td>是否显示新增子节点按钮</td>\n<td>boolean | function(record,index){return false}</td>\n<td>true</td>\n</tr>\n<tr>\n<td>addChildPageRender</td>\n<td>新增子节点按钮打开的页面渲染函数,如果函数 return false,此函数相当于按钮点击事件的回调；tool 参数是列表组件的内部提供的一些工具方法</td>\n<td>function(record,tool){return ReacNode}</td>\n<td>--</td>\n</tr>\n<tr>\n<td><i class="zero-icon zerod-shengchangzhouqi"></i> showDetailBtn</td>\n<td>是否显示详情按钮</td>\n<td>boolean | function(record,index){return false}</td>\n<td>true</td>\n</tr>\n<tr>\n<td>detailPageRender</td>\n<td>详情按钮打开的页面渲染函数,如果函数 return false,此函数相当于按钮点击事件的回调；tool 参数是列表组件的内部提供的一些工具方法</td>\n<td>function(record,tool){return ReacNode}</td>\n<td>--</td>\n</tr>\n<tr>\n<td><i class="zero-icon zerod-shengchangzhouqi"></i> showUpdateBtn</td>\n<td>是否显示修改按钮</td>\n<td>boolean | function(record,index){return false}</td>\n<td>true</td>\n</tr>\n<tr>\n<td>updatePageRender</td>\n<td>修改按钮打开的页面渲染函数,如果函数 return false,此函数相当于按钮点击事件的回调；tool 参数是列表组件的内部提供的一些工具方法</td>\n<td>function(record,tool){return ReacNode}</td>\n<td>--</td>\n</tr>\n<tr>\n<td><i class="zero-icon zerod-shengchangzhouqi"></i> showDeleteBtn</td>\n<td>是否显示删除按钮</td>\n<td>boolean | function(record,index){return false}</td>\n<td>true</td>\n</tr>\n<tr>\n<td>moreBtnType</td>\n<td>更多操作按钮显示类型</td>\n<td>rounding | menu</td>\n<td>rounding</td>\n</tr>\n<tr>\n<td>moreBtnMap</td>\n<td>更多操作按钮的 map 数据,[{key: &quot;0&quot;,name: &quot;默认的按钮&quot;, <i class="zero-icon zerod-shengchangzhouqi"></i> show: boolean | function(record,index,item){return true;},disabled:boolean}]</td>\n<td>array[object]</td>\n<td>--</td>\n</tr>\n<tr>\n<td>onMoreBtnClick</td>\n<td>更多操作按钮点击事件,参数有 item:当前按钮的 map 对象，record:当前节点的数据</td>\n<td>function(item, record){}</td>\n<td>--</td>\n</tr>\n<tr>\n<td><i class="zero-icon zerod-shengchangzhouqi"></i> panelBeforeRender</td>\n<td>列表面板上面的渲染函数</td>\n<td>function(tool){return ReacNode;}</td>\n<td>--</td>\n</tr>\n<tr>\n<td><i class="zero-icon zerod-shengchangzhouqi"></i> panelAfterRender</td>\n<td>列表面板下面的渲染函数</td>\n<td>function(tool){return ReacNode;}</td>\n<td>--</td>\n</tr>\n<tr>\n<td><i class="zero-icon zerod-shengchangzhouqi"></i> moreContentRender</td>\n<td>分页控件下面更多内容的渲染函数</td>\n<td>function(tool){return ReacNode;}</td>\n<td>--</td>\n</tr>\n<tr>\n<td><i class="zero-icon zerod-shengchangzhouqi"></i> addBtnDisabled</td>\n<td>是否禁用新建按钮</td>\n<td>boolean | function(record,index){return false}</td>\n<td>false</td>\n</tr>\n<tr>\n<td><i class="zero-icon zerod-shengchangzhouqi"></i> addChildBtnDisabled</td>\n<td>是否禁用新建按钮</td>\n<td>boolean | function(record,index){return false}</td>\n<td>false</td>\n</tr>\n<tr>\n<td><i class="zero-icon zerod-shengchangzhouqi"></i> detailBtnDisabled</td>\n<td>是否禁用详情按钮</td>\n<td>boolean | function(record,index){return false}</td>\n<td>false</td>\n</tr>\n<tr>\n<td><i class="zero-icon zerod-shengchangzhouqi"></i> updateBtnDisabled</td>\n<td>是否禁用修改按钮</td>\n<td>boolean | function(record,index){return false}</td>\n<td>false</td>\n</tr>\n<tr>\n<td><i class="zero-icon zerod-shengchangzhouqi"></i> deleteBtnDisabled</td>\n<td>是否禁用删除按钮</td>\n<td>boolean | function(record,index){return false}</td>\n<td>false</td>\n</tr>\n<tr>\n<td>exportSomething</td>\n<td>是一个获取 tool 的钩子，相当于组件的 componentDidMount</td>\n<td>function(tool){ myTool=tool }</td>\n<td>--</td>\n</tr>\n</tbody></table>\n<h2 id="tool-参数">tool 参数</h2>\n<p>pageConfig.tree 中的一些函数如<code>moreContentRender</code>提供了<code>tool</code>参数出来，有如下内容：</p>\n<p><code>tool</code>对象不但包含<code>ZerodMainContext</code>提供的东西（请 <span class="z-history-href" data-path="/main/context-doc/ZerodMainContext-doc">查看 上下文/ZerodMainContext</span> ），比如 tool.showRightModal，还提供如下内容：</p>\n<h3 id="toolgetsearchquery">tool.getSearchQuery</h3>\n<p>获取当前查询表单中各控件的值的函数</p>\n<h3 id="toolmethods">tool.methods</h3>\n<p>tool.methods 是一个对象，内容如下：</p>\n<table>\n<thead>\n<tr>\n<th>方法</th>\n<th>说明</th>\n<th>使用方式</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>getWrapperProps</td>\n<td>用于获取 ZeditorTreeHOC()返回的那个组件的 props</td>\n<td>tool.methods.getWrapperProps()</td>\n</tr>\n<tr>\n<td>showLoading</td>\n<td>用于 显示/取消 当前页的 loading 的方法，参数 show：true|false</td>\n<td>tool.methods.showLoading(true)</td>\n</tr>\n<tr>\n<td>loadTreeData</td>\n<td>更新树列表数据的方法，会触发 pageConfig.tree 的 treeApiInterface 函数；参数有 moreQuery:是一个对象--更多传入 treeApiInterface 的参数</td>\n<td>tool.methods.loadTreeData()</td>\n</tr>\n<tr>\n<td>removeOneData</td>\n<td>移除当前树的一条数据，参数有 rowData:一节点的数据 或者 对应 pageConfig.tree.treeDataKeys.id 的数据(默认是 id)，如 tool.methods.removeOneData({id:5})，则会移除列表数据中 id=5 的那一条</td>\n<td>tool.methods.removeOneData({id:5})</td>\n</tr>\n<tr>\n<td>replaceOneData</td>\n<td>替换当前树的一条数据，参数有 rowData:一节点的数据 或者 对应 pageConfig.tree.treeDataKeys.id 的数据(默认是 id),newData:替换的新数据，如 tool.methods.replaceOneData({id:5}，newData)，则会替换列表数据中 id=5 的那一条</td>\n<td>tool.methods.replaceOneData({id:5}，newData)</td>\n</tr>\n<tr>\n<td>addOneChildData</td>\n<td>在当前树的一条数据中新增一条子数据，参数有 rowData:一节点的数据 或者 对应 pageConfig.tree.treeDataKeys.id 的数据(默认是 id),newData:新增的子数据，如 tool.methods.addOneChildData({id:5}，newData)，则会在列表数据中 id=5 的那一条数据的 children 里新增 newData</td>\n<td>tool.methods.addOneChildData({id:5}，newData)</td>\n</tr>\n<tr>\n<td>openModal</td>\n<td>打开当前列表所在位置关联的 rightModal，与 tool.showRightModal 有区别；参数 content:窗口的内容</td>\n<td>tool.methods.openModal(&lt;div&gt;内容&lt;/div&gt;)</td>\n</tr>\n<tr>\n<td>closeCurrentModal</td>\n<td>关闭当前的 rightModal</td>\n<td>tool.methods.closeCurrentModal()</td>\n</tr>\n<tr>\n<td>currentTreeData</td>\n<td>获取当前树列表的全部数据(数组)的方法</td>\n<td>const treeData=tool.methods.currentTreeData()</td>\n</tr>\n<tr>\n<td>setDataState</td>\n<td>用于主动更新列表数据状态的方法，参数 data:列表数据(数组)</td>\n<td>tool.methods.setDataState([...tool.methods.currentTreeData()])</td>\n</tr>\n<tr>\n<td>onAdd</td>\n<td>新增按钮的点击事件，会触发 pageConfig.tree.addPageRender 函数</td>\n<td>tool.methods.onAdd()</td>\n</tr>\n<tr>\n<td>onAddChild</td>\n<td>新增子节点按钮的点击事件，会触发 pageConfig.tree.addChildPageRender 函数</td>\n<td>tool.methods.onAddChild()</td>\n</tr>\n<tr>\n<td>onUpdate</td>\n<td>修改按钮的点击事件，会触发 pageConfig.tree.updatePageRender 函数</td>\n<td>tool.methods.onUpdate(record)</td>\n</tr>\n<tr>\n<td>onDetail</td>\n<td>详情按钮的点击事件，会触发 pageConfig.tree.detailPageRender 函数</td>\n<td>tool.methods.onDetail(record)</td>\n</tr>\n<tr>\n<td>onDelete</td>\n<td>删除按钮的点击事件，会触发 pageConfig.tree.deleteApiInterface 函数</td>\n<td>tool.methods.onDelete(text,record)</td>\n</tr>\n<tr>\n<td>notice</td>\n<td>是一个对象，弹出提示通告的方式，跟 ZmainHOC 中的 noticeType 有关，属性函数有 success、error、info、warning，它们的参数有 content:提示内容，config:同 antd 的 notification 和 message 参数</td>\n<td>tool.methods.notice.success(&quot;操作成功&quot; [,config])</td>\n</tr>\n</tbody></table>\n<h3 id="toolrouter">tool.$router</h3>\n<p>tool.$router 是一个对象，内容如下：</p>\n<table>\n<thead>\n<tr>\n<th>属性</th>\n<th>说明</th>\n<th>使用方式</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>history</td>\n<td>可以调用 push、replace 等跳转路由 path 得方法，<a href="https://reacttraining.com/react-router/web/api/history">更多请查看 react-router 的 history</a></td>\n<td>tool.$router.history.push(&quot;/login&quot;)</td>\n</tr>\n<tr>\n<td>location</td>\n<td>当前路由的相关信息, <a href="https://reacttraining.com/react-router/web/api/location">更多请查看 react-router 的 location</a></td>\n<td>tool.$router.location.pathname</td>\n</tr>\n</tbody></table>\n'},"7LSH":function(e,t,n){"use strict";var r=n("K6wJ");Object.defineProperty(t,"__esModule",{value:!0}),t.ZeditorTreeHOC=v,t.default=void 0;var o=r(n("urf5")),a=r(n("q8s6")),d=r(n("MAG/")),l=r(n("6iOh")),i=r(n("1rR9")),s=r(n("IPZl")),c=r(n("v6s4")),u=r(n("kRUu")),f=n("XVyZ"),p=n("6sYb"),h=n("V0j1"),m=r(n("8/72"));function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.default)(e);if(t){var o=(0,s.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,i.default)(this,n)}}var y=(0,p.ZpageWraperHOC)();function v(e){e=e||{};var t=(0,h.const_getListConfig)("tree","ZtreePanel");return t=(0,f.mergeConfig)(t,e),function(e){(0,l.default)(r,e);var n=g(r);function r(){var e;(0,a.default)(this,r);for(var o=arguments.length,d=new Array(o),l=0;l<o;l++)d[l]=arguments[l];return(e=n.call.apply(n,[this].concat(d))).config=t,e.pageWraper=(0,h.const_getPageWrapperProps)(e.config),e.pageId=(0,f.GenNonDuplicateID)(),e}return(0,d.default)(r,[{key:"render",value:function(){return this.pageWraper.pageHeader&&this.pageWraper.pageHeader.show&&(this.pageWraper.pageHeader.pageId=this.pageId),c.default.createElement(y,this.pageWraper,c.default.createElement(m.default,(0,o.default)({wrapperProps:this.props,pageId:this.pageId,colFormItems:this.config.searchForm.items,searchForm:this.config.searchForm},this.config.tree,{insertLocation:this.config.insertLocation})))}}]),r}(u.default)}var b=v;t.default=b},"8/72":function(e,t,n){"use strict";var r=n("K6wJ");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("urf5")),a=r(n("RJGT"));n("7Pyk");var d=r(n("cAfb")),l=r(n("2oQ4")),i=r(n("6HUR")),s=r(n("q8s6")),c=r(n("MAG/")),u=r(n("OmPj")),f=r(n("6iOh")),p=r(n("1rR9")),h=r(n("IPZl"));n("xhW/");var m=r(n("h02Y")),g=r(n("v6s4"));n("ujPN");var y=n("7izj"),v=r(n("XcRB")),b=n("V0j1");n("qiVa");var D=r(n("ljFX")),C=r(n("veVa")),w=n("XVyZ"),O=["title","key","dataRef"],P=["loadData","onDrop","selectable","onExpand","expandedKeys","defaultExpandAll"];function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.default)(e);if(t){var o=(0,h.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,p.default)(this,n)}}var z=m.default.TreeNode;function x(e,t){var n=[];return e.forEach((function(e){n.push(e[t.id].toString()),Array.isArray(e[t.children])&&(n=n.concat(x(e[t.children],t)))})),n}var k=(0,b.const_getListConfig)("list","ZtreePanel"),T=function(e){(0,f.default)(n,e);var t=E(n);function n(){var e;(0,s.default)(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).treeDataKeys=Object.assign({name:"name",id:"id",children:"children"},e.props.treeDataKeys),e.methods=R(R({},b.const_getMethods.call((0,u.default)(e))),{},{getWrapperProps:function(){return e.props.wrapperProps},loadTreeData:function(t){var n=(e.props.treeProps||{}).defaultExpandAll,r=e.searchQuery?e.searchQuery:{};w.dataType.isObject(t)&&(r=Object.assign({},r,t));var o=e.props.treeApiInterface&&e.props.treeApiInterface(r,e.getExportSomething());w.dataType.isPromise(o)&&(e.methods.showLoading(!0),o.then((function(t){var r=b.requireValid.hasData(t);if(r)return r;var o="function"==typeof n?n(e.getExportSomething(),t.data):n,a=[];a=Array.isArray(o)?o:o?x(t.data,e.treeDataKeys):[],e.setState({treeData:t.data,expandedKeys:a,loadedKeys:[]})})).finally((function(t){e.methods.showLoading(!1)})))},loadChildData:function(t){var n=e.treeDataKeys.children,r=(e.props.treeProps||{}).defaultExpandAll;return new Promise((function(o){if(t.props.children)o();else{var a=e.ayncChild&&e.props.childApiInterface((0,w.deepCopy)(t.props.dataRef),e.getExportSomething());w.dataType.isPromise(a)&&a.then((function(o){var a=b.requireValid.hasData(o);if(a)return a;t.props.dataRef[n]=o.data;var d="function"==typeof r?r(e.getExportSomething(),o.data):r,i=[];i=Array.isArray(d)?[].concat((0,l.default)(e.state.expandedKeys),(0,l.default)(d)):d?[].concat((0,l.default)(e.state.expandedKeys),(0,l.default)(x(o.data,e.treeDataKeys))):e.state.expandedKeys,e.setState({treeData:(0,l.default)(e.state.treeData),expandedKeys:i})})).finally((function(){o()}))}}))},onSearch:function(t){e.searchQuery=t,e.methods.loadTreeData()},onReset:function(){e.methods.onSearch()},commonActionArr:function(t){var n=t.tree,r=t.record,o=t.data,a=(0,t.action)({tree:Array.isArray(n)?n:e.state.treeData.slice(0),sourceItem:r,item:o,keyObj:e.treeDataKeys});return a&&!Array.isArray(n)&&e.setState({treeData:a}),a},removeOneData:function(t,n){return e.methods.commonActionArr({tree:n,record:t,action:w.removeItemFromTree})},addOneChildData:function(t,n,r){return e.methods.commonActionArr({tree:r,record:t,data:n,action:w.pushItemToTree})},replaceOneData:function(t,n,r){return e.methods.commonActionArr({tree:r,record:t,data:n,action:w.replaceItemFromTree})},getDropType:function(t){var n=t.node.props.eventKey,r=t.dragNode.props.eventKey,o=t.node.props.pos.split("-"),a=t.dropPosition-Number(o[o.length-1]),d=null,l=null,s=(0,i.default)({},e.treeDataKeys.id,n),c=(0,i.default)({},e.treeDataKeys.id,r),u=e.state.treeData;if((0,w.itemsFromTree)({tree:u,sourceItem:s,keyObj:e.treeDataKeys,action:function(e){e.tree;var t=e.currentItem;e.index,e.keyObj;d=t}}),(0,w.itemsFromTree)({tree:u,sourceItem:c,keyObj:e.treeDataKeys,action:function(e){e.tree;var t=e.currentItem;e.index,e.keyObj;l=t}}),l&&d)return t.dropToGap?(t.node.props.children||[]).length>0&&t.node.props.expanded&&1===a?{type:"inFirst",msg:"确认将 [".concat(l[e.treeDataKeys.name],"] 放入到 [").concat(d[e.treeDataKeys.name],"] 里面最前一个吗？"),dropData:d,dragData:l}:-1===a?{type:"insertBefore",msg:"确认将 [".concat(l[e.treeDataKeys.name],"] 移动到 [").concat(d[e.treeDataKeys.name],"] 的前面吗？"),dropData:d,dragData:l}:{type:"insertAfter",msg:"确认将[".concat(l[e.treeDataKeys.name],"]移动到[").concat(d[e.treeDataKeys.name],"]的后面吗？"),dropData:d,dragData:l}:{type:"inLast",msg:"确认将 [".concat(l[e.treeDataKeys.name],"] 放入到 [").concat(d[e.treeDataKeys.name],"] 里面最后一个吗？"),dropData:d,dragData:l}},dropDone:function(){var t=(0,l.default)(e.state.treeData),n=e.methods.droped,r=n.type,o=n.dropData,a=n.dragData;r&&(t=(0,w.removeItemFromTree)({tree:t,sourceItem:a,keyObj:e.treeDataKeys}),t=e.methods.dropAction[r]({tree:t,sourceItem:o,item:a,keyObj:e.treeDataKeys}),e.setState({treeData:t}))},droped:{},dropAction:{inLast:w.pushItemToTree,inFirst:w.unshiftItemToTree,insertBefore:w.insertBeforeItemFromTree,insertAfter:w.insertAfterItemFromTree},onDrop:function(t){var n=(e.props.treeProps||{}).onDrop;if("function"==typeof n){var r=e.methods.getDropType(t);r&&(e.methods.droped=r,d.default.confirm({title:e.methods.droped.msg,content:"",okText:"确定",okType:"primary",cancelText:"取消",onOk:function(){return n(t,(0,w.deepCopy)(e.methods.droped),e.methods.dropDone,e.getExportSomething())}}))}},onDelete:function(t){var n=t[e.treeDataKeys.name];d.default.confirm({title:"确认删除 ".concat(n?"[".concat(n,"]"):""," 这条数据吗"),content:"将永久删除",okText:"删除",okType:"danger",cancelText:"取消",onOk:function(){return new Promise((function(n,r){e.props.deleteApiInterface(t,e.getExportSomething()).then((function(r){e.methods.notice.success("删除成功"),e.methods.removeOneData(t),n()})).catch((function(t){e.methods.notice.error(t&&t.msg?t.msg:"删除失败"),r()}))}))}})},onReload:function(){e.methods.loadTreeData()},onAdd:function(){var t=e.props.addPageRender(e.getExportSomething());e.methods.openModal(t)},onAddChild:function(t){var n=e.props.addChildPageRender(t,e.getExportSomething());e.methods.openModal(n)},onUpdate:function(t){var n=e.props.updatePageRender(t,e.getExportSomething());e.methods.openModal(n)},onDetail:function(t){var n=e.props.detailPageRender(t,e.getExportSomething());e.methods.openModal(n)},currentTreeData:function(){return e.state.treeData},setDataState:function(t){e.setState({treeData:t})}}),e.searchFormConfig=b.const_extendPanelFormConfig.call((0,u.default)(e)),e.colFormItems=b.const_getPanelDefaultFormItems.call((0,u.default)(e)),e.state={treeData:[],expandedKeys:[],loadedKeys:[]},e.searchQuery=null,e.ayncChild="function"==typeof e.props.childApiInterface,e}return(0,c.default)(n,[{key:"getExportSomething",value:function(){var e=this;return R(R({},b.const_getMainTool.call(this)),{},{getSearchQuery:function(){return(0,w.deepCopy)(e.searchQuery)},methods:this.methods,$router:{history:this.props.history,location:this.props.location}})}},{key:"getTreeNode",value:function(e){var t=this,n=(this.props.treeProps||{selectable:!1}).selectable;return e.map((function(e,r){var d=t.treeDataKeys.children,l=t.treeDataKeys.id,i=t.treeDataKeys.name,s=Array.isArray(e[d])?e[d]:[],c=(e.title,e.key,e.dataRef,(0,a.default)(e,O)),u=t.getExportSomething();return g.default.createElement(z,(0,o.default)({selectable:n,title:g.default.createElement(D.default,{tool:u,name:t.props.nodeTitleRender?t.props.nodeTitleRender(e[i],e,u):e[i],record:e,index:r,moreBtnType:t.props.moreBtnType,moreBtnMap:t.props.moreBtnMap,moreBtnRender:t.props.moreBtnRender,onMoreBtnClick:t.props.onMoreBtnClick,onDetailClick:t.methods.onDetail,onAddChildClick:t.methods.onAddChild,onUpdateClick:t.methods.onUpdate,onDeleteClick:t.methods.onDelete,showDetailBtn:t.props.showDetailBtn,showAddChildBtn:t.props.showAddChildBtn,showUpdateBtn:t.props.showUpdateBtn,showDeleteBtn:t.props.showDeleteBtn,detailBtnDisabled:t.props.detailBtnDisabled,addChildBtnDisabled:t.props.addChildBtnDisabled,updateBtnDisabled:t.props.updateBtnDisabled,deleteBtnDisabled:t.props.deleteBtnDisabled}),key:e[l],dataRef:e},c),s.length?t.getTreeNode(s):null)}))}},{key:"componentDidMount",value:function(){"function"==typeof this.props.exportSomething&&this.props.exportSomething(this.getExportSomething()),this.insertLocation=(0,b.const_getInsertLocation)(this.hocWrapperEl),this.methods.onSearch()}},{key:"render",value:function(){var e=this;b.const_searchFormNode.call(this);var t=this.props.treeProps||{},n=(t.loadData,t.onDrop,t.selectable,t.onExpand),r=t.expandedKeys,d=(t.defaultExpandAll,(0,a.default)(t,P)),l="function"==typeof r?r(this.state.expandedKeys,this.getExportSomething()):this.state.expandedKeys;return g.default.createElement("section",{ref:function(t){e.hocWrapperEl=t}},this.props.panelBeforeRender&&this.props.panelBeforeRender(this.getExportSomething()),this.getPanleHeader(),g.default.createElement("div",{className:"z-panel"},g.default.createElement("div",null,g.default.createElement("div",{className:"z-editor-tree"},this.state.treeData.length?g.default.createElement(m.default,(0,o.default)({autoExpandParent:!1},d,{expandedKeys:l,loadedKeys:this.state.loadedKeys,onExpand:function(t,r){e.setState({expandedKeys:t}),"function"==typeof n&&n(t,r)},loadData:this.ayncChild?this.methods.loadChildData:void 0,onDrop:this.methods.onDrop,onLoad:function(t){e.setState({loadedKeys:t})}}),this.getTreeNode(this.state.treeData)):g.default.createElement("div",{className:"z-text-center"},"暂无数据")),this.props.moreContentRender&&this.props.moreContentRender(this.getExportSomething()))),this.props.panelAfterRender&&this.props.panelAfterRender(this.getExportSomething()))}}]),n}(g.default.PureComponent);T.propTypes={treeDataKeys:v.default.object,panelBeforeRender:v.default.func,panelAfterRender:v.default.func,exportSomething:v.default.func,nodeTitleRender:v.default.func,panelHeader:v.default.any,moreContentRender:v.default.func,searchForm:v.default.object,colFormItems:v.default.arrayOf(v.default.object),moreBtnMap:v.default.arrayOf(v.default.object),onMoreBtnClick:v.default.func,updateBtnPermCod:v.default.string,deleteBtnPermCod:v.default.string,showDetailBtn:v.default.oneOfType([v.default.func,v.default.bool]),showAddChildBtn:v.default.oneOfType([v.default.func,v.default.bool]),showUpdateBtn:v.default.oneOfType([v.default.func,v.default.bool]),showDeleteBtn:v.default.oneOfType([v.default.func,v.default.bool]),showAddBtn:v.default.oneOfType([v.default.func,v.default.bool]),detailBtnDisabled:v.default.oneOfType([v.default.func,v.default.bool]),addChildBtnDisabled:v.default.oneOfType([v.default.func,v.default.bool]),updateBtnDisabled:v.default.oneOfType([v.default.func,v.default.bool]),deleteBtnDisabled:v.default.oneOfType([v.default.func,v.default.bool]),treeApiInterface:v.default.func,childApiInterface:v.default.oneOfType([v.default.func,v.default.bool]),deleteApiInterface:v.default.func,addPageRender:v.default.func,addChildPageRender:v.default.func,updatePageRender:v.default.func,detailPageRender:v.default.func,treeProps:v.default.object,responseKeys:v.default.object},T.defaultProps=k.tree,T.prototype.getPanleHeader=b.const_getPanleHeader;var A=C.default.setConsumer((0,y.withRouter)(T));t.default=A},Ov6o:function(e,t,n){"use strict";var r=n("K6wJ");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ZroundingButton=void 0,n("xojO");var o=r(n("qQHV")),a=r(n("6HUR")),d=r(n("q8s6")),l=r(n("MAG/")),i=r(n("6iOh")),s=r(n("1rR9")),c=r(n("IPZl")),u=r(n("v6s4")),f=r(n("yLZQ")),p=r(n("XcRB"));n("j5BP");var h,m,g=n("XVyZ"),y=r(n("veVa"));function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var o=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var C=10,w=y.default.setConsumer((m=h=function(e){(0,i.default)(n,e);var t=D(n);function n(){var e;(0,d.default)(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).state={createPortal:!1},e.on=g.on,e.off=g.off,e.diameter=0,e.$btns=[],e.isShow=!1,e.transitioning=!1,e.first=!0,e.originalTop=0,e.originalLeft=0,e.setPosition=function(){var t=e.childEl.getBoundingClientRect(),n=[t.top,window.innerWidth-t.left-t.width,window.innerHeight-t.top-t.height,t.left];e.directionLen=n.map((function(e){var t=Math.floor(e/50);return t>0?new Array(t).fill(1):[]})),e.diameterW=t.width,e.diameterH=t.height;var r=t.left+t.width/2,o=t.top+t.height/2,a=e.$btns=Array.prototype.slice.call(e.coverEl.children);e.originalTop=o-20,e.originalLeft=r-20,a.forEach((function(t,n){t.style.top="".concat(e.originalTop,"px"),t.style.left="".concat(e.originalLeft,"px"),t.style.opacity=0,t.style.transform="scale(0.1)",e.first&&(0,g.on)(t,"click",(function(t){for(var r=t.target;r&&("string"==typeof r.className&&!r.className.includes("z-round-btn")||"string"!=typeof r.className);)r=r.parentElement;var o=e.props.items[n];"function"==typeof o.onClick&&r&&"0"==r.dataset.disabled&&(o.onClick(o),e.showBtns()),t.stopPropagation()}))})),e.first=!1},e.setTranslate=function(t){e.transitioning=!0;for(var n=e.$btns.slice(0),r=(0,g.deepCopy)(e.directionLen),o=0;n.length;)r.forEach((function(r,a){if(r.length&&n.length){var d=n.shift(),l="",i=0,s=t?e.diameterH/2+20+C:e.getTo(e.diameterH,o),c=t?e.diameterW/2+20+C:e.getTo(e.diameterW,o);switch(a){case 0:l="top",i=e.originalTop-s;break;case 1:l="left",i=e.originalLeft+c;break;case 2:l="top",i=e.originalTop+s;break;case 3:l="left",i=e.originalLeft-c}d.style.opacity=t?0:1,d.style.transform="scale(".concat(t?"0":"1",")"),d.style[l]="".concat(i,"px"),r.shift()}})),o++},e.doShow=function(){e.setPosition(),e.$btns.length&&(e.coverEl.style.display="block",e.isShow=!0,e.setTranslate(!0),setTimeout((function(){e.setTranslate(!1),e.transitioning=!1}),10))},e.doHide=function(){e.$btns.length&&(0,g.once)(e.$btns[0],"transitionend",(function(){e.coverEl.style.display="none",e.transitioning=!1})),e.setTranslate(!0),e.isShow=!1},e.showBtns=function(){e.childEl&&!e.transitioning&&(e.isShow?e.doHide():e.state.createPortal?e.doShow():e.setState({createPortal:!0},e.doShow),e.props.onVisibleChange&&e.props.onVisibleChange(e.isShow))},e.closeBtns=function(){e.isShow&&e.showBtns()},e.setEvent=function(t){if(e.childEl&&(e[t](document.documentElement,"click",e.closeBtns),e.props.getInsertLocation)){var n=e.props.getInsertLocation(e.childEl),r=e.props.getScrollInstance(n);r&&r.scroll[t]("scrollStart",e.closeBtns)}},e}return(0,l.default)(n,[{key:"getTo",value:function(e,t){return e/2+20+C+50*t}},{key:"componentDidMount",value:function(){g.dataType.isElement(this.wrapEl)?this.childEl=this.wrapEl:this.wrapEl&&(this.childEl=f.default.findDOMNode(this.wrapEl)),this.setEvent("on")}},{key:"componentWillUnmount",value:function(){this.setEvent("off")}},{key:"render",value:function(){var e=this,t=this.props.items.map((function(e){return b(b({},e),{},{show:null==e.show||e.show,disabled:null!=e.disabled&&e.disabled})}));return u.default.createElement(u.default.Fragment,null,u.default.isValidElement(this.props.children)?u.default.cloneElement(this.props.children,b(b({},this.props.children.props),{},{ref:function(t){e.wrapEl=t},onClick:function(t){e.showBtns(),e.props.children.props.onClick&&e.props.children.props.onClick(t),t.stopPropagation()}})):this.props.children,this.state.createPortal?f.default.createPortal(u.default.createElement("div",{className:"z-round-btn-cover",ref:function(t){return e.coverEl=t}},t.map((function(e,t){return e.show?u.default.createElement(o.default,{key:t,placement:"top",title:e.name,mouseLeaveDelay:0},u.default.createElement("div",{className:"z-round-btn ".concat(e.disabled?"is-disabled":""," ").concat(e.icon?"has-icon":e.name?"has-text":""),key:t,"data-disabled":e.disabled?"1":"0"},e.icon?"function"==typeof e.icon?e.icon():e.icon:"string"==typeof e.name&&e.name?e.name.slice(0,2):"")):null}))),document.body):null)}}]),n}(u.default.Component),h.propTypes={className:p.default.string,items:p.default.arrayOf(p.default.object),onVisibleChange:p.default.func},h.defaultProps={items:[]},m));t.ZroundingButton=w;var O=w;t.default=O},QIMZ:function(e,t,n){"use strict";var r=n("K6wJ");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("7LSH"));n("FWSn");var a=r(n("tOpa"));n("xgct");var d=r(n("6Wwa")),l=r(n("v6s4")),i=r(n("Y0Lo")),s=(0,r(n("kGqR")).default)().baserouter,c={pageHeader:{show:!0},searchForm:{items:[{key:"serviceCode",label:"服务编码",render:function(e){return l.default.createElement(d.default,{placeholder:"请输入内容"})}},{key:"serviceName",label:"服务名称",render:function(e){return l.default.createElement(d.default,{placeholder:"请输入内容"})}}]},tree:{treeDataKeys:{id:"areaId"},panelHeader:"树",showAddBtn:!0,addPageRender:function(e){return l.default.createElement("div",{className:"z-panel z-text-center z-margin-bottom-20"},l.default.createElement("div",{className:"z-panel-body"},"addPageRender 函数渲染的内容"))},showDetailBtn:!0,detailPageRender:function(e){return l.default.createElement("div",{className:"z-panel z-text-center z-margin-bottom-20"},l.default.createElement("div",{className:"z-panel-body"},"detailPageRender 函数渲染的内容"))},showUpdateBtn:!0,updateBtnPermCod:"",updatePageRender:function(e,t){return l.default.createElement("div",{className:"z-panel z-text-center z-margin-bottom-20"},l.default.createElement("div",{className:"z-panel-body"},"updatePageRender 函数渲染的内容"))},showDeleteBtn:!0,deleteBtnPermCod:"",moreBtnMap:[{key:"0",name:"默认的按钮"}],onMoreBtnClick:function(e,t){a.default.success("您当前点击的是[".concat(t.name,"]这条数据"))},treeApiInterface:function(e){return i.default.get("".concat(s,"/static/area.json")).then((function(e){return console.log(e),e}))},childApiInterface:!1,panelBeforeRender:function(e){return l.default.createElement("div",{className:"z-panel z-text-center z-margin-bottom-20"},l.default.createElement("div",{className:"z-panel-body"},"panelBeforeRender 函数渲染的内容"))},panelAfterRender:function(e){return l.default.createElement("div",{className:"z-panel z-margin-top-20 z-text-center"},l.default.createElement("div",{className:"z-panel-body"},"panelAfterRender 函数渲染的内容"))},moreContentRender:function(e){return l.default.createElement("div",{className:"z-panel is-panel-border z-margin-top-20 z-text-center"},l.default.createElement("div",{className:"z-panel-body"},"moreContentRender 函数渲染的内容"))}}},u=(0,o.default)(c);t.default=u},duPH:function(e,t,n){"use strict";var r=n("K6wJ");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ZcodeHighlight=void 0;var o=r(n("q8s6")),a=r(n("MAG/")),d=r(n("6iOh")),l=r(n("1rR9")),i=r(n("IPZl")),s=r(n("v6s4")),c=r(n("kRUu")),u=r(n("XcRB")),f=r(n("XYcM"));function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,i.default)(e);if(t){var o=(0,i.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,l.default)(this,n)}}n("lYVS"),n("dDAE"),n("roMe"),n("YO7D"),n("77Mx"),n("vV76"),n("QgYW"),n("X7dv"),n("d8H9"),n("Vqov");var h=function(e){(0,d.default)(n,e);var t=p(n);function n(){return(0,o.default)(this,n),t.apply(this,arguments)}return(0,a.default)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.children,n=e.mode;if(t){if(t&&"html"===n){var r=t.replace(/\<pre/g,'<pre class="line-numbers"');this.boxEl.innerHTML=r}f.default.highlightAllUnder(this.boxEl)}}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,r=t.mode,o=null;if(n&&"html"!==r){var a=s.default.createElement("code",{className:"language-".concat(this.props.lang)},this.props.children);o="block"===this.props.mode?s.default.createElement("pre",{className:"line-numbers"},a):a}return s.default.createElement("div",{ref:function(t){return e.boxEl=t}},o)}}]),n}(c.default);t.ZcodeHighlight=h,h.propTypes={mode:u.default.string,lang:u.default.string,children:u.default.string},h.defaultProps={lang:"html",mode:"block"};var m=h;t.default=m},ljFX:function(e,t,n){"use strict";var r=n("K6wJ");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("w6eN");var o=r(n("RdG0"));n("pnp8");var a=r(n("tHrf"));n("vQDP");var d=r(n("qeng")),l=r(n("urf5")),i=r(n("6HUR")),s=r(n("RJGT")),c=r(n("q8s6")),u=r(n("MAG/")),f=r(n("6iOh")),p=r(n("1rR9")),h=r(n("IPZl")),m=r(n("v6s4")),g=r(n("XcRB")),y=n("Ov6o"),v=n("XVyZ");n("qiVa");var b=["show","disbaled","name"];function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.default)(e);if(t){var o=(0,h.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,p.default)(this,n)}}var O=function(e){(0,f.default)(n,e);var t=w(n);function n(){var e;(0,c.default)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).hasMoreMenu=e.props.moreBtnMap&&e.props.moreBtnMap.length,e.moreMenu=function(t,n){var r=e.props.tool,o=e.methods.handleMenuClick(t),a=[];return e.hasMoreMenu&&e.props.moreBtnMap.forEach((function(i){var c=i.show,u=i.disbaled,f=i.name,p=(0,s.default)(i,b),h="function"==typeof c?c(t,n,i,r):void 0===c||c,g="function"==typeof u?u(t,n,i,r):void 0!==u&&u;"rounding"==e.props.moreBtnType?a.push(C(C({},i),{},{show:h,disabled:g,onClick:o})):h&&a.push(m.default.createElement(d.default.Item,(0,l.default)({disabled:g},p),f))})),a.length?"rounding"==e.props.moreBtnType?a:m.default.createElement(d.default,{onClick:o},a):null},e.methods={handleMenuClick:function(t){return function(n){e.props.onMoreBtnClick&&e.props.onMoreBtnClick(n,t,e.props.tool),n.domEvent.stopPropagation()}},detailBtnClick:function(t){e.props.onDetailClick&&e.props.onDetailClick(e.props.record),t.stopPropagation()},addChildBtnClick:function(t){e.props.onAddChildClick&&e.props.onAddChildClick(e.props.record),t.stopPropagation()},updateBtnClick:function(t){e.props.onUpdateClick&&e.props.onUpdateClick(e.props.record),t.stopPropagation()},deleteBtnClick:function(t){e.props.onDeleteClick&&e.props.onDeleteClick(e.props.record),t.stopPropagation()}},e.getBtn=function(e,t,n,r,o){var d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return r?m.default.createElement(a.default,(0,l.default)({onClick:n,size:"small",type:e,disabled:o},d),t):null},e.onVisibleChange=function(t){e.moreIconEl&&(t?(0,v.removeClass)(e.moreIconEl,"is-down"):(0,v.addClass)(e.moreIconEl,"is-down"))},e.nodeRef=m.default.createRef(),e}return(0,u.default)(n,[{key:"componentDidMount",value:function(){this.nodeRef.current.firstElementChild.style.maxWidth=this.nodeRef.current.clientWidth-this.nodeRef.current.querySelector(".z-tree-btns").clientWidth+"px"}},{key:"render",value:function(){var e=this,t=this.props.tool,n=this.props,r=n.showDetailBtn,d=n.showUpdateBtn,l=n.showAddChildBtn,i=n.showDeleteBtn,s=n.detailBtnDisabled,c=n.updateBtnDisabled,u=n.addChildBtnDisabled,f=n.deleteBtnDisabled,p=n.moreBtnRender,h=n.record,g=n.index,v="function"==typeof r?r(h,g,t):r,b="function"==typeof d?d(h,g,t):d,D="function"==typeof l?l(h,g,t):l,C="function"==typeof i?i(h,g,t):i,w="function"==typeof s?s(h,g,t):s,O="function"==typeof c?c(h,g,t):c,P="function"==typeof u?u(h,g,t):u,B="function"==typeof f?f(h,g,t):f,R="function"==typeof p?p(h,g,t):m.default.createElement(a.default,{size:"small",onClick:function(e){e.stopPropagation()}},"更多",m.default.createElement("i",{className:"zero-icon zerod-up z-open-btn is-down",ref:function(t){e.moreIconEl=t}})),E=null;if(this.hasMoreMenu){var z=this.moreMenu(h,g);z&&(E="rounding"==this.props.moreBtnType?m.default.createElement(y.ZroundingButton,{items:z,onVisibleChange:this.onVisibleChange},R):m.default.createElement(o.default,{key:"more",overlay:z,trigger:["click"],placement:"bottomRight",onVisibleChange:this.onVisibleChange},R))}return m.default.createElement("span",{className:"z-flex-space-between",ref:this.nodeRef},m.default.createElement("span",{className:"z-tree-title",title:m.default.isValidElement(this.props.name)?"":this.props.name},this.props.name),m.default.createElement("span",{className:"z-tree-line"}),m.default.createElement("span",{className:"z-tree-btns"},this.getBtn("default","详情",this.methods.detailBtnClick,v,w),this.getBtn("primary","新增子节点",this.methods.addChildBtnClick,D,P),this.getBtn("primary","修改",this.methods.updateBtnClick,b,O),this.getBtn("danger","删除",this.methods.deleteBtnClick,C,B),E))}}]),n}(m.default.PureComponent);O.propTypes={tool:g.default.object,name:g.default.any,record:g.default.any,index:g.default.number,moreBtnType:g.default.string,moreBtnMap:g.default.arrayOf(g.default.object),moreBtnRender:g.default.func,onMoreBtnClick:g.default.func,onDetailClick:g.default.func,onAddChildClick:g.default.func,onUpdateClick:g.default.func,onDeleteClick:g.default.func,showDetailBtn:g.default.oneOfType([g.default.func,g.default.bool]),showAddChildBtn:g.default.oneOfType([g.default.func,g.default.bool]),showUpdateBtn:g.default.oneOfType([g.default.func,g.default.bool]),showDeleteBtn:g.default.oneOfType([g.default.func,g.default.bool]),detailBtnDisabled:g.default.oneOfType([g.default.func,g.default.bool]),addChildBtnDisabled:g.default.oneOfType([g.default.func,g.default.bool]),updateBtnDisabled:g.default.oneOfType([g.default.func,g.default.bool]),deleteBtnDisabled:g.default.oneOfType([g.default.func,g.default.bool])};var P=O;t.default=P},oZFy:function(e,t,n){var r={"./AmdDocHOC/index.jsx":"xRbD","./AshowDemoHOC/index.jsx":"+GLa"};function o(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=a,e.exports=o,o.id="oZFy"},v5v4:function(e,t,n){"use strict";var r=n("K6wJ");Object.defineProperty(t,"__esModule",{value:!0}),t.ZpageWraperHOC=a,t.default=void 0;var o=r(n("6sYb"));function a(){return o.default}var d=a;t.default=d},vApo:function(e,t,n){"use strict";var r=n("K6wJ");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ZbgImage=void 0;var o=r(n("q8s6")),a=r(n("MAG/")),d=r(n("6iOh")),l=r(n("1rR9")),i=r(n("IPZl")),s=r(n("v6s4")),c=r(n("kRUu")),u=r(n("XcRB"));function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,i.default)(e);if(t){var o=(0,i.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,l.default)(this,n)}}n("dLwK");var p=function(e){(0,d.default)(n,e);var t=f(n);function n(){return(0,o.default)(this,n),t.apply(this,arguments)}return(0,a.default)(n,[{key:"render",value:function(){var e=this,t="z-bg-image-box z-flex-items-center ".concat(this.props.className?this.props.className:""," ").concat(this.props.url?"":"no-url");return s.default.createElement("div",{className:t,onClick:function(t){e.props.onClick&&e.props.onClick(t)},style:this.props.style},this.props.url?null:s.default.createElement("span",null,"无图片"),s.default.createElement("div",{className:"z-bg-image is-bg-".concat(this.props.position),style:{backgroundImage:"url(".concat(this.props.url,")")}}),this.props.children)}}]),n}(c.default);t.ZbgImage=p,p.propTypes={url:u.default.string,position:u.default.string,className:u.default.string,style:u.default.object,onClick:u.default.func},p.defaultProps={position:"center"};var h=p;t.default=h},vyFX:function(e,t,n){"use strict";var r=n("K6wJ");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("v6s4")),a=r(n("7CA7")),d=r(n("oHWW")),l=r(n("QIMZ")),i=d.default.AmdDocHOC,s=d.default.AshowDemoHOC,c=i(a.default,{ZeditorTreeHOCDemo:function(){var e=s(o.default.createElement(l.default,null),{openBtnName:"",scroll:!0});return o.default.createElement(e,null)}});t.default=c}}]);