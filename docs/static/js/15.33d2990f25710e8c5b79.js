(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"1xVk":function(e,n,r){"use strict";var t=r("/sSO");n.a=function(e,n,r,a){return n.includes("/sys")||(n="/webapi".concat(n)),t.g.httpAjax(e,n,r,a)}},"3OXX":function(e,n,r){e.exports=r("ZTnV")(13)},"40mi":function(e,n,r){"use strict";n.a={default:"#Web服务器相关配置\nserver.port=11110\nserver.context-path=/\n#数据连接配置\nspring.datasource.druid.url=jdbc:mysql://172.16.8.18:3306/uap?allowMultiQueries=true&useUnicode=true&characterEncoding=UTF-8&zeroDateTimeBehavior=convertToNull\nspring.datasource.druid.username=user\nspring.datasource.druid.password=admin@1\nspring.datasource.druid.driverClassName=com.mysql.jdbc.Driver\nspring.datasource.druid.initial-size=5\nspring.datasource.druid.maxActive=10\nspring.datasource.druid.minIdle=10\nspring.datasource.druid.validation-query=SELECT 'x' from dual\nspring.datasource.druid.test-while-idle=true\nspring.datasource.druid.time-between-eviction-runs-millis=10000\nspring.datasource.druid.min-evictable-idle-time-millis=300000\nspring.datasource.druid.poolPreparedStatements=true\nspring.datasource.druid.maxPoolPreparedStatementPerConnectionSize=20\nspring.datasource.druid.filters=stat,slf4j\nspring.datasource.druid.connectionProperties=druid.stat.mergeSql=true;druid.stat.slowSqlMillis=1000\nspring.datasource.druid.useGlobalDataSourceStat=true\n#Redis连接\nspring.redis.database=0\nspring.redis.host=172.16.8.18\nspring.redis.port=6379\nspring.redis.password=hyzs\nspring.redis.pool.maxActive=11\nspring.redis.pool.maxIdle=11\nspring.redis.pool.maxWait=-1\nspring.redis.pool.minIdle=0\n#json格式化\nspring.jackson.date-format=yyyy-MM-dd HH:mm:ss\nspring.jackson.time-zone=Asia/Shanghai\n#session共享\nspring.session.store-type=redis\n#文件上传\nspring.http.multipart.enabled=true\nspring.http.multipart.max-file-size=10MB\nspring.http.multipart.max-request-size=10MB\n#mybatis\nmybatis.configuration.mapUnderscoreToCamelCase=true\nmybatis.configuration.jdbcTypeForNull=NULL\n#日志\nlogging.level.com.hyzs=DEBUG\n#关闭\nendpoints.shutdown.enabled=true\nendpoints.shutdown.sensitive=false\n#分布助手配置\nlogging.pagehelper.helper-dialect=mysql\nlogging.pagehelper.reasonable=true\nlogging.pagehelper.support-methods-arguments=true\nlogging.pagehelper.params=count=countSql",dev:"#开发环境配置\n#数据连接配置\nspring.datasource.druid.url=jdbc:mysql://172.16.8.18:3306/uap?allowMultiQueries=true&useUnicode=true&characterEncoding=UTF-8&zeroDateTimeBehavior=convertToNull\nspring.datasource.druid.username=user\nspring.datasource.druid.password=admin@1\nspring.datasource.druid.initial-size=5\nspring.datasource.druid.maxActive=10\nspring.datasource.druid.minIdle=10\n\n#注册中心地址\neureka.client.service-url.defaultZone=http://172.16.8.20:8761/eureka\n\n#Redis连接\nspring.redis.database=0\nspring.redis.host=172.16.8.18\nspring.redis.port=6379\nspring.redis.password=hyzs\nspring.redis.pool.maxActive=11\nspring.redis.pool.maxIdle=11\nspring.redis.pool.maxWait=-1\nspring.redis.pool.minIdle=0",test:"#测试环境配置\n#数据连接配置\nspring.datasource.druid.url=jdbc:mysql://172.16.8.18:3306/uap?allowMultiQueries=true&useUnicode=true&characterEncoding=UTF-8&zeroDateTimeBehavior=convertToNull\nspring.datasource.druid.username=user\nspring.datasource.druid.password=admin@1\nspring.datasource.druid.initial-size=5\nspring.datasource.druid.maxActive=10\nspring.datasource.druid.minIdle=10\n\n#注册中心地址\neureka.client.service-url.defaultZone=http://172.16.8.20:8761/eureka\n\n#Redis连接\nspring.redis.database=0\nspring.redis.host=172.16.8.18\nspring.redis.port=6379\nspring.redis.password=hyzs\nspring.redis.pool.maxActive=11\nspring.redis.pool.maxIdle=11\nspring.redis.pool.maxWait=-1\nspring.redis.pool.minIdle=0",prod:"#生产环境配置\n#数据连接配置\nspring.datasource.druid.url=jdbc:mysql://172.16.8.18:3306/uap?allowMultiQueries=true&useUnicode=true&characterEncoding=UTF-8&zeroDateTimeBehavior=convertToNull\nspring.datasource.druid.username=user\nspring.datasource.druid.password=admin@1\nspring.datasource.druid.initial-size=5\nspring.datasource.druid.maxActive=10\nspring.datasource.druid.minIdle=10\n\n#注册中心地址\neureka.client.service-url.defaultZone=http://172.16.8.20:8761/eureka\n\n#Redis连接\nspring.redis.database=0\nspring.redis.host=172.16.8.18\nspring.redis.port=6379\nspring.redis.password=hyzs\nspring.redis.pool.maxActive=11\nspring.redis.pool.maxIdle=11\nspring.redis.pool.maxWait=-1\nspring.redis.pool.minIdle=0"}},"5WI2":function(e,n,r){"use strict";r.r(n);var t=r("/sSO");n.default={name:"config",apis:{getServiceList:function(e){return t.g.httpAjax("post","/webapi/v1.0/config/center/pageServiceInfo",e)},deleteService:function(e){return t.g.httpAjax("post","/webapi/v1.0/config/center/deleteServiceInfo",e)},addService:function(e){return t.g.httpAjax("post","/webapi/v1.0/config/center/addServiceConfig",e)},updateService:function(e){return t.g.httpAjax("post","/webapi/v1.0/config/center/updateServiceInfo",e)},getServiceDetail:function(e){return t.g.httpAjax("post","/webapi/v1.0/config/center/getServiceConfigDetail",e)},updateServiceConfig:function(e){return t.g.httpAjax("post","/webapi/v1.0/config/center/updateConfigProperty",e)}}}},Lwzs:function(e,n,r){"use strict";r.r(n);var t=r("1xVk");n.default={name:"scheduling",apis:{getList:function(){return Object(t.a)("post","/get/Zscheduling/list")}}}},O3gd:function(e,n,r){"use strict";r.r(n);var t=r("1xVk");n.default={name:"login",apis:{getUserInfo:function(){return Object(t.a)("post","/loginUserInfo")}}}},Revr:function(e,n,r){var t={"./area.api.js":"eAri","./config.api.js":"5WI2","./login.api.js":"O3gd","./scheduling.api.js":"Lwzs"};function a(e){var n=i(e);return r(n)}function i(e){if(!r.o(t,e)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t[e]}a.keys=function(){return Object.keys(t)},a.resolve=i,e.exports=a,a.id="Revr"},WiDR:function(e,n,r){"use strict";var t=r("M36X"),a=r.n(t),i=r("Revr"),s={},o=[];i.keys().forEach(function(e){var n=void 0;try{n=i(e).default}catch(n){throw Error("".concat(e,":").concat(n))}if(void 0===n||"object"!==a()(n))throw Error("".concat(e,":内没有 export default 或者export default格式有误 "));if("object"!=a()(n.apis))throw Error("".concat(e,":apis不是object"));var r=n.name;if("string"!=typeof r)throw Error("".concat(e,":缺少name属性"));if(r=r.trim(),o.includes(r))throw Error("".concat(e,":").concat(r,"此命名空间已被使用"));o.push(r),s[r]=n.apis}),n.a=s},eAri:function(e,n,r){"use strict";r.r(n);var t=r("1xVk");n.default={name:"area",apis:{getChildList:function(e){return Object(t.a)("get","/mzfwjg/sys/areas/".concat(e.id,"/children"))}}}},s1ms:function(e,n,r){"use strict";r.r(n);var t=r("eYSq"),a=r("hsk9"),i=r.n(a),s=r("49r3"),o=r("8c8O"),c=r("uqIC"),d=r.n(c),u=r("WiDR"),l=r("4QcI"),p=r("MDOJ"),g=r.n(p),m=r("60c8"),f=r("/sSO"),v=r("lRmw"),h=r("40mi"),b=r("MaNN"),y=r("VQbk"),C=r("+Qac"),k=r("aLtU"),w=r.n(k),x=r("2x50"),E=r.n(x),I=r("gEKl"),P=r.n(I),S=r("HTqB"),T=r.n(S),j=r("DLeZ"),A=r.n(j),z=r("EH+i"),D=r.n(z),N=function(e){function n(){var e,r;w()(this,n);for(var t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];return(r=P()(this,(e=T()(n)).call.apply(e,[this].concat(a)))).methods={saveData:function(e,n){return r.props.showModalLoading(!0),u.a.config.updateServiceConfig({configProperty:n.confProperty,environment:e.key,serviceId:e.serviceId}).then(function(e){s.a.success("更新配置成功")}).catch(function(e){s.a.error(e&&e.msg?e.msg:"更新配置失败")}).finally(function(){r.props.showModalLoading(!1)})}},r.tabContent=function(e){return d.a.createElement(C.b,{items:r.props.formItems,formDefaultValues:{confProperty:e.serviceConfig.confProperty},onSubmit:function(n){return r.methods.saveData(e,n)}})},r.defaultTabPanes=[{tab:"默认环境",key:"default",serviceConfig:{},content:r.tabContent},{tab:"开发环境",key:"dev",serviceConfig:{},content:r.tabContent},{tab:"测试环境",key:"test",serviceConfig:{},content:r.tabContent},{tab:"生产环境",key:"prod",serviceConfig:{},content:r.tabContent}],r}return A()(n,e),E()(n,[{key:"getTabPanes",value:function(e){var n=this.props.data;return n&&n.cfgcPropertyDOList?e.map(function(e,r){e.serviceId=n.serviceId;for(var t=n.cfgcPropertyDOList,a=0;a<t.length;a++)if(e.key===t[a].environment){e.serviceConfig=t[a];break}return e}):[]}},{key:"render",value:function(){var e=this.getTabPanes(this.defaultTabPanes);return d.a.createElement("div",{className:"z-panel z-margin-top-20"},d.a.createElement("div",{className:"z-panel-heading"},"修改配置信息"),d.a.createElement("div",{className:"z-panel-body"},d.a.createElement(y.a,{tabPanes:e})))}}]),n}(d.a.PureComponent);N.propTypes={data:D.a.object,formItems:D.a.arrayOf(D.a.object)};var O=b.a.setConsumer(N);var B=function(e){var n=e.pageType,r=e.headerTitle,t=e.headerContent,a=e.afterSubmitSuccess,s=[{key:"quick",label:"快捷操作",render:function(e){return d.a.createElement(v.a,{onClick:function(){e.setFieldsValue({confProperty:h.a.default})}},"模板配置")}},{key:"confProperty",label:"默认配置",render:function(e){return d.a.createElement(o.a.TextArea,{rows:15,placeholder:"请输入默认配置",ref:function(e){f.g.scrollDisableWheel(e.textAreaRef)}})},options:{rules:[{required:!0,message:"不能为空。"}]}}],c=[{key:"serviceCode",label:"服务编码",render:function(e){return d.a.createElement(o.a,{placeholder:"请输入服务编码"})},options:{rules:[{required:!0,message:"不能为空。"}]}},{key:"serviceName",label:"服务名称",render:function(e){return d.a.createElement(o.a,{placeholder:"请输入服务名称"})},options:{rules:[{required:!0,message:"不能为空。"}]}},{key:"serviceRemark",label:"服务说明",render:function(e){return d.a.createElement(o.a.TextArea,{rows:2,placeholder:"请输入服务说明"})},options:{rules:[{required:!0,message:"不能为空。"}]}},{key:"servicePort",detailKey:"serviceProt",label:"端口号",render:function(e){return d.a.createElement(m.a,{min:11110,max:65535,step:10})},options:{rules:[{required:!0,message:"不能为空。"}]}}];"add"===n&&(c=[].concat(g()(c),s));var p={pageHeader:{show:!0,title:r,content:t,rightMoreContent:null},form:{type:n,panelHeader:"add"===n?"新增服务信息":"修改基础信息",items:c,detailApiInterface:function(e,n){return u.a.config.getServiceDetail({serviceId:e})},submitApiInterface:function(e,r){return"add"===n?u.a.config.addService(i()({},e,{environment:"default"})):u.a.config.updateService(i()({},e,{serviceId:r.detailId}))},afterSubmitSuccess:a}};return"update"===n&&(p.moreContentRender=function(e){return d.a.createElement(O,{data:e,formItems:s})}),Object(l.a)(p)},R=r("fdRb"),q=function(e){function n(){var e,r;w()(this,n);for(var t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];return(r=P()(this,(e=T()(n)).call.apply(e,[this].concat(a)))).getConfig=function(e){return e?d.a.createElement("div",{style:{background:"#2B2B2B",padding:16}},e.split("\n").map(function(e,n){var r=e;if(e.startsWith("#"))r=d.a.createElement("span",{style:{color:"#629755"}},e);else if(e.indexOf("=")>0){var t=e.indexOf("="),a=e.substring(0,t),i=e.substring(t+1,e.length);r=d.a.createElement("span",null,d.a.createElement("span",{style:{color:"#9876AA"}},a),d.a.createElement("span",{style:{color:"rgba(255,255,255,0.85)"}},"="),d.a.createElement("span",{style:{color:"#BABABA"}},i))}return d.a.createElement("div",{key:"".concat(e,"-").concat(n)},r)})):d.a.createElement("div",{className:"z-text-center z-text-gray"},"无相关配置信息")},r.tabContent=function(e){return r.getConfig(e.serviceConfig.confProperty)},r.defaultTabPanes=[{tab:"默认环境",key:"default",serviceConfig:{},content:r.tabContent},{tab:"开发环境",key:"dev",serviceConfig:{},content:r.tabContent},{tab:"测试环境",key:"test",serviceConfig:{},content:r.tabContent},{tab:"生产环境",key:"prod",serviceConfig:{},content:r.tabContent}],r}return A()(n,e),E()(n,[{key:"getTabPanes",value:function(e){var n=this.props.data;return n&&n.cfgcPropertyDOList?e.map(function(e,r){e.serviceId=n.serviceId;for(var t=n.cfgcPropertyDOList,a=0;a<t.length;a++)if(e.key===t[a].environment){e.serviceConfig=t[a];break}return e}):[]}},{key:"render",value:function(){var e=this.getTabPanes(this.defaultTabPanes);return d.a.createElement("div",{className:"z-panel z-margin-top-20"},d.a.createElement("div",{className:"z-panel-heading"},"配置信息"),d.a.createElement("div",{className:"z-panel-body"},d.a.createElement(y.a,{tabPanes:e})))}}]),n}(d.a.PureComponent);q.propTypes={data:D.a.object};var L=b.a.setConsumer(q);var M=function(e){var n={pageHeader:{show:!0,breadcrumbRoutes:null,title:e.headerTitle,content:e.headerContent,rightMoreContent:d.a.createElement("div",null,"右边")},detail:{panelHeader:"基础信息",items:[{key:"serviceName",label:"服务名称"},{key:"serviceCode",label:"服务编码"},{key:"serviceProt",label:"约定端口号",render:function(e,n){return d.a.createElement("span",{className:"z-text-red"},e)}},{key:"serviceRemark",label:"服务描述",span:{lg:12},render:function(e,n){return e}}],detailApiInterface:function(e,n){return u.a.config.getServiceDetail({serviceId:e})}},moreContentRender:function(e){return d.a.createElement(L,{data:e})}};return Object(R.a)(n)},U={pageHeader:{show:!0,title:"服务配置",content:"微服务的定义，维护其配置。除了Eureka Service及Config Center两种服务不在这里配置，其他服务都必须在此定义和配置！",rightMoreContent:d.a.createElement("div",null,"右边内容")},searchForm:{items:[{key:"serviceCode",label:"服务编码",render:function(e){return d.a.createElement(o.a,{placeholder:"请输入内容"})}},{key:"serviceName",label:"服务名称",render:function(e){return d.a.createElement(o.a,{placeholder:"请输入内容"})}}]},list:{listType:"table",cardCoverRender:null,panelHeader:"列表",actionDataIndex:"serviceName",tableParams:{onChange:function(e,n,r){console.log(r)},expandedRowRender:function(e,n,r,t){return console.log(r),d.a.createElement("div",null,n+"-"+t)}},tableColumns:[{title:"服务名称",dataIndex:"serviceName"},{title:"服务编码",dataIndex:"serviceCode",sorter:!0},{title:"约定端口号",dataIndex:"servicePort",render:function(e,n,r,t){return d.a.createElement("span",{className:"z-text-red"},e)}},{title:"服务描述",dataIndex:"remark"}],showAddBtn:!0,addBtnPermCode:"",addPageRender:function(e){var n=B({pageType:"add",headerTitle:"新增服务配置",headerContent:"新增一个服务,需要录入服务编码服务名称端口号等信息",afterSubmitSuccess:function(n){e.methods.getListData(),n()}});return d.a.createElement(n,null)},showDetailBtn:!0,detailBtnPermCode:"",detailPageRender:function(e){var n=M({headerTitle:e.serviceName,headerContent:e.remark});return d.a.createElement(n,{detailId:e.id})},showUpdateBtn:!0,updateBtnPermCod:"",updatePageRender:function(e,n){var r=B({pageType:"update",headerTitle:e.serviceName,headerContent:e.remark,afterSubmitSuccess:function(e){n.methods.getListData()}});return d.a.createElement(r,{detailId:e.id})},showDeleteBtn:!0,deleteBtnPermCod:"",moreBtnMap:[{key:"0",name:"默认的按钮"}],onMoreBtnClick:function(e,n){s.a.success("您当前点击的是[".concat(n.serviceName,"]这条数据"))},listApiInterface:function(e){return u.a.config.getServiceList(i()(e,{servcieName:e.serviceName}))},deleteApiInterface:function(e){return u.a.config.deleteService({id:e.id})},showPagination:!0,paginationType:"paging"}};n.default=Object(t.a)(U)},zJ9V:function(e,n,r){e.exports=r("ZTnV")(8)}}]);
//# sourceMappingURL=15.33d2990f25710e8c5b79.js.map