{"version":3,"sources":["webpack:///./node_modules/zerod/components/zTool/Promise-extend.js","webpack:///./node_modules/zerod/components/zTool/httpAjax.js","webpack:///./node_modules/zerod/components/zTool/ResizeSensor.js","webpack:///./node_modules/zerod/components/zTool/index.js","webpack:///./node_modules/zerod/components/ZerodRootContext.js","webpack:///./node_modules/zerod/components/ZappHOC/index.jsx","webpack:///./node_modules/zerod/components/ZpureComponent.jsx","webpack:///./node_modules/zerod-ztool/index.js"],"names":["prototype","done","onFulfilled","onRejected","then","catch","reason","setTimeout","finally","callback","P","constructor","value","resolve","formatNumber","str","t","toString","length","GenNonDuplicateID","randomLength","id","Number","Math","random","substr","getAuth","token","key","md5Key","md5","md5Token","index","element","Base64","encode","getChannel","Auth","uuid","uuidv4","date","Date","year","getFullYear","month","getMonth","day","getDate","hour","getHours","minute","getMinutes","second","getSeconds","Msecond","getUTCMilliseconds","tmp","signature","getHeaders","userinfo","JSON","parse","localStorage","getItem","e","userDO","httpAjax","method","url","query","config","noCallback","msgAlert","window","globalMsgError","alert","headers","Object","call","toLowerCase","params","data","location","assign","map","join","axios","promise","reject","result","code","msg","ResizeSensor","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","fn","forEachElement","elements","elementsType","isCollectionTyped","jQuery","Elements","i","j","getElementSize","getBoundingClientRect","width","offsetWidth","height","offsetHeight","rect","round","EventQueue","q","add","ev","push","remove","newQueue","attachResizeEvent","resized","resizedAttached","resizeSensor","document","createElement","dir","className","style","styleChild","cssText","innerHTML","appendChild","position","getComputedStyle","getPropertyValue","expand","childNodes","expandChild","shrink","dirty","rafId","newWidth","newHeight","size","lastWidth","lastHeight","reset","invisible","saveDisplay","display","scrollLeft","scrollTop","resetSensor","onResized","onScroll","addEvent","el","name","cb","attachEvent","addEventListener","elem","detach","contains","removeChild","Ajax","IScrollInstance","opt","defaultopt","disableMouse","disablePointer","disableTouch","bounce","click","scrollX","scrollY","mouseWheel","preventDefault","bindToWrapper","eventPassthrough","scrollbars","interactiveScrollbars","shrinkScrollbars","momentum","mouseWheelSpeed","invertWheelDirection","ztool","dataTypeTest","IScroll","BuildScroll","scroll","nextScrollToTop","refresh","scrollTo","bind","canscroll","timer","wheelhandle","scrollElement","target","includes","getStyle","parentElement","bindingWheelScroll","scrollDisableWheel","wrapperHeight","y","scrollerHeight","stopPropagation","clearTimeout","wrapper","scrollEnd","onWheel","delta","deltaY","wheelDeltaY","clientHeight","scrollHeight","on","listenDivSizeChange","scrollFun","debounce","IntroInstance","loadFileList","introJs","intro","setOptions","nextLabel","prevLabel","doneLabel","skipLabel","disableInteraction","showProgress","exitOnOverlayClick","showStepNumbers","showBullets","exitOnEsc","mergeConfig","defaultConfig","theConfig","merge","deepCopy","zTool","defaultValue","context","React","createContext","Provider","Consumer","setConsumer","ChildComponent","props","forwardedRef","ZpureComponent","moment","locale","fistLoad","hasPaceWatch","Pace","restart","ZappHOC","pageConfig","rootRoutes","footerLinks","footerCopyright","routerType","responseKeys","listType","list","totalCount","totalPage","App","routes","item","redirect","path","to","exact","component","Router","BrowserRouter","HashRouter","zh_CN","diff_Prev_Next","prev","next","dataType","isObject","propsKeys","should","isFunction","test","nextProps","nextState","state","Component","classcodes","loadFile","FileIsExt","ThisType","GetFileType","fileObj","src","href","type","rel","onload","onreadystatechange","readyState","getElementsByTagName","lasindex","lastIndexOf","FileArray","_url","len","_files","isSequence","split","LoadedCount","shift","isServer","SPECIAL_CHARS_REGEXP","MOZ_HACK_REGEXP","ieVersion","documentMode","trim","string","replace","camelCase","_","separator","letter","offset","toUpperCase","hasListenerEvents","onNoRepeatEvent","event","handler","hasBanded","off","splice","removeEventListener","detachEvent","once","listener","apply","arguments","hasClass","cls","indexOf","Error","classList","addClass","curClass","classes","clsName","removeClass","styleName","filters","opacity","currentStyle","computed","defaultView","setStyle","prop","hasOwnProperty","filter","isNaN","firstWordToUpperCase","L","data_types","array","object","number","boolean","null","undefined","function","symbol","set","Map","regExp","json","forEach","types","hasType","search","deepCopyObject","obj","newobj","getTime","deepCopyArray","newarray","arrayFilterFn","property","itemtype","hasItem","arrayFilterBy","concat","formatDate","time","format","ft","newdate","addZero","setTimes","fts","newTime","timeFtsLen","EetoString","num","reg","arr","zerod","exec","abs","filterQuery","permissiveKys","newQuery","parseQueryString","isUrl","searchurl","reg_url","reg_para","arr_url","ret","str_para","checkDevices","userAgent","global","navigator","accMul","arg1","arg2","m","s1","s2","digitUppercase","n","fraction","digit","unit","s","floor","p","startHttpReg","isHttpStart","formatterMapKey","mapKey","parentPath","notParPath","iconClass","children","newData","parPath","itemsFromTree","tree","sourceItem","keyObj","action","parentItem","condition","finished","currentItem","removeItemFromTree","replaceItemFromTree","pushItemToTree","unshiftItemToTree","unshift","insertBeforeItemFromTree","insertAfterItemFromTree","isWhiteColor","turnMapKeys","srcMapKeys","label","distMapKeys","extands","newItem","turnLabelOrValue","valueArr","toDist","dist","parValueArr","newValueArr"],"mappings":"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","file":"static/js/5.2447437a7d48c38b4257.js","sourcesContent":["// const promise = new Promise(function(resolve, reject) {\r\n//     // ... some code\r\n  \r\n//     if (/* 异步操作成功 */){\r\n//       resolve(value);\r\n//     } else {\r\n//       reject(error);\r\n//     }\r\n//   });\r\n// Promise.prototype.then() \r\n// Promise.prototype.catch()\r\n// Promise.race()\r\n// Promise.resolve()\r\n// Promise.reject()\r\n\r\n// Promise除了以上原生自带的方法外，我们还可以扩展一些很有用的方法\r\n// Promise 对象的回调链，不管以then方法或catch方法结尾，要是最后一个方法抛出错误，都有可能无法捕捉到（因为 Promise 内部的错误不会冒泡到全局）。因此，我们可以提供一个done方法，总是处于回调链的尾端，保证抛出任何可能出现的错误。\r\nPromise.prototype.done = function (onFulfilled, onRejected) {\r\n    this.then(onFulfilled, onRejected)\r\n      .catch(function (reason) {\r\n        // 抛出一个全局错误\r\n        setTimeout(() => { throw reason }, 0);\r\n      });\r\n  };\r\n//   finally方法用于指定不管 Promise 对象最后状态如何，都会执行的操作。它与done方法的最大区别，它接受一个普通的回调函数作为参数，该函数不管怎样都必须执行。\r\nPromise.prototype.finally = function (callback) {\r\n    let P = this.constructor;\r\n    return this.then(\r\n      value  => P.resolve(callback()).then(() => value),\r\n      reason => P.resolve(callback()).then(() => { throw reason })\r\n    );\r\n  };","import \"./Promise-extend.js\";\r\nimport axios from \"axios\";\r\nimport uuidv4 from \"uuid/v4\";\r\nimport { Base64 } from \"js-base64\";\r\nimport md5 from \"blueimp-md5\";\r\n\r\nfunction formatNumber(str, t = 2) {\r\n\tstr = str.toString();\r\n\twhile (str.length < t) {\r\n\t\tstr = \"0\" + str;\r\n\t}\r\n\treturn str;\r\n}\r\n//随机产生不重复id\r\nfunction GenNonDuplicateID(randomLength = 8) {\r\n\tlet id = Number(\r\n\t\tMath.random()\r\n\t\t\t.toString()\r\n\t\t\t.substr(3, randomLength) + Date.now(),\r\n\t).toString();\r\n\treturn id;\r\n}\r\n//生成与后台协定的 X-Auth-Info\r\nfunction getAuth(token = \"123\") {\r\n\tconst key = GenNonDuplicateID().toString();\r\n\tconst md5Key = md5(key);\r\n\tconst md5Token = md5(token);\r\n\tlet str = \"\";\r\n\tfor (let index = 0; index < md5Key.length; index += 2) {\r\n\t\tconst element = md5Key[index];\r\n\t\tstr += element;\r\n\t}\r\n\treturn `${md5Token},${key},${Base64.encode(`${md5Token}${str}`)}`;\r\n}\r\n//生成与后台协定的 X-Channel-Info\r\nfunction getChannel(Auth) {\r\n\tconst uuid = uuidv4();\r\n\t// console.log(\"uuid\", uuid);\r\n\tconst date = new Date();\r\n\tconst year = date.getFullYear();\r\n\tconst month = date.getMonth() + 1;\r\n\tconst day = date.getDate();\r\n\tconst hour = date.getHours();\r\n\tconst minute = date.getMinutes();\r\n\tconst second = date.getSeconds();\r\n\tconst Msecond = date.getUTCMilliseconds();\r\n\tconst str = `${year}${formatNumber(month)}${formatNumber(day)}${formatNumber(hour)}${formatNumber(\r\n\t\tminute,\r\n\t)}${formatNumber(second)}${formatNumber(Msecond, 3)}`;\r\n\t// console.log(\"timer\", str);\r\n\tconst tmp = `${uuid},${str},${md5(Auth)}`;\r\n\tconst signature = Base64.encode(tmp);\r\n\treturn `${uuid},${str},${signature}`;\r\n}\r\n\r\nfunction getHeaders() {\r\n\tlet userinfo = {};\r\n\ttry {\r\n\t\tuserinfo = JSON.parse(localStorage.getItem(\"main_save_userInfo\"));\r\n\t} catch (e) {}\r\n\tif (userinfo && userinfo.token) {\r\n\t\tconst Auth = getAuth(userinfo.token);\r\n\t\treturn {\r\n\t\t\t\"X-Token\": userinfo.token,\r\n\t\t\t\"X-Auth-Info\": Auth,\r\n\t\t\t\"X-Channel-Info\": getChannel(Auth),\r\n\t\t\t\"X-UserId\": userinfo.userDO ? userinfo.userDO.id : \"\",\r\n\t\t};\r\n\t}\r\n\treturn null;\r\n}\r\n\r\n// import {const_notification} from '../constant';\r\n/**\r\n *\r\n * @param {string} method //get || post || put    .....\r\n * @param {string} url\r\n * @param {object} query //接口参数，key，value 对应\r\n * @param {object} config //可配置请求头等，请看下面的config注释\r\n */\r\nfunction httpAjax(method, url, query, config, noCallback) {\r\n\t//请求错误弹出提示框方法\r\n\tconst msgAlert = typeof window.globalMsgError === \"function\" ? window.globalMsgError : window.alert;\r\n\tconfig = config ? config : {};\r\n\tconst headers = getHeaders();\r\n\tif (headers) {\r\n\t\tconfig = {\r\n\t\t\t...config,\r\n\t\t\theaders: {\r\n\t\t\t\t...(Object.prototype.toString.call(config.headers) == \"[object Object]\" ? config.headers : {}),\r\n\t\t\t\t...headers,\r\n\t\t\t},\r\n\t\t};\r\n\t}\r\n\tmethod = method.toLowerCase(); //转小写\r\n\tswitch (method) {\r\n\t\tcase \"get\":\r\n\t\t\t//将get||delete请求传参处理成与post传参方式一致\r\n\t\t\tconfig = Object.assign(config, { params: query });\r\n\t\t\tbreak;\r\n\t\tcase \"delete\":\r\n\t\t\tconfig = Object.assign(config, { data: query });\r\n\t\t\tbreak;\r\n\t\tcase \"location\":\r\n\t\t\twindow.location.assign(url);\r\n\t\t\treturn;\r\n\t\tcase \"url\":\r\n\t\t\treturn url;\r\n\t\tcase \"url-promise\":\r\n\t\t\treturn Promise.resolve(url);\r\n\t\tcase \"post-params\":\r\n\t\t\tmethod = \"post\";\r\n\t\t\tquery =\r\n\t\t\t\ttypeof query == \"string\"\r\n\t\t\t\t\t? query\r\n\t\t\t\t\t: Object.keys(query)\r\n\t\t\t\t\t\t\t.map(key => {\r\n\t\t\t\t\t\t\t\treturn `${key}=${query[key]}`;\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.join(\"&\");\r\n\t\t\tbreak;\r\n\t}\r\n\tlet P = null;\r\n\tswitch (method) {\r\n\t\tcase \"get\":\r\n\t\t\tP = axios[method](url, config);\r\n\t\t\tbreak;\r\n\t\tcase \"delete\":\r\n\t\t\tP = axios[method](url, config);\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\tP = axios[method](url, query, config);\r\n\t}\r\n\tlet promise = noCallback\r\n\t\t? P\r\n\t\t: new Promise((resolve, reject) => {\r\n\t\t\t\tP &&\r\n\t\t\t\t\tP.then(result => {\r\n\t\t\t\t\t\tif (result.data && (result.data.code === -1 || result.data.code === 500)) {\r\n\t\t\t\t\t\t\tconst msg = result.data.msg || result.data.data || \"请求错误\";\r\n\t\t\t\t\t\t\tmsgAlert(msg);\r\n\t\t\t\t\t\t\treject(result.data);\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (result.data && result.data.code == 403403) {\r\n\t\t\t\t\t\t\tmsgAlert(result.data.msg ? result.data.msg : \"用户未登录或身份已过期\");\r\n\t\t\t\t\t\t\treject(result.data);\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// 后台请求返回的code=0是操作成功\r\n\t\t\t\t\t\tresult.data && result.data.code === 0 ? resolve(result.data) : reject(result.data);\r\n\t\t\t\t\t}).catch(result => {\r\n\t\t\t\t\t\t// if (result.response.data.status === 499) {\r\n\t\t\t\t\t\t// \tif (window.rootVue) {\r\n\t\t\t\t\t\t// \t\twindow.rootVue.$message.error(\"您的账号在别的地方登录\");\r\n\t\t\t\t\t\t// \t\twindow.rootVue.$router.replace({ name: \"login\" });\r\n\t\t\t\t\t\t// \t}\r\n\t\t\t\t\t\t// \treturn;\r\n\t\t\t\t\t\t// }\r\n\t\t\t\t\t\t// if (result.response.data.status === 403) {\r\n\t\t\t\t\t\t// \tif (window.rootVue) {\r\n\t\t\t\t\t\t// \t\twindow.rootVue.$message.error(\"登录过期，重新登录\");\r\n\t\t\t\t\t\t// \t\twindow.rootVue.$router.replace({ name: \"login\" });\r\n\t\t\t\t\t\t// \t}\r\n\t\t\t\t\t\t// \treturn;\r\n\t\t\t\t\t\t// }\r\n\t\t\t\t\t\treject(result.data);\r\n\t\t\t\t\t});\r\n\t\t  });\r\n\treturn promise;\r\n}\r\nexport default httpAjax;\r\n// axios.interceptors.response.use(\r\n// \tfunction(response) {\r\n//         return Promise.reject(response.data);\r\n// \t\t// return response.data.code === 0 ? response.data : Promise.reject(response.data);\r\n// \t},\r\n// \tfunction(error) {\r\n//         console.log(error)\r\n// \t\t// Do something with response error\r\n// \t\treturn error;\r\n// \t},\r\n// );\r\n\r\n/* axios.request(config)\r\naxios.get(url[, config])\r\naxios.delete(url[, config])\r\naxios.head(url[, config])\r\naxios.post(url[, data[, config]])\r\naxios.put(url[, data[, config]])\r\naxios.patch(url[, data[, config]]) */\r\n\r\n//config\r\n/* {\r\n    //请求的接口，在请求的时候，如axios.get(url,config);这里的url会覆盖掉config中的url\r\n    url: '/user',\r\n\r\n    // 请求方法，同上\r\n    method: 'get', // default\r\n    // 基础url前缀\r\n    baseURL: 'https://some-domain.com/api/',\r\n\r\n\r\n    transformRequest: [function (data) {\r\n      // 这里可以在发送请求之前对请求数据做处理，比如form-data格式化等，这里可以使用开头引入的Qs（这个模块在安装axios的时候就已经安装了，不需要另外安装）\r\n  　　data = Qs.stringify({});\r\n      return data;\r\n    }],\r\n\r\n    transformResponse: [function (data) {\r\n      // 这里提前处理返回的数据\r\n\r\n      return data;\r\n    }],\r\n\r\n    // 请求头信息\r\n    headers: {'X-Requested-With': 'XMLHttpRequest'},\r\n\r\n    //parameter参数\r\n    params: {\r\n      ID: 12345\r\n    },\r\n\r\n    //post参数，使用axios.post(url,{},config);如果没有额外的也必须要用一个空对象，否则会报错\r\n    data: {\r\n      firstName: 'Fred'\r\n    },\r\n\r\n    //设置超时时间\r\n    timeout: 1000,\r\n    //返回数据类型\r\n    responseType: 'json', // default\r\n\r\n\r\n  } */\r\n","'use strict';\n\nexport const ResizeSensor=(function() {\n\n    // Make sure it does not throw in a SSR (Server Side Rendering) situation\n    if (typeof window === \"undefined\") {\n        return null;\n    }\n    // Only used for the dirty checking, so the event callback count is limited to max 1 call per fps per sensor.\n    // In combination with the event based resize sensor this saves cpu time, because the sensor is too fast and\n    // would generate too many unnecessary events.\n    var requestAnimationFrame = window.requestAnimationFrame ||\n        window.mozRequestAnimationFrame ||\n        window.webkitRequestAnimationFrame ||\n        function (fn) {\n            return window.setTimeout(fn, 20);\n        };\n\n    /**\n     * Iterate over each of the provided element(s).\n     *\n     * @param {HTMLElement|HTMLElement[]} elements\n     * @param {Function}                  callback\n     */\n    function forEachElement(elements, callback){\n        var elementsType = Object.prototype.toString.call(elements);\n        var isCollectionTyped = ('[object Array]' === elementsType\n            || ('[object NodeList]' === elementsType)\n            || ('[object HTMLCollection]' === elementsType)\n            || ('[object Object]' === elementsType)\n            || ('undefined' !== typeof jQuery && elements instanceof jQuery) //jquery\n            || ('undefined' !== typeof Elements && elements instanceof Elements) //mootools\n        );\n        var i = 0, j = elements.length;\n        if (isCollectionTyped) {\n            for (; i < j; i++) {\n                callback(elements[i]);\n            }\n        } else {\n            callback(elements);\n        }\n    }\n\n    /**\n    * Get element size\n    * @param {HTMLElement} element\n    * @returns {Object} {width, height}\n    */\n    function getElementSize(element) {\n        if (!element.getBoundingClientRect) {\n            return {\n                width: element.offsetWidth,\n                height: element.offsetHeight\n            }\n        }\n\n        var rect = element.getBoundingClientRect();\n        return {\n            width: Math.round(rect.width),\n            height: Math.round(rect.height)\n        }\n    }\n\n    /**\n     * Class for dimension change detection.\n     *\n     * @param {Element|Element[]|Elements|jQuery} element\n     * @param {Function} callback\n     *\n     * @constructor\n     */\n    var ResizeSensor = function(element, callback) {\n        /**\n         *\n         * @constructor\n         */\n        function EventQueue() {\n            var q = [];\n            this.add = function(ev) {\n                q.push(ev);\n            };\n\n            var i, j;\n            this.call = function() {\n                for (i = 0, j = q.length; i < j; i++) {\n                    q[i].call();\n                }\n            };\n\n            this.remove = function(ev) {\n                var newQueue = [];\n                for(i = 0, j = q.length; i < j; i++) {\n                    if(q[i] !== ev) newQueue.push(q[i]);\n                }\n                q = newQueue;\n            };\n\n            this.length = function() {\n                return q.length;\n            }\n        }\n\n        /**\n         *\n         * @param {HTMLElement} element\n         * @param {Function}    resized\n         */\n        function attachResizeEvent(element, resized) {\n            if (!element) return;\n            if (element.resizedAttached) {\n                element.resizedAttached.add(resized);\n                return;\n            }\n\n            element.resizedAttached = new EventQueue();\n            element.resizedAttached.add(resized);\n\n            element.resizeSensor = document.createElement('div');\n            element.resizeSensor.dir = 'ltr';\n            element.resizeSensor.className = 'resize-sensor';\n            var style = 'position: absolute; left: -10px; top: -10px; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;';\n            var styleChild = 'position: absolute; left: 0; top: 0; transition: 0s;';\n\n            element.resizeSensor.style.cssText = style;\n            element.resizeSensor.innerHTML =\n                '<div class=\"resize-sensor-expand\" style=\"' + style + '\">' +\n                    '<div style=\"' + styleChild + '\"></div>' +\n                '</div>' +\n                '<div class=\"resize-sensor-shrink\" style=\"' + style + '\">' +\n                    '<div style=\"' + styleChild + ' width: 200%; height: 200%\"></div>' +\n                '</div>';\n            element.appendChild(element.resizeSensor);\n\n            var position = window.getComputedStyle(element).getPropertyValue('position');\n            if ('absolute' !== position && 'relative' !== position && 'fixed' !== position) {\n                element.style.position = 'relative';\n            }\n\n            var expand = element.resizeSensor.childNodes[0];\n            var expandChild = expand.childNodes[0];\n            var shrink = element.resizeSensor.childNodes[1];\n            var dirty, rafId, newWidth, newHeight;\n            var size = getElementSize(element);\n            var lastWidth = size.width;\n            var lastHeight = size.height;\n\n            var reset = function() {\n                //set display to block, necessary otherwise hidden elements won't ever work\n                var invisible = element.offsetWidth === 0 && element.offsetHeight === 0;\n\n                if (invisible) {\n                    var saveDisplay = element.style.display;\n                    element.style.display = 'block';\n                }\n\n                expandChild.style.width = '100000px';\n                expandChild.style.height = '100000px';\n\n                expand.scrollLeft = 100000;\n                expand.scrollTop = 100000;\n\n                shrink.scrollLeft = 100000;\n                shrink.scrollTop = 100000;\n\n                if (invisible) {\n                    element.style.display = saveDisplay;\n                }\n            };\n            element.resizeSensor.resetSensor = reset;\n\n            var onResized = function() {\n                rafId = 0;\n\n                if (!dirty) return;\n\n                lastWidth = newWidth;\n                lastHeight = newHeight;\n\n                if (element.resizedAttached) {\n                    element.resizedAttached.call();\n                }\n            };\n\n            var onScroll = function() {\n                var size = getElementSize(element);\n                var newWidth = size.width;\n                var newHeight = size.height;\n                dirty = newWidth != lastWidth || newHeight != lastHeight;\n\n                if (dirty && !rafId) {\n                    rafId = requestAnimationFrame(onResized);\n                }\n\n                reset();\n            };\n\n            var addEvent = function(el, name, cb) {\n                if (el.attachEvent) {\n                    el.attachEvent('on' + name, cb);\n                } else {\n                    el.addEventListener(name, cb);\n                }\n            };\n\n            addEvent(expand, 'scroll', onScroll);\n            addEvent(shrink, 'scroll', onScroll);\n            \n\t\t\t// Fix for custom Elements\n\t\t\trequestAnimationFrame(reset);\n        }\n\n        forEachElement(element, function(elem){\n            attachResizeEvent(elem, callback);\n        });\n\n        this.detach = function(ev) {\n            ResizeSensor.detach(element, ev);\n        };\n\n        this.reset = function() {\n            element.resizeSensor.resetSensor();\n        };\n    };\n\n    ResizeSensor.reset = function(element, ev) {\n        forEachElement(element, function(elem){\n            elem.resizeSensor.resetSensor();\n        });\n    };\n\n    ResizeSensor.detach = function(element, ev) {\n        forEachElement(element, function(elem){\n            if (!elem) return;\n            if(elem.resizedAttached && typeof ev === \"function\"){\n                elem.resizedAttached.remove(ev);\n                if(elem.resizedAttached.length()) return;\n            }\n            if (elem.resizeSensor) {\n                if (elem.contains(elem.resizeSensor)) {\n                    elem.removeChild(elem.resizeSensor);\n                }\n                delete elem.resizeSensor;\n                delete elem.resizedAttached;\n            }\n        });\n    };\n\n    return ResizeSensor;\n\n})();\n\nexport default ResizeSensor;","import IScroll from \"iscroll\";\r\n// import moment from \"moment\";\r\nimport Ajax from \"./httpAjax\";\r\nimport debounce from \"lodash.debounce\";\r\nimport ResizeSensor from \"./ResizeSensor\";\r\nimport merge from \"lodash.merge\";\r\nexport const httpAjax = Ajax;\r\nexport {\r\n\tgetStyle,\r\n\tsetStyle,\r\n\thasClass,\r\n\taddClass,\r\n\tremoveClass,\r\n\ton,\r\n\toff,\r\n\tonce,\r\n\tdataTypeTest,\r\n\tdeepCopyObject,\r\n\tdeepCopyArray,\r\n\tdeepCopy,\r\n\tformatDate,\r\n\tGenNonDuplicateID,\r\n\tarrayFilterBy,\r\n\tEetoString,\r\n\tonNoRepeatEvent,\r\n\tfilterQuery,\r\n\tparseQueryString,\r\n\tformatterMapKey,\r\n\tisUrl,\r\n\tcheckDevices,\r\n\tloadFileList,\r\n\tdataType,\r\n\tfirstWordToUpperCase,\r\n\tremoveItemFromTree,\r\n\treplaceItemFromTree,\r\n\tinsertBeforeItemFromTree,\r\n\tinsertAfterItemFromTree,\r\n\tpushItemToTree,\r\n\titemsFromTree,\r\n\tunshiftItemToTree,\r\n\tisWhiteColor,\r\n\tturnMapKeys,\r\n\tturnLabelOrValue\r\n} from \"zerod-ztool\";\r\nimport ztool from 'zerod-ztool';\r\n// {\r\n//     probeType: 2,\r\n//     bounce: false,\r\n//     momentum:false,\r\n//     disableMouse:true,\r\n//     disablePointer:true,\r\n//     disableTouch:true,\r\n//     scrollX: true,\r\n//     preventDefault: false,\r\n//     scrollY: true,\r\n//     mouseWheel: true,\r\n//     bindToWrapper: true,\r\n//     eventPassthrough: false,\r\n//     scrollbars: \"custom\",\r\n//     interactiveScrollbars: true,\r\n// }\r\n\r\n//生成IScroll 滚动条实例\r\nexport const IScrollInstance = function(el, opt) {\r\n\tlet defaultopt = Object.assign(\r\n\t\t{\r\n\t\t\tdisableMouse: true,\r\n\t\t\tdisablePointer: true,\r\n\t\t\tdisableTouch: false,\r\n\t\t\tbounce: false, //当滚动条符合边界时，它会执行一个小的反弹动画\r\n\t\t\tclick: false, //要覆盖原生滚动，iScroll必须禁止某些默认浏览器行为，例如鼠标单击。如果您希望应用程序响应click事件，则必须将此选项显式设置为true。请注意，建议使用自定义tap事件\r\n\t\t\tscrollX: false, //启用横向滚动\r\n\t\t\tscrollY: true, //启用纵向滚动\r\n\t\t\tmouseWheel: true, //启用滚轮\r\n\t\t\tpreventDefault: false,\r\n\t\t\tbindToWrapper: false, //的move事件通常是结合于文件而不是滚动容器。当您将光标/手指移出包装器时，滚动会继续进行。这通常是您想要的，但您也可以将move事件绑定到包装器本身。一旦指针离开容器，滚动就会停止。\r\n\t\t\teventPassthrough: false, //有时您希望保留原生垂直滚动但能够添加水平iScroll（可能是旋转木马）。将此设置为true\r\n\t\t\tscrollbars: false, //显示滚动条，自定义滚动条样式：scrollbars选项'custom'\r\n\t\t\tinteractiveScrollbars: true, //滚动条可拖动\r\n\t\t\tshrinkScrollbars: \"scale\", //当滚动到边界之外时，滚动条会缩小一小部分。'clip'和'scale'\r\n\t\t\tmomentum: true, //您可以打开/关闭用户快速在屏幕上轻弹时执行的动量动画。关闭它可以大大提高性能。\r\n\t\t\tmouseWheelSpeed: 10,\r\n\t\t\tinvertWheelDirection: false, //激活鼠标滚轮支持时有意义，在这种情况下它只是反转滚动方向。（即向下滚动，反之亦然）。\r\n\t\t},\r\n\t\tztool.dataTypeTest(opt) === \"object\" ? opt : {},\r\n\t);\r\n\treturn new IScroll(el, defaultopt);\r\n};\r\n//更新iscroll\r\nexport const BuildScroll = function(el, opt) {\r\n\tthis.scroll = IScrollInstance(el, opt);\r\n\tthis.nextScrollToTop = false;\r\n\tthis.refresh = function() {\r\n\t\tif (this.nextScrollToTop) {\r\n\t\t\tthis.scroll.scrollTo(0, 0, 200);\r\n\t\t\tthis.nextScrollToTop = false;\r\n\t\t}\r\n\t\tthis.scroll.refresh();\r\n\t}.bind(this);\r\n\t//解决嵌套滚动条滚动问题\r\n\tlet canscroll = false;\r\n\tlet timer = null;\r\n\tconst wheelhandle = e => {\r\n\t\tlet scrollElement = e.target;\r\n\t\twhile (\r\n\t\t\tscrollElement &&\r\n\t\t\tscrollElement !== el &&\r\n\t\t\t![\"auto\", \"scroll\"].includes(ztool.getStyle(scrollElement, \"overflow-y\"))\r\n\t\t) {\r\n\t\t\tscrollElement = scrollElement.parentElement;\r\n\t\t}\r\n\t\tif (scrollElement && el.contains(scrollElement)) {\r\n\t\t\tif (!scrollElement.bindingWheelScroll) {\r\n\t\t\t\tscrollDisableWheel(scrollElement);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (this.scroll.wrapperHeight - this.scroll.y !== this.scroll.scrollerHeight && this.scroll.y !== 0) {\r\n\t\t\te.stopPropagation();\r\n\t\t\tcanscroll = true;\r\n\t\t} else {\r\n\t\t\tif (canscroll) {\r\n\t\t\t\te.stopPropagation();\r\n\t\t\t}\r\n\t\t\tclearTimeout(timer);\r\n\t\t\ttimer = setTimeout(() => {\r\n\t\t\t\tcanscroll = false;\r\n\t\t\t}, 320);\r\n\t\t}\r\n\t};\r\n\tthis.scroll.wrapper.addEventListener(\"wheel\", wheelhandle, false);\r\n\tthis.scroll.wrapper.addEventListener(\"mousewheel\", wheelhandle, false);\r\n\tthis.scroll.wrapper.addEventListener(\"DOMMouseScroll\", wheelhandle, false);\r\n\tthis.scroll.wrapper.addEventListener(\r\n\t\t\"mouseover\",\r\n\t\t() => {\r\n\t\t\tcanscroll = true;\r\n\t\t},\r\n\t\tfalse,\r\n\t);\r\n};\r\n//\r\nexport const scrollDisableWheel = function(el) {\r\n\tel.bindingWheelScroll = true;\r\n\tlet scrollEnd = true;\r\n\tlet onWheel = e => {\r\n\t\tconst delta = e.deltaY ? e.deltaY : -e.wheelDeltaY;\r\n\t\tif ((delta > 0 && el.scrollTop + el.clientHeight < el.scrollHeight) || (delta < 0 && el.scrollTop > 0)) {\r\n\t\t\tscrollEnd = false;\r\n\t\t}\r\n\t\tif (!scrollEnd) e.stopPropagation();\r\n\t};\r\n\tztool.on(el, \"wheel\", onWheel);\r\n\tztool.on(el, \"mousewheel\", onWheel);\r\n\tztool.on(el, \"DOMMouseScroll\", onWheel);\r\n\tztool.on(el, \"scroll\", e => {\r\n\t\tscrollEnd = el.scrollTop + el.clientHeight >= el.scrollHeight || el.scrollTop === 0;\r\n\t});\r\n};\r\n//监听盒子（div）尺寸变化\r\nexport const listenDivSizeChange = function(el, scrollFun) {\r\n\tnew ResizeSensor(el, debounce(scrollFun, 70));\r\n};\r\n\r\n//生成 引导提示 introjs的实例，注意的是：此函数返回promise 需要在then((intro)>{})拿introjs的实例\r\nexport const IntroInstance = function(opt) {\r\n\t//异步加载相关文件\r\n\treturn ztool.loadFileList([\r\n\t\t\"./static/introJs/introjs.min.css\",\r\n\t\t\"./static/introJs/themes/introjs-flattener.css\",\r\n\t\t\"./static/introJs/intro.min.js\",\r\n\t]).then(() => {\r\n\t\tif (window.introJs) {\r\n\t\t\tconst intro = window.introJs();\r\n\t\t\tintro.setOptions(\r\n\t\t\t\tObject.assign(\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tnextLabel: \"下一个\",\r\n\t\t\t\t\t\tprevLabel: \"上一个\",\r\n\t\t\t\t\t\tdoneLabel: \"没有下一个，关闭\",\r\n\t\t\t\t\t\tskipLabel: \"关闭\",\r\n\t\t\t\t\t\tdisableInteraction: true, //是否让element可点击\r\n\t\t\t\t\t\tshowProgress: true, //进度条\r\n\t\t\t\t\t\texitOnOverlayClick: false, //是否点击遮罩层关闭\r\n\t\t\t\t\t\tshowStepNumbers: true, //是否显示步骤数字\r\n\t\t\t\t\t\tshowBullets: true, //是否显示步骤圆点\r\n\t\t\t\t\t\t// showButtons:true,\r\n\t\t\t\t\t\texitOnEsc: false,\r\n\t\t\t\t\t},\r\n\t\t\t\t\topt,\r\n\t\t\t\t),\r\n\t\t\t);\r\n\t\t\treturn intro;\r\n\t\t}\r\n\t});\r\n};\r\n\r\n// 合并defaultConfig的属性生成新的config\r\nexport const mergeConfig = (defaultConfig, theConfig) => {\r\n\tif (ztool.dataTypeTest(defaultConfig) === \"object\" && ztool.dataTypeTest(theConfig) === \"object\") {\r\n\t\treturn merge(ztool.deepCopy(defaultConfig), theConfig);\r\n\t}\r\n};\r\n\r\nexport const zTool = {\r\n\t...ztool,\r\n\tBuildScroll,\r\n\tIScrollInstance,\r\n\tscrollDisableWheel,\r\n\tIntroInstance,\r\n\tlistenDivSizeChange,\r\n\tmergeConfig,\r\n\thttpAjax,\r\n};\r\nexport default zTool;\r\n","import React from \"react\";\r\nimport ZpureComponent from \"./ZpureComponent\";\r\nconst defaultValue = {};\r\nconst context = React.createContext(defaultValue);//创建上下文\r\nconst { Provider, Consumer } = context;\r\n//提供启用上下文的方法\r\nconst setConsumer = ChildComponent => {\r\n\treturn class ContextConsumer extends ZpureComponent {\r\n\t\trender() {\r\n\t\t\treturn <Consumer>{value => <ChildComponent {...this.props} {...value} ref={this.props.forwardedRef}/>}</Consumer>;\r\n\t\t}\r\n\t};\r\n};\r\nexport default {\r\n\tname: \"ZerodRootContext\",//上下文名称（必需）\r\n\tProvider,\r\n\tConsumer,\r\n\tsetConsumer,\r\n};\r\n","import React from \"react\";\r\nimport ZpureComponent from \"../ZpureComponent\";\r\nimport { BrowserRouter, HashRouter, Route, Redirect, Switch } from \"react-router-dom\";\r\nimport { LocaleProvider } from \"antd\";\r\nimport zh_CN from \"antd/lib/locale-provider/zh_CN\";\r\nimport moment from 'moment';\r\nimport 'moment/locale/zh-cn';\r\nmoment.locale('zh-cn');\r\nimport ZerodRootContext from \"../ZerodRootContext\";\r\nimport {mergeConfig,dataType} from \"../zTool\";\r\nlet fistLoad = true;\r\nfunction hasPaceWatch() {\r\n\tif (window.Pace && fistLoad) {\r\n\t\tfistLoad = false;\r\n\t\twindow.addEventListener(\r\n\t\t\t\"hashchange\",\r\n\t\t\t() => {\r\n\t\t\t\twindow.Pace && window.Pace.restart();\r\n\t\t\t},\r\n\t\t\tfalse,\r\n\t\t);\r\n\t}\r\n}\r\nfunction ZappHOC(pageConfig) {\r\n\tlet defaultConfig = {\r\n\t\trootRoutes: [],\r\n\t\tfooterLinks: null,\r\n\t\tfooterCopyright: null,\r\n\t\trouterType: \"history\",\r\n\t\tresponseKeys: {\r\n\t\t\tlistType: {\r\n\t\t\t\tlist: \"list\",\r\n\t\t\t\ttotalCount: \"totalCount\",\r\n\t\t\t\ttotalPage: \"totalPage\",\r\n\t\t\t},\r\n\t\t},\r\n\t};\r\n\t// console.log(dataType.isObject(pageConfig),pageConfig);\r\n\tdefaultConfig = mergeConfig(defaultConfig, pageConfig);\r\n\tif (defaultConfig.routerType == \"hash\") {\r\n\t\thasPaceWatch();\r\n\t}\r\n\tclass App extends ZpureComponent {\r\n\t\tconfig = defaultConfig;\r\n\t\troutes = this.config.rootRoutes.map((item, i) => {\r\n\t\t\treturn item.redirect ? (\r\n\t\t\t\t<Route key={i} exact path={item.path} render={() => <Redirect to={item.to} />} />\r\n\t\t\t) : (\r\n\t\t\t\t<Route key={i} exact={item.exact} path={item.path} component={item.component} />\r\n\t\t\t);\r\n\t\t});\r\n\t\trender() {\r\n\t\t\tconst Router = this.config.routerType === \"history\" ? BrowserRouter : HashRouter;\r\n\t\t\treturn (\r\n\t\t\t\t<LocaleProvider locale={zh_CN}>\r\n\t\t\t\t\t<ZerodRootContext.Provider\r\n\t\t\t\t\t\tvalue={{\r\n\t\t\t\t\t\t\tfooterLinks: this.config.footerLinks,\r\n\t\t\t\t\t\t\tfooterCopyright: this.config.footerCopyright,\r\n\t\t\t\t\t\t\tresponseKeys: this.config.responseKeys,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Router>\r\n\t\t\t\t\t\t\t<>{this.routes}</>\r\n\t\t\t\t\t\t</Router>\r\n\t\t\t\t\t</ZerodRootContext.Provider>\r\n\t\t\t\t</LocaleProvider>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\treturn App;\r\n}\r\nexport default ZappHOC;\r\n","import React from \"react\";\r\nimport { dataType } from \"./zTool\";\r\n\r\nfunction diff_Prev_Next(prev, next) {\r\n\tif (!dataType.isObject(prev) || !dataType.isObject(next)) return true;\r\n\tconst propsKeys = Object.keys(next);\r\n\tlet should = false;\r\n\tfor (let index = 0; index < propsKeys.length; index++) {\r\n\t\tconst key = propsKeys[index];\r\n\t\tif (prev[key] !== next[key] || (dataType.isFunction(next[key]) && !/^(on|export)[A-Z]{1}[\\w\\-]*$/.test(key))) {\r\n\t\t\tshould = true;\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\treturn should;\r\n}\r\nexport class ZpureComponent extends React.Component {\r\n\tshouldComponentUpdate(nextProps, nextState) {\r\n\t\tif (diff_Prev_Next(this.props, nextProps)) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tif (diff_Prev_Next(this.state, nextState)) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n}\r\n\r\nexport default ZpureComponent;\r\n","\r\n/*加载一批文件，_files:文件路径数组,可包括js,css,less文件,isSequence 是否按数组的顺序加载*/\r\nexport const loadFileList = (function() {\r\n\t/* 已加载文件缓存列表,用于判断文件是否已加载过，若已加载则不再次加载*/\r\n\tlet classcodes = [];\r\n\t/*加载JS文件,url:文件路径*/\r\n\tconst loadFile = function(url) {\r\n\t\tif (!FileIsExt(classcodes, url)) {\r\n\t\t\tvar ThisType = GetFileType(url);\r\n\t\t\tvar fileObj = null;\r\n\t\t\tif (ThisType == \".js\" || ThisType == \"http\") {\r\n\t\t\t\tfileObj = document&&document.createElement(\"script\");\r\n\t\t\t\tfileObj.src = url;\r\n\t\t\t} else if (ThisType == \".css\") {\r\n\t\t\t\tfileObj = document&&document.createElement(\"link\");\r\n\t\t\t\tfileObj.href = url;\r\n\t\t\t\tfileObj.type = \"text/css\";\r\n\t\t\t\tfileObj.rel = \"stylesheet\";\r\n\t\t\t} else if (ThisType == \".less\") {\r\n\t\t\t\tfileObj = document&&document.createElement(\"link\");\r\n\t\t\t\tfileObj.href = url;\r\n\t\t\t\tfileObj.type = \"text/css\";\r\n\t\t\t\tfileObj.rel = \"stylesheet/less\";\r\n\t\t\t}\r\n\t\t\tif (fileObj)\r\n\t\t\t\treturn new Promise(function(resolve, reject) {\r\n\t\t\t\t\tfileObj.onload = fileObj.onreadystatechange = function() {\r\n\t\t\t\t\t\tif (!this.readyState || \"loaded\" === this.readyState || \"complete\" === this.readyState) {\r\n\t\t\t\t\t\t\t// success();\r\n\t\t\t\t\t\t\tclasscodes.push(url);\r\n\t\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\t\t\t\t\tdocument&&document.getElementsByTagName(\"head\")[0].appendChild(fileObj);\r\n\t\t\t\t});\r\n\t\t\telse return Promise.resolve();\r\n\t\t} else {\r\n\t\t\treturn Promise.resolve();\r\n\t\t}\r\n\t};\r\n\t/*获取文件类型,后缀名，小写*/\r\n\tconst GetFileType = function(url) {\r\n\t\tif (url != null && url.length > 0) {\r\n\t\t\tconst lasindex = url.lastIndexOf(\".\");\r\n\t\t\tif (lasindex > -1) {\r\n\t\t\t\treturn url.substr(url.lastIndexOf(\".\")).toLowerCase();\r\n\t\t\t} else if (/^(http:|https:)/.test(url)) {\r\n\t\t\t\treturn \"http\";\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn \"\";\r\n\t};\r\n\t/*文件是否已加载*/\r\n\tconst FileIsExt = function(FileArray, _url) {\r\n\t\tif (FileArray != null && FileArray.length > 0) {\r\n\t\t\tvar len = FileArray.length;\r\n\t\t\tfor (var i = 0; i < len; i++) {\r\n\t\t\t\tif (FileArray[i] == _url) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t};\r\n\treturn function(_files, isSequence) {\r\n\t\tvar FileArray = [];\r\n\t\tif (dataTypeTest(_files) === \"array\") {\r\n\t\t\tFileArray = _files;\r\n\t\t} else if (dataTypeTest(_files) === \"string\") {\r\n\t\t\t/*如果文件列表是字符串，则用,切分成数组*/\r\n\t\t\tFileArray = _files.split(\",\");\r\n\t\t}\r\n\t\tif (FileArray != null && FileArray.length > 0) {\r\n\t\t\tvar LoadedCount = 0;\r\n\t\t\tif (isSequence) {\r\n\t\t\t\t//依次加载\r\n\t\t\t\treturn new Promise(function(resolve, reject) {\r\n\t\t\t\t\tconst len = FileArray.length;\r\n\t\t\t\t\tlet P = loadFile(FileArray.shift());\r\n\t\t\t\t\tfor (var i = 0; i < len - 1; i++) {\r\n\t\t\t\t\t\tconst url = FileArray[i];\r\n\t\t\t\t\t\tP = P.then(function() {\r\n\t\t\t\t\t\t\tLoadedCount++;\r\n\t\t\t\t\t\t\treturn loadFile(url);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\tP.then(function() {\r\n\t\t\t\t\t\tLoadedCount++;\r\n\t\t\t\t\t\tif (LoadedCount === len) {\r\n\t\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\t//非依次加载\r\n\t\t\t\treturn new Promise(function(resolve, reject) {\r\n\t\t\t\t\tconst len = FileArray.length;\r\n\t\t\t\t\tfor (var i = 0; i < len; i++) {\r\n\t\t\t\t\t\tconst url = FileArray[i];\r\n\t\t\t\t\t\tloadFile(url).then(function() {\r\n\t\t\t\t\t\t\tLoadedCount++;\r\n\t\t\t\t\t\t\tif (LoadedCount === len) {\r\n\t\t\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\treturn Promise.reject();\r\n\t\t}\r\n\t};\r\n})();\r\n// import Vue from 'vue';\r\n\r\n// const isServer = Vue.prototype.$isServer;\r\nconst isServer = false;\r\nconst SPECIAL_CHARS_REGEXP = /([\\:\\-\\_]+(.))/g;\r\nconst MOZ_HACK_REGEXP = /^moz([A-Z])/;\r\nconst ieVersion = isServer ? 0 : Number(document?document.documentMode:0);\r\n\r\n/* 去掉字符串首尾空格 */\r\nconst trim = function(string) {\r\n\treturn (string || \"\").replace(/^[\\s\\uFEFF]+|[\\s\\uFEFF]+$/g, \"\");\r\n};\r\n/* istanbul ignore next */\r\nconst camelCase = function(name) {\r\n\treturn name\r\n\t\t.replace(SPECIAL_CHARS_REGEXP, function(_, separator, letter, offset) {\r\n\t\t\treturn offset ? letter.toUpperCase() : letter;\r\n\t\t})\r\n\t\t.replace(MOZ_HACK_REGEXP, \"Moz$1\");\r\n};\r\n//绑定不重复的事件\r\nconst hasListenerEvents = [];\r\nexport const onNoRepeatEvent = function(element, event, handler) {\r\n\tlet hasBanded = null;\r\n\tlet index = 0;\r\n\tfor (let i = 0; i < hasListenerEvents.length; i++) {\r\n\t\tconst item = hasListenerEvents[i];\r\n\t\tif (item.element == element && item.event == event) {\r\n\t\t\thasBanded = item;\r\n\t\t\tindex = i;\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\tif (hasBanded) {\r\n\t\toff(hasBanded.element, hasBanded.event, hasBanded.handler);\r\n\t\ton(element, event, handler);\r\n\t\thasListenerEvents.splice(index, 1, { element, event, handler });\r\n\t} else {\r\n\t\ton(element, event, handler);\r\n\t\thasListenerEvents.push({ element, event, handler });\r\n\t}\r\n};\r\n/* 绑定事件on(element, event, handler) */\r\nexport const on = (function() {\r\n\tif (!isServer && document&&document.addEventListener) {\r\n\t\treturn function(element, event, handler) {\r\n\t\t\tif (element && event && handler) {\r\n\t\t\t\telement.addEventListener(event, handler, false);\r\n\t\t\t}\r\n\t\t};\r\n\t} else {\r\n\t\treturn function(element, event, handler) {\r\n\t\t\tif (element && event && handler) {\r\n\t\t\t\telement.attachEvent(\"on\" + event, handler);\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n})();\r\n\r\n/* 绑定事件off(element, event, handler) */\r\nexport const off = (function() {\r\n\tif (!isServer && document&&document.removeEventListener) {\r\n\t\treturn function(element, event, handler) {\r\n\t\t\tif (element && event) {\r\n\t\t\t\telement.removeEventListener(event, handler, false);\r\n\t\t\t}\r\n\t\t};\r\n\t} else {\r\n\t\treturn function(element, event, handler) {\r\n\t\t\tif (element && event) {\r\n\t\t\t\telement.detachEvent(\"on\" + event, handler);\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n})();\r\n\r\n/* 绑定一次性事件one(element, event, handler) */\r\nexport const once = function(el, event, fn) {\r\n\tvar listener = function() {\r\n\t\tif (fn) {\r\n\t\t\tfn.apply(this, arguments);\r\n\t\t}\r\n\t\toff(el, event, listener);\r\n\t};\r\n\ton(el, event, listener);\r\n};\r\n\r\n/* 是否存在某个样式类名 */\r\nexport function hasClass(el, cls) {\r\n\tif (!el || !cls) return false;\r\n\tif (cls.indexOf(\" \") !== -1) throw new Error(\"className should not contain space.\");\r\n\tif (el.classList) {\r\n\t\treturn el.classList.contains(cls);\r\n\t} else {\r\n\t\treturn (\" \" + el.className + \" \").indexOf(\" \" + cls + \" \") > -1;\r\n\t}\r\n}\r\n\r\n/* 添加className */\r\nexport function addClass(el, cls) {\r\n\tif (!el) return;\r\n\tvar curClass = el.className;\r\n\tvar classes = (cls || \"\").split(\" \");\r\n\r\n\tfor (var i = 0, j = classes.length; i < j; i++) {\r\n\t\tvar clsName = classes[i];\r\n\t\tif (!clsName) continue;\r\n\r\n\t\tif (el.classList) {\r\n\t\t\tel.classList.add(clsName);\r\n\t\t} else {\r\n\t\t\tif (!hasClass(el, clsName)) {\r\n\t\t\t\tcurClass += \" \" + clsName;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tif (!el.classList) {\r\n\t\tel.className = curClass;\r\n\t}\r\n}\r\n\r\n/* 移除className */\r\nexport function removeClass(el, cls) {\r\n\tif (!el || !cls) return;\r\n\tvar classes = cls.split(\" \");\r\n\tvar curClass = \" \" + el.className + \" \";\r\n\r\n\tfor (var i = 0, j = classes.length; i < j; i++) {\r\n\t\tvar clsName = classes[i];\r\n\t\tif (!clsName) continue;\r\n\r\n\t\tif (el.classList) {\r\n\t\t\tel.classList.remove(clsName);\r\n\t\t} else {\r\n\t\t\tif (hasClass(el, clsName)) {\r\n\t\t\t\tcurClass = curClass.replace(\" \" + clsName + \" \", \" \");\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tif (!el.classList) {\r\n\t\tel.className = trim(curClass);\r\n\t}\r\n}\r\n\r\n/* 获取某个元素的某个样式 */\r\nexport const getStyle =\r\n\tieVersion < 9\r\n\t\t? function(element, styleName) {\r\n\t\t\t\tif (isServer) return;\r\n\t\t\t\tif (!element || !styleName) return null;\r\n\t\t\t\tstyleName = camelCase(styleName);\r\n\t\t\t\tif (styleName === \"float\") {\r\n\t\t\t\t\tstyleName = \"styleFloat\";\r\n\t\t\t\t}\r\n\t\t\t\ttry {\r\n\t\t\t\t\tswitch (styleName) {\r\n\t\t\t\t\t\tcase \"opacity\":\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\treturn element.filters.item(\"alpha\").opacity / 100;\r\n\t\t\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\t\t\treturn 1.0;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\treturn element.style[styleName] || element.currentStyle\r\n\t\t\t\t\t\t\t\t? element.currentStyle[styleName]\r\n\t\t\t\t\t\t\t\t: null;\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\treturn element.style[styleName];\r\n\t\t\t\t}\r\n\t\t  }\r\n\t\t: function(element, styleName) {\r\n\t\t\t\tif (isServer) return;\r\n\t\t\t\tif (!element || !styleName) return null;\r\n\t\t\t\tstyleName = camelCase(styleName);\r\n\t\t\t\tif (styleName === \"float\") {\r\n\t\t\t\t\tstyleName = \"cssFloat\";\r\n\t\t\t\t}\r\n\t\t\t\ttry {\r\n\t\t\t\t\tvar computed = document&&document.defaultView.getComputedStyle(element, \"\");\r\n\t\t\t\t\treturn element.style[styleName] || computed ? computed[styleName] : null;\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\treturn element.style[styleName];\r\n\t\t\t\t}\r\n\t\t  };\r\n\r\n/* 给某个元素设置 style */\r\nexport function setStyle(element, styleName, value) {\r\n\tif (!element || !styleName) return;\r\n\r\n\tif (typeof styleName === \"object\") {\r\n\t\tfor (var prop in styleName) {\r\n\t\t\tif (styleName.hasOwnProperty(prop)) {\r\n\t\t\t\tsetStyle(element, prop, styleName[prop]);\r\n\t\t\t}\r\n\t\t}\r\n\t} else {\r\n\t\tstyleName = camelCase(styleName);\r\n\t\tif (styleName === \"opacity\" && ieVersion < 9) {\r\n\t\t\telement.style.filter = isNaN(value) ? \"\" : \"alpha(opacity=\" + value * 100 + \")\";\r\n\t\t} else {\r\n\t\t\telement.style[styleName] = value;\r\n\t\t}\r\n\t}\r\n}\r\n//首字母大写\r\nexport const firstWordToUpperCase = function(str) {\r\n\treturn str.toLowerCase().replace(/( |^)[a-z]/g, L => L.toUpperCase());\r\n};\r\nconst data_types = {\r\n\tarray: \"[object Array]\",\r\n\tobject: \"[object Object]\",\r\n\tstring: \"[object String]\",\r\n\tnumber: \"[object Number]\",\r\n\tboolean: \"[object Boolean]\",\r\n\tnull: \"[object Null]\",\r\n\tundefined: \"[object Undefined]\",\r\n\tfunction: \"[object Function]\",\r\n\tdate: \"[object Date]\",\r\n\tsymbol: \"[object Symbol]\",\r\n\tset: \"[object Set]\",\r\n\tMap: \"[object Map]\",\r\n\tregExp: \"[object RegExp]\",\r\n\tjson: \"[object JSON]\", //JSON对象\r\n\tpromise: \"[object Promise]\", //Promise对象\r\n\telement: /HTML\\w+Element/g,\r\n};\r\n// 包含isArray,isObject,isString,isPromise等等\r\nexport const dataType = {};\r\nObject.keys(data_types).forEach(key => {\r\n\tdataType[\"is\" + firstWordToUpperCase(key)] = function(item) {\r\n\t\treturn dataTypeTest(item) === key;\r\n\t};\r\n});\r\n//检测数据类型 ，返回对应数据类型的名称\r\nexport const dataTypeTest = function(item) {\r\n\tconst types = Object.keys(data_types);\r\n\tlet hasType = null;\r\n\tconst value = Object.prototype.toString.call(item);\r\n\tfor (let index = 0; index < types.length; index++) {\r\n\t\tconst key = types[index];\r\n\t\tif (\r\n\t\t\tvalue === data_types[key] ||\r\n\t\t\t(Object.prototype.toString.call(data_types[key]) === \"[object RegExp]\" &&\r\n\t\t\t\tvalue.search(data_types[key]) > -1)\r\n\t\t) {\r\n\t\t\thasType = key;\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\treturn hasType;\r\n};\r\n//深度复制对象\r\nexport const deepCopyObject = function(obj) {\r\n\tif (!obj || dataTypeTest(obj) !== \"object\") return {};\r\n\t// return JSON.parse(JSON.stringify(obj));\r\n\tlet newobj = {};\r\n\tfor (var key in obj) {\r\n\t\tvar type = dataTypeTest(obj[key]);\r\n\t\tswitch (type) {\r\n\t\t\tcase \"string\":\r\n\t\t\tcase \"null\":\r\n\t\t\tcase \"number\":\r\n\t\t\tcase \"undefined\":\r\n\t\t\tcase \"function\":\r\n\t\t\tcase \"boolean\":\r\n\t\t\tcase \"symbol\":\r\n\t\t\tcase \"set\":\r\n\t\t\tcase \"map\":\r\n\t\t\tcase \"json\":\r\n\t\t\tcase \"promise\":\r\n\t\t\tcase \"regExp\":\r\n\t\t\tcase \"element\":\r\n\t\t\t\tnewobj[key] = obj[key];\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"date\":\r\n\t\t\t\tnewobj[key] = obj[key].getTime();\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"array\":\r\n\t\t\t\tnewobj[key] = deepCopyArray(obj[key]);\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"object\":\r\n\t\t\t\tnewobj[key] = deepCopyObject(obj[key]);\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\treturn newobj;\r\n};\r\n//深度复制数组\r\nexport const deepCopyArray = function(array) {\r\n\tif (!array || dataTypeTest(array) !== \"array\") return [];\r\n\t// return JSON.parse(JSON.stringify(array));\r\n\tvar newarray = [];\r\n\tfor (var i = 0; i < array.length; i++) {\r\n\t\tvar item = array[i];\r\n\t\tvar type = dataTypeTest(item);\r\n\t\tswitch (type) {\r\n\t\t\tcase \"string\":\r\n\t\t\tcase \"null\":\r\n\t\t\tcase \"number\":\r\n\t\t\tcase \"undefined\":\r\n\t\t\tcase \"function\":\r\n\t\t\tcase \"boolean\":\r\n\t\t\tcase \"symbol\":\r\n\t\t\tcase \"set\":\r\n\t\t\tcase \"map\":\r\n\t\t\tcase \"json\":\r\n\t\t\tcase \"promise\":\r\n\t\t\tcase \"regExp\":\r\n\t\t\tcase \"element\":\r\n\t\t\t\tnewarray.push(item);\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"date\":\r\n\t\t\t\tnewarray.push(item.getTime());\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"array\":\r\n\t\t\t\tnewarray.push(deepCopyArray(item));\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"object\":\r\n\t\t\t\tnewarray.push(deepCopyObject(item));\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\treturn newarray;\r\n};\r\n//深度复制数组/对象\r\nexport const deepCopy = function(value) {\r\n\tswitch (dataTypeTest(value)) {\r\n\t\tcase \"object\":\r\n\t\t\treturn deepCopyObject(value);\r\n\t\tcase \"array\":\r\n\t\t\treturn deepCopyArray(value);\r\n\t\tdefault:\r\n\t\t\treturn value;\r\n\t}\r\n};\r\n//根据条件过滤数组，只能过滤两种情况：一、数组里面全是对象，二、数组里面全是字符串或者其他类型的\r\nconst arrayFilterFn = function(array, property) {\r\n\tconst type = dataTypeTest(property);\r\n\treturn array.filter(item => {\r\n\t\tconst itemtype = dataTypeTest(item);\r\n\t\tif (itemtype === \"object\" && type === \"object\") {\r\n\t\t\tlet hasItem = false;\r\n\t\t\tObject.keys(property).forEach(el => {\r\n\t\t\t\thasItem = item[el] === property[el];\r\n\t\t\t});\r\n\t\t\treturn hasItem;\r\n\t\t} else {\r\n\t\t\treturn item === property;\r\n\t\t}\r\n\t});\r\n};\r\n//用法一如：var arr=[{name:\"水果\",value:1},{name:\"蔬菜\",value:2}] ,arrayFilterBy(arr,{value:2})得到[{name:\"蔬菜\",value:2}]\r\n//用法二如：var arr=[1,2,3,2,4,3,5,3]   arrayFilterBy(arr,3)得到 [3,3,3]\r\n//用法三如：var arr=[{name:\"水果\",value:1},{name:\"蔬菜\",value:2},{name:\"草莓\",value:4}] ,arrayFilterBy(arr,[{value:2},{value:4}])得到[{name:\"蔬菜\",value:2},{name:\"草莓\",value:4}]\r\n//用法四如：var arr=[1,2,3,2,4,3,5,3]   arrayFilterBy(arr,[3,2])得到 [3,3,3,2,2]\r\nexport const arrayFilterBy = function(array, property) {\r\n\t//property可以是{name:'zgt'}或者'zgt'\r\n\tif (!array || dataTypeTest(array) !== \"array\") return [];\r\n\tconst type = dataTypeTest(property);\r\n\tif (type === \"array\") {\r\n\t\tlet newarray = [];\r\n\t\tproperty.forEach(item => {\r\n\t\t\tnewarray = newarray.concat(arrayFilterFn(array, item));\r\n\t\t});\r\n\t\treturn newarray;\r\n\t} else {\r\n\t\treturn arrayFilterFn(array, property);\r\n\t}\r\n};\r\n//格式时间 支持时间戳转yyyy-MM-dd HH:mm:ss格式\r\n//支持时间戳转 yyyy-mm-dd格式 ，支持yyyy/mm/dd转yyyy-mm-dd，不支持yyyy-mm-dd转yyyy/mm/dd\r\nexport const formatDate = function(time, format) {\r\n\tif (!time) return \"\";\r\n\tlet date = dataTypeTest(time) === \"date\" ? time : new Date(time);\r\n\tlet ft = trim(format || \"yyyy-MM-dd HH:mm:ss\").split(\" \");\r\n\tlet newdate = \"\";\r\n\tlet symbol = \"-\";\r\n\tif (!ft[0]) return;\r\n\tif (/[-]+/.test(ft[0]) && !/[/]+/.test(ft[0])) {\r\n\t\tsymbol = \"-\";\r\n\t} else if (!/[-]+/.test(ft[0]) && /[/]+/.test(ft[0])) {\r\n\t\tsymbol = \"/\";\r\n\t} else if (/[:]+/.test(ft[0])) {\r\n\t\tsymbol = \":\";\r\n\t}\r\n\tlet addZero = function(value) {\r\n\t\tif (Number(value) < 10) {\r\n\t\t\treturn \"0\" + value;\r\n\t\t} else {\r\n\t\t\treturn value;\r\n\t\t}\r\n\t};\r\n\tlet setTimes = function(fts, symbol) {\r\n\t\tlet newTime = \"\";\r\n\t\tlet timeFtsLen = fts.split(\":\").length;\r\n\t\tswitch (timeFtsLen) {\r\n\t\t\tcase 1:\r\n\t\t\t\tnewTime += addZero(date.getHours());\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2:\r\n\t\t\t\tnewTime += addZero(date.getHours()) + symbol + addZero(date.getMinutes());\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tnewTime +=\r\n\t\t\t\t\taddZero(date.getHours()) +\r\n\t\t\t\t\tsymbol +\r\n\t\t\t\t\taddZero(date.getMinutes()) +\r\n\t\t\t\t\tsymbol +\r\n\t\t\t\t\taddZero(date.getSeconds());\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\treturn newTime;\r\n\t};\r\n\r\n\tif (symbol === \":\") {\r\n\t\tnewdate += setTimes(ft[0], symbol);\r\n\t} else {\r\n\t\tlet timeFtsLen = ft[0].split(symbol).length;\r\n\t\tswitch (timeFtsLen) {\r\n\t\t\tcase 1:\r\n\t\t\t\tnewdate += date.getFullYear();\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2:\r\n\t\t\t\tnewdate += date.getFullYear() + symbol + addZero(date.getMonth() + 1);\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tnewdate +=\r\n\t\t\t\t\tdate.getFullYear() + symbol + addZero(date.getMonth() + 1) + symbol + addZero(date.getDate());\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tif (ft[1]) {\r\n\t\t\tsymbol = \":\";\r\n\t\t\tnewdate += \" \";\r\n\t\t\tnewdate += setTimes(ft[1], symbol);\r\n\t\t}\r\n\t}\r\n\treturn newdate;\r\n};\r\n\r\n\r\n//随机产生不重复id\r\nexport const GenNonDuplicateID = function(randomLength = 8) {\r\n\tlet id = Number(\r\n\t\tMath.random()\r\n\t\t\t.toString()\r\n\t\t\t.substr(3, randomLength) + Date.now(),\r\n\t).toString();\r\n\treturn id;\r\n};\r\n//科学计数法转 字符串\r\n//如 6.5E8 得 \"650000000\"\r\n//如 6.5e-7得 \"0.65000000\"\r\nexport const EetoString = num => {\r\n\tvar str = num.toString();\r\n\tvar reg = /^((\\d+.\\d+)|(\\d+))([Ee])([\\-]?\\d+)$/;\r\n\tvar arr,\r\n\t\tlen,\r\n\t\tzerod = \"\";\r\n\r\n\t/*6e7或6e+7 都会自动转换数值*/\r\n\tif (!reg.test(str)) {\r\n\t\treturn num;\r\n\t} else {\r\n\t\t/*6e-7 需要手动转换*/\r\n\t\tarr = reg.exec(str);\r\n\t\tlen = Math.abs(arr[5]) - 1;\r\n\t\tfor (var i = 0; i < len; i++) {\r\n\t\t\tzerod += \"0\";\r\n\t\t}\r\n\t\treturn \"0.\" + zerod + (arr[2] ? arr[1] : arr[3]).replace(\".\", \"\");\r\n\t}\r\n};\r\n// 过滤一个对象中有用的的属性，permissiveKys是允许的属性名数组\r\nexport function filterQuery(permissiveKys, query) {\r\n\tconst newQuery = {};\r\n\tObject.keys(query).forEach(key => {\r\n\t\tif (permissiveKys.includes(key)) {\r\n\t\t\tnewQuery[key] = query[key];\r\n\t\t}\r\n\t});\r\n\treturn newQuery;\r\n}\r\n//将url问号参数转成map对象\r\nexport const parseQueryString = function(url) {\r\n\tif (isUrl(url)) {\r\n\t\tconst searchurl = url.split(\"?\");\r\n\t\turl = searchurl.length > 1 ? \"?\" + searchurl[1] : searchurl[0];\r\n\t}\r\n\tvar reg_url = /^\\?([\\w\\W]+)$/;\r\n\tvar reg_para = /([^&=]+)=([\\w\\W]*?)(&|$|#)/g,\r\n\t\tarr_url = reg_url.exec(url),\r\n\t\tret = {};\r\n\tif (arr_url && arr_url[1]) {\r\n\t\tvar str_para = arr_url[1],\r\n\t\t\tresult;\r\n\t\twhile ((result = reg_para.exec(str_para)) != null) {\r\n\t\t\tret[result[1]] = result[2];\r\n\t\t}\r\n\t}\r\n\treturn ret;\r\n};\r\n//检测移动端设备\r\n\r\nexport const checkDevices = function() {\r\n\tconst userAgent = global.navigator.userAgent;\r\n\tif (/Android/i.test(userAgent)) {\r\n\t\treturn \"android\";\r\n\t} else if (/iPhone|iPad|iPod/i.test(userAgent)) {\r\n\t\treturn \"ios\";\r\n\t} else if (/WindowsWechat/i.test(userAgent)) {\r\n\t\treturn \"WindowsWechat\";\r\n\t} else if (/MicroMessenger/i.test(userAgent)) {\r\n\t\treturn \"MicroMessenger\";\r\n\t}\r\n\t// const inAndroid = /Android/i.test(userAgent)\r\n\t// const inIOS = /iPhone|iPad|iPod/i.test(userAgent)\r\n\t// const inMicroMessenger = /MicroMessenger/i.test(userAgent)\r\n\t// const inWindowsWechat = /WindowsWechat/i.test(userAgent)\r\n};\r\n\r\n//新增\r\n\r\n// export function fixedZero(val) {\r\n// \treturn val * 1 < 10 ? `0${val}` : val;\r\n// }\r\n\r\n// export function getTimeDistance(type) {\r\n// \tconst now = new Date();\r\n// \tconst oneDay = 1000 * 60 * 60 * 24;\r\n\r\n// \tif (type === \"today\") {\r\n// \t\tnow.setHours(0);\r\n// \t\tnow.setMinutes(0);\r\n// \t\tnow.setSeconds(0);\r\n// \t\treturn [moment(now), moment(now.getTime() + (oneDay - 1000))];\r\n// \t}\r\n\r\n// \tif (type === \"week\") {\r\n// \t\tlet day = now.getDay();\r\n// \t\tnow.setHours(0);\r\n// \t\tnow.setMinutes(0);\r\n// \t\tnow.setSeconds(0);\r\n\r\n// \t\tif (day === 0) {\r\n// \t\t\tday = 6;\r\n// \t\t} else {\r\n// \t\t\tday -= 1;\r\n// \t\t}\r\n\r\n// \t\tconst beginTime = now.getTime() - day * oneDay;\r\n\r\n// \t\treturn [moment(beginTime), moment(beginTime + (7 * oneDay - 1000))];\r\n// \t}\r\n\r\n// \tif (type === \"month\") {\r\n// \t\tconst year = now.getFullYear();\r\n// \t\tconst month = now.getMonth();\r\n// \t\tconst nextDate = moment(now).add(1, \"months\");\r\n// \t\tconst nextYear = nextDate.year();\r\n// \t\tconst nextMonth = nextDate.month();\r\n\r\n// \t\treturn [\r\n// \t\t\tmoment(`${year}-${fixedZero(month + 1)}-01 00:00:00`),\r\n// \t\t\tmoment(moment(`${nextYear}-${fixedZero(nextMonth + 1)}-01 00:00:00`).valueOf() - 1000),\r\n// \t\t];\r\n// \t}\r\n\r\n// \tif (type === \"year\") {\r\n// \t\tconst year = now.getFullYear();\r\n\r\n// \t\treturn [moment(`${year}-01-01 00:00:00`), moment(`${year}-12-31 23:59:59`)];\r\n// \t}\r\n// }\r\n\r\n// export function getPlainNode(nodeList, parentPath = \"\") {\r\n// \tconst arr = [];\r\n// \tnodeList.forEach((node) => {\r\n// \t\tconst item = node;\r\n// \t\titem.path = `${parentPath}/${item.path || \"\"}`.replace(/\\/+/g, \"/\");\r\n// \t\titem.exact = true;\r\n// \t\tif (item.children && !item.component) {\r\n// \t\t\tarr.push(...getPlainNode(item.children, item.path));\r\n// \t\t} else {\r\n// \t\t\tif (item.children && item.component) {\r\n// \t\t\t\titem.exact = false;\r\n// \t\t\t}\r\n// \t\t\tarr.push(item);\r\n// \t\t}\r\n// \t});\r\n// \treturn arr;\r\n// }\r\n\r\nfunction accMul(arg1, arg2) {\r\n\tlet m = 0;\r\n\tconst s1 = arg1.toString();\r\n\tconst s2 = arg2.toString();\r\n\tm += s1.split(\".\").length > 1 ? s1.split(\".\")[1].length : 0;\r\n\tm += s2.split(\".\").length > 1 ? s2.split(\".\")[1].length : 0;\r\n\treturn (Number(s1.replace(\".\", \"\")) * Number(s2.replace(\".\", \"\"))) / 10 ** m;\r\n}\r\n\r\nexport function digitUppercase(n) {\r\n\tconst fraction = [\"角\", \"分\"];\r\n\tconst digit = [\"零\", \"壹\", \"贰\", \"叁\", \"肆\", \"伍\", \"陆\", \"柒\", \"捌\", \"玖\"];\r\n\tconst unit = [[\"元\", \"万\", \"亿\"], [\"\", \"拾\", \"佰\", \"仟\", \"万\"]];\r\n\tlet num = Math.abs(n);\r\n\tlet s = \"\";\r\n\tfraction.forEach((item, index) => {\r\n\t\ts += (digit[Math.floor(accMul(num, 10 * 10 ** index)) % 10] + item).replace(/零./, \"\");\r\n\t});\r\n\ts = s || \"整\";\r\n\tnum = Math.floor(num);\r\n\tfor (let i = 0; i < unit[0].length && num > 0; i += 1) {\r\n\t\tlet p = \"\";\r\n\t\tfor (let j = 0; j < unit[1].length && num > 0; j += 1) {\r\n\t\t\tp = digit[num % 10] + unit[1][j] + p;\r\n\t\t\tnum = Math.floor(num / 10);\r\n\t\t}\r\n\t\ts = p.replace(/(零.)*零$/, \"\").replace(/^$/, \"零\") + unit[0][i] + s;\r\n\t}\r\n\r\n\treturn s\r\n\t\t.replace(/(零.)*零元/, \"元\")\r\n\t\t.replace(/(零.)+/g, \"零\")\r\n\t\t.replace(/^整$/, \"零元整\");\r\n}\r\n\r\n/* eslint no-useless-escape:0 */\r\nconst reg = /(((^https?:(?:\\/\\/)?)(?:[-;:&=\\+\\$,\\w]+@)?[A-Za-z0-9.-]+(?::\\d+)?|(?:www.|[-;:&=\\+\\$,\\w]+@)[A-Za-z0-9.-]+)((?:\\/[\\+~%\\/.\\w-_]*)?\\??(?:[-\\+=&;%@.\\w_]*)#?(?:[\\w\\?\\=\\&]*))?)$/;\r\n\r\nexport function isUrl(path) {\r\n\treturn reg.test(path);\r\n}\r\nconst startHttpReg = /^(http:|https:)[\\w\\?\\&\\.\\#\\%\\*\\@\\$\\!\\~\\/]*/;\r\nexport function isHttpStart(path) {\r\n\treturn startHttpReg.test(path);\r\n}\r\n\r\n// 将从后台获取的导航数据转成route的需要的key\r\nexport function formatterMapKey(data, mapKey = {}, parentPath = \"/\", notParPath = false) {\r\n\t// const notParPath = typeof parentPath == \"boolean\" && !parentPath;\r\n\tmapKey = Object.assign(\r\n\t\t{ iconClass: \"iconClass\", path: \"path\", name: \"name\", children: \"children\" },\r\n\t\tmapKey ? mapKey : {},\r\n\t);\r\n\treturn data.map(item => {\r\n\t\tlet path = item[mapKey.path];\r\n\t\tif (!notParPath && !isHttpStart(path)) path = parentPath + path.replace(/^\\/*/, \"\");\r\n\t\tconst newData = {\r\n\t\t\t...item,\r\n\t\t\ticonClass: item[mapKey.iconClass] !== undefined ? item[mapKey.iconClass] : \"smile-o\",\r\n\t\t\tpath,\r\n\t\t\tparPath: parentPath.replace(/\\/$/, \"\"),\r\n\t\t\tname: item[mapKey.name],\r\n\t\t};\r\n\t\tif (Array.isArray(item[mapKey.children]) && item[mapKey.children].length) {\r\n\t\t\tnewData[mapKey.children] = formatterMapKey(item[mapKey.children], mapKey, `${path}/`, notParPath);\r\n\t\t}\r\n\t\treturn newData;\r\n\t});\r\n}\r\n\r\nexport function itemsFromTree({ tree, sourceItem, item, keyObj, action, parentItem, condition }) {\r\n\tlet finished = false;\r\n\tkeyObj = dataType.isObject(keyObj) ? keyObj : { id: \"id\", children: \"children\" };\r\n\tfor (let index = 0; index < tree.length; index++) {\r\n\t\tconst currentItem = tree[index];\r\n\t\tif (\r\n\t\t\tdataType.isFunction(condition)\r\n\t\t\t\t? condition(currentItem[keyObj.id], sourceItem[keyObj.id])\r\n\t\t\t\t: currentItem[keyObj.id] === sourceItem[keyObj.id]\r\n\t\t) {\r\n\t\t\tdataType.isFunction(action) && action({ tree, currentItem, item, index, keyObj, parentItem });\r\n\t\t\tfinished = true;\r\n\t\t} else if (Array.isArray(currentItem[keyObj.children])) {\r\n\t\t\tfinished = itemsFromTree({\r\n\t\t\t\ttree: currentItem[keyObj.children],\r\n\t\t\t\tsourceItem,\r\n\t\t\t\titem,\r\n\t\t\t\tkeyObj,\r\n\t\t\t\taction,\r\n\t\t\t\tparentItem: currentItem,\r\n\t\t\t});\r\n\t\t}\r\n\t\tif (finished) break;\r\n\t}\r\n\treturn finished;\r\n}\r\n/**\r\n *用于移除json中一项数据\r\n *\r\n * @export\r\n * @param {object} obj { tree:array, sourceItem:object, keyObj:{id:\"id\",children:\"children\"} }\r\n * @returns\r\n */\r\nexport function removeItemFromTree(obj) {\r\n\t// { tree, sourceItem, keyObj }\r\n\tconst newobj = deepCopy(obj);\r\n\tnewobj.action = function({ tree, currentItem, index, keyObj }) {\r\n\t\ttree.splice(index, 1);\r\n\t};\r\n\tif (itemsFromTree(newobj)) {\r\n\t\treturn newobj.tree;\r\n\t}\r\n}\r\n/**\r\n *用item数据替换json中一项sourceItem数据\r\n *\r\n * @export\r\n * @param {object} obj { tree:array, sourceItem:object,item:object, keyObj:{id:\"id\",children:\"children\"} }\r\n * @returns\r\n */\r\nexport function replaceItemFromTree(obj) {\r\n\tconst newobj = deepCopy(obj);\r\n\tnewobj.action = function({ tree, currentItem, item, index, keyObj }) {\r\n\t\ttree.splice(index, 1, item);\r\n\t};\r\n\tif (itemsFromTree(newobj)) {\r\n\t\treturn newobj.tree;\r\n\t}\r\n}\r\n/**\r\n *用于json中某项sourceItem数据的children末端添加一项item数据\r\n *\r\n * @export\r\n * @param {object} obj { tree:array, sourceItem:object,item:object, keyObj:{id:\"id\",children:\"children\"} }\r\n * @returns\r\n */\r\nexport function pushItemToTree(obj) {\r\n\tconst newobj = deepCopy(obj);\r\n\tnewobj.action = function({ tree, currentItem, item, index, keyObj }) {\r\n\t\tif (!Array.isArray(currentItem[keyObj.children])) {\r\n\t\t\tcurrentItem[keyObj.children] = [];\r\n\t\t}\r\n\t\tcurrentItem[keyObj.children].push(item);\r\n\t};\r\n\tif (itemsFromTree(newobj)) {\r\n\t\treturn newobj.tree;\r\n\t}\r\n}\r\n/**\r\n *用于json中某项sourceItem数据的children头端添加一项item数据\r\n *\r\n * @export\r\n * @param {object} obj { tree:array, sourceItem:object,item:object, keyObj:{id:\"id\",children:\"children\"} }\r\n * @returns\r\n */\r\nexport function unshiftItemToTree(obj) {\r\n\tconst newobj = deepCopy(obj);\r\n\tnewobj.action = function({ tree, currentItem, item, index, keyObj }) {\r\n\t\tif (!Array.isArray(currentItem[keyObj.children])) {\r\n\t\t\tcurrentItem[keyObj.children] = [];\r\n\t\t}\r\n\t\tcurrentItem[keyObj.children].unshift(item);\r\n\t};\r\n\tif (itemsFromTree(newobj)) {\r\n\t\treturn newobj.tree;\r\n\t}\r\n}\r\n/**\r\n *用于将一项item数据插入在json中某项sourceItem数据之前\r\n *\r\n * @export\r\n * @param {object} obj { tree:array, sourceItem:object,item:object, keyObj:{id:\"id\",children:\"children\"} }\r\n * @returns\r\n */\r\nexport function insertBeforeItemFromTree(obj) {\r\n\tconst newobj = deepCopy(obj);\r\n\tnewobj.action = function({ tree, currentItem, item, index, keyObj }) {\r\n\t\ttree.splice(index, 0, item);\r\n\t};\r\n\tif (itemsFromTree(newobj)) {\r\n\t\treturn newobj.tree;\r\n\t}\r\n}\r\n/**\r\n *用于将一项item数据插入在json中某项sourceItem数据之后\r\n *\r\n * @export\r\n * @param {object} obj { tree:array, sourceItem:object,item:object, keyObj:{id:\"id\",children:\"children\"} }\r\n * @returns\r\n */\r\nexport function insertAfterItemFromTree(obj) {\r\n\tconst newobj = deepCopy(obj);\r\n\tnewobj.action = function({ tree, currentItem, item, index, keyObj }) {\r\n\t\ttree.splice(index + 1, 0, item);\r\n\t};\r\n\tif (itemsFromTree(newobj)) {\r\n\t\treturn newobj.tree;\r\n\t}\r\n}\r\n//判断是白色颜色值\r\nexport function isWhiteColor(str){\r\n\treturn  typeof str === \"string\"&& (str.search(/^\\#(f{3}$|f{6}$)/i)>-1||str.search(/^rgb(a)?\\(255,255,255/)>-1)\r\n}\r\n\r\n/**\r\n * @description: 转换tree数据的键名\r\n * @param tree {array} \r\n * @param srcMapKeys {object} \r\n * @param distMapKeys {object} \r\n * @param extands {object} \r\n * @return: newTree\r\n */\r\nexport function turnMapKeys(\r\n    tree,\r\n    srcMapKeys = { label: 'label', value: 'value', children: 'children' },\r\n    distMapKeys = { label: 'label', value: 'value', children: 'children' },\r\n    extands = {},\r\n) {\r\n    return Array.isArray(tree)\r\n        ? tree.map((item) => {\r\n              const newItem = {\r\n                  [distMapKeys.label]: item[srcMapKeys.label],\r\n                  [distMapKeys.value]: item[srcMapKeys.value],\r\n                  ...extands,\r\n              };\r\n              if (item[srcMapKeys.children]) {\r\n                  newItem[distMapKeys.children] = turnMapKeys(item[srcMapKeys.children], srcMapKeys, distMapKeys);\r\n              }\r\n              return newItem;\r\n          })\r\n        : [];\r\n}\r\n/**\r\n * @description: \r\n * @param tree {array} \r\n * @param valueArr {string|array|number} \r\n * @return: newValueArr\r\n */\r\nexport function turnLabelOrValue(tree, valueArr, toDist = { src: 'value', dist: 'label' }, parValueArr) {\r\n    const newValueArr = parValueArr ? parValueArr : [];\r\n    if (Array.isArray(tree)) {\r\n        tree.forEach((item) => {\r\n            if (Array.isArray(valueArr)) {\r\n                const index = valueArr.indexOf(item[toDist.src]);\r\n                if (index > -1 && !newValueArr[index]) {\r\n                    newValueArr[index] = item[toDist.dist];\r\n                }\r\n            } else if (valueArr === item[toDist.src]) {\r\n                newValueArr[0] = item[toDist.dist];\r\n            }\r\n            if (item.children) {\r\n                turnLabelOrValue(item.children, valueArr, toDist, newValueArr);\r\n            }\r\n        });\r\n    }\r\n    return Array.isArray(valueArr) ? newValueArr : newValueArr[0];\r\n}\r\n\r\nexport const zTool = {\r\n\tgetStyle,\r\n\tsetStyle,\r\n\thasClass,\r\n\taddClass,\r\n\tremoveClass,\r\n\ton,\r\n\toff,\r\n\tonce,\r\n\tdataTypeTest,\r\n\tdeepCopyObject,\r\n\tdeepCopyArray,\r\n\tdeepCopy,\r\n\tformatDate,\r\n\tGenNonDuplicateID,\r\n\tarrayFilterBy,\r\n\tEetoString,\r\n\tonNoRepeatEvent,\r\n\tfilterQuery,\r\n\tparseQueryString,\r\n\tformatterMapKey,\r\n\tisUrl,\r\n\tcheckDevices,\r\n\tloadFileList,\r\n\tdataType,\r\n\tfirstWordToUpperCase,\r\n\tremoveItemFromTree,\r\n\treplaceItemFromTree,\r\n\tpushItemToTree,\r\n\titemsFromTree,\r\n\tisWhiteColor,\r\n\tturnMapKeys,\r\n\tturnLabelOrValue,\r\n};\r\nexport default zTool;\r\n"],"sourceRoot":""}