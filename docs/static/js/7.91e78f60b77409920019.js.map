{"version":3,"sources":["webpack:///delegated ./node_modules/lodash/_SetCache.js from dll-reference _dll_vendor_3d2c9e3bcfbe3a2fd368","webpack:///delegated ./node_modules/react-transition-group/index.js from dll-reference _dll_vendor_3d2c9e3bcfbe3a2fd368","webpack:///./node_modules/zerod/components/ZliveForm/index.jsx","webpack:///./node_modules/zerod/components/ZliveForm/GroupMoveBtns.jsx","webpack:///./node_modules/@babel/runtime/helpers/readOnlyError.js","webpack:///./node_modules/zerod/components/ZliveForm/linkageAction.js","webpack:///./node_modules/zerod/components/ZliveForm/FormContext.js","webpack:///delegated ./node_modules/contra/emitter.js from dll-reference _dll_vendor_3d2c9e3bcfbe3a2fd368","webpack:///./node_modules/zerod/components/ZliveForm/FormViewer.jsx","webpack:///delegated ./node_modules/lodash/throttle.js from dll-reference _dll_vendor_3d2c9e3bcfbe3a2fd368","webpack:///./node_modules/zerod/components/ZliveForm/AddColForm.jsx","webpack:///./node_modules/zerod/components/ZliveForm/doc.md","webpack:///./node_modules/zerod/components/ZliveForm/FormGroup.jsx","webpack:///./node_modules/zerod/components/ZliveForm/LinkageConfig/ValueLinkControl.jsx","webpack:///./src/views/Main/component-doc/ZliveForm-doc/formData.js","webpack:///./node_modules/zerod/components/ZliveForm/ZselectInput.jsx","webpack:///./node_modules/zerod/components/ZliveForm/ZeroUpload.jsx","webpack:///delegated ./node_modules/crossvent/src/crossvent.js from dll-reference _dll_vendor_3d2c9e3bcfbe3a2fd368","webpack:///./node_modules/zerod/components/ZliveForm/ZmapChooseAddress.jsx","webpack:///./node_modules/zerod/components/ZliveForm/ZauxiliaryInput.jsx","webpack:///delegated ./node_modules/react-color/lib/index.js from dll-reference _dll_vendor_3d2c9e3bcfbe3a2fd368","webpack:///./node_modules/zerod/components/ZliveForm/CascaderLoader.jsx","webpack:///./node_modules/zerod/components/ZliveForm/customHook.js","webpack:///./node_modules/zerod/components/ZliveForm/liveCanstant.js","webpack:///./node_modules/zerod/components/ZliveForm/controls.js","webpack:///./node_modules/zerod/components/ZliveForm/LinkageConfig/linkRemark.js","webpack:///./node_modules/zerod/components/ZliveForm/LinkageConfig/ValueLinkConfigured.jsx","webpack:///./src/views/Main/component-doc/ZliveForm-doc/index.jsx","webpack:///./node_modules/zerod/components/ZliveForm/LinkageConfig/index.jsx","webpack:///./node_modules/zerod/components/ZliveForm/GroupNameEdit.jsx","webpack:///./src/HOC sync index.jsx$","webpack:///./node_modules/zerod/components/ZliveForm/TreeSelectLoader.jsx","webpack:///./node_modules/zerod/components/ZliveForm/common.js","webpack:///delegated ./node_modules/lodash/_setToArray.js from dll-reference _dll_vendor_3d2c9e3bcfbe3a2fd368","webpack:///./node_modules/zerod/components/ZliveForm/InsertGroupBtns.jsx","webpack:///./node_modules/zerod/components/ZliveForm/LinkageConfig/IDLinkagesConfigured.jsx","webpack:///delegated ./node_modules/lodash/toNumber.js from dll-reference _dll_vendor_3d2c9e3bcfbe3a2fd368","webpack:///delegated ./node_modules/lodash/_baseIteratee.js from dll-reference _dll_vendor_3d2c9e3bcfbe3a2fd368","webpack:///delegated ./node_modules/lodash/_cacheHas.js from dll-reference _dll_vendor_3d2c9e3bcfbe3a2fd368","webpack:///delegated ./node_modules/viewerjs/dist/viewer.js from dll-reference _dll_vendor_3d2c9e3bcfbe3a2fd368","webpack:///delegated ./node_modules/lodash/_Set.js from dll-reference _dll_vendor_3d2c9e3bcfbe3a2fd368"],"names":["commitFormData","formViewerRef","layoutFormRef","linkageRef","onSave","current","validateFields","errors","values","groups","getFormGroups","newFormData","code","description","name","labelLayout","formSubmitTypeCode","hasEmptyGroup","sectionList","map","g","gindex","formList","groupRef","getFormItems","item","itemindex","fieldKey","fieldType","id","config","disabled","initialValue","label","regularExpression","required","sectionId","span","seq","errorMsg","remark","length","additive","undefined","formFieldInfoList","error","linkages","Array","isArray","JSON","stringify","useGetItems","formData","showModal","layerRef","showViewerRef","formRenderedRef","domWrapperElRef","getInsertLocation","hasCodeRef","setFieldsValue","itemsRef","key","render","form","changeFormItems","controls","getControl","options","getOptions","labelFocused","selectList","value","onChange","setFormGroups","show","modal","content","newLinkages","console","log","methods","showLayer","setFormData","openUpdateControl","groupId","formItem","type","width","setNewCurrentGroupItems","action","groupRefIndex","findIndex","currentItems","slice","i","o","newItems","setFormItems","useFormProps","colContentRender","splice","confirm","title","okText","cancelText","onOk","submitBtnRender","onSubmit","props","group","getParentElement","el","_pE","parentElement","className","includes","getGroupIndex","index","newGroups","getNewGroupData","groupnameNumRef","propTypes","PropTypes","object","isRequired","func","showRightModal","showLayerRightModal","defaultProps","ShowFormViewer","React","memo","forwardRef","ref","margin","padding","height","ZliveForm","ZerodMainContext","setConsumer","LiveForm","customControlRender","dataType","isFunction","items","formProps","drakeRef","nextSiblingRef","onFormGroupsChange","formGroups","getWrapperDom","querySelector","removeOnSpill","revertOnSpill","direction","copy","copySortSource","accepts","target","source","sibling","moves","handle","dataset","on","cloneEl","sourceEl","nextElementSibling","_parEl","exec","currentItem","parse","currentGroup","find","newFormItems","currentindex","currentFormitem","siblingItem","sibingindex","push","targetGroup","targetFormItems","groupid","removeChild","appendChild","containers","getFormInstance","pageHeaderBox","setPageHeaderBox","parEl","zgt_modal","configHeader","ReactDOM","createPortal","stateGroupName","onGroupNameChange","val","hasindex","groupItem","getFieldValue","unshift","success","warning","FormViewer","GroupMoveBtns","onMoveUp","onMoveDown","onRemove","concatKeys","arr","a","d","getNewFields","fields","srcFieldKey","src","linkageType","srcValue","concat","initialValueLinkageAction","ages","getGroupsFn","seftItem","formObjs","forEach","getForm","getFieldsValue","cardGetBirthdayKeys","asyncParamNameKeys","regionNameKeys","groupHiddenIds","hiddenKeys","disabledKeys","requiredKeys","noRequiredKeys","selectOptions","hasClearSelect","hasOwnProperty","dist","newFormObjs","asyncFields","findHideGroup","gh","groupName","formItems","field","hiddenFields","disabledFields","requiredFields","noRequiredFields","selectOptionsFields","e","customOnChange","control","newFieldProto","imperative","currentFieldProto","newItem","selectionsType","paramField","selectionsQuery","asyncParamName","groupIndex","isShow","zformItems","state","loading","isAsync","then","resetDisable","resetNoRequired","resetSelect","resetFields","formValues","birthday","substring","stringJoinSyml","mapInfo","isObject","regionName","regions","split","inputString","str","autoCheckedBySelected","currentForm","saveFieldOptions","currentValue","hasValue","multiple","mode","newValue","selectedValue","filter","selected","zformItem","currentStateItem","originProps","Object","keys","defaultValue","context","createContext","Provider","Consumer","ChildComponent","PureComponent","groupTitleLeftRender","groupTitleRightRender","linkage","groupChildrenRender","style","momentFormat","booleanToNumber","afterItemsRendered","customFormRules","noAsync","_linkage","isBoolean","getOtherForms","doSubmit","imperativeRef","getEachFormMethod","setAllFormRendered","doLinkage","titleText","allFormRendered","nameChange","string","bool","useDefaultVisible","PercentInput","num","setNum","compact","children","min","max","precision","commonKeys","textKeys","inputKeys","textarayKeys","selectionsType1keys","selectionsType2keys","selectKeys","cascaderKeys","dateKeys","uploadKeys","colorKeys","mapSelectKeys","inputNumberKeys","wechat","controlWechat","formatWechat","controlList","showKeys","configKeys","initSereKey","amap","qqmap","showFieldTypeLinkOther","excludeKeys","fieldTypeItem","cont","getSwitchOpt","normalize","prevValue","allValues","Boolean","valuePropName","getCorresFormItem","showBtns","inputType","customInputKeys","initValue","states","setStates","size","showSelectionsTypeLinkOther","urlRules","validator","rule","callback","Error","hasError","some","toString","trim","getKeyControl","keyDisabledRef","isUpdateRef","inputOpt","addonAfter","doChange","useFormItems","hashkey","plat","optLabelRender","p","rules","test","hasKey","right","valueChange","m","left","center","selectionsUrlMethod","selectionsUrl","requireType","labelPlaceholder","finished","tree","condition","val1","val2","sourceItem","keyObj","dateFormats","change","urlMethod","url","urlParamName","requestMode","secretKey","valueType","RegExp","autosize","minRows","useEditPage","pageHeader","pageFooter","initAnimation","panelHeader","defaultSpan","submitBtnName","submitMsg","detailApiInterface","detailId","tool","data","objToArr","keyName","Number","getFormMethods","Promise","resolve","submitApiInterface","fieldTypeName","arrToObj","newSelectionsQuery","newConf","successMsg","hasRemoveAge","msg","AddColForm","EditForm","MyForm","FormContext","Zform","FormGroup","titleLeftRender","titleRightRender","domRef","formRef","setShow","stateFormItems","showStatus","getShowState","setGroupName","display","turnSelectOptions","section","needChild","list","getControlitem","findItem","getLinkValue","query","srcControl","srcValues","srcControls","distControls","leftSelectedVal","rightSelectedVal","distControl","distValues","onSrcSelected","onBack","ValueLinkControl","leftTransferSelections","setLeftTransferSelections","leftTransferSelected","setLeftTransferSelected","rightTransferSelections","setRightTransferSelections","rightTransferSelected","setRightTransferSelected","asyncParamNameRef","regionNameRef","setLinkValue","linkValue","selectOptionsRef","leftTransferPropsRef","getSelectControl","opt","showSearch","placeholder","dropdownMatchSelectWidth","dropdownStyle","leftTitle","rightTitle","leftItemRender","findControl","rightTransferPropsRef","linkRemark","remmak1","remmak2","actionType","rightData","actionItem","sibligItem","regionNames","version","configuration","formTypeId","requiredMsg","gmtCreate","gmtModified","formId","labelWidth","isFormItem","buttonList","arrayOf","valueKey","leftPlaceholder","centerPlaceholder","rightPlaceholder","controlCostrom","customControls","array","leftSpan","centerSpan","rightSpan","getNewValue","v","MyComponent","ZselectInput","customChange","leftChange","centerChange","rightChange","wrapperElRef","_left","_center","_right","warperEl","from","removeAttribute","currentWidth","getFileUids","files","file","getUserInfo","getLayerModalInsertLocation","showModalLoading","showLayerModalLoading","MyUpload","fileAccept","maxUploadLength","autoUpload","isSourceFile","fileListType","maxMegabytes","isPictureCardType","isOnlyPicture","uploaderResponse","filePath","fileSuffix","originalFileName","isSingle","fileList","setTruefileList","fileState","setFileState","hasUploadDoneServerIdsRef","noUploader","uid","modalRef","showLoading","hasGetDetailIds","server","currentServers","hasServer","isPic","warn","serverId","status","uploadAsync","userinfo","userId","userDO","FormData","append","userIdName","re","ulploadData","catch","isNoUploader","finally","handleUpload","commitButton","uploadButtonName","uploadButton","viewerRef","listType","accept","onPreview","viewer","view","removeFlieFromList","serverIndex","beforeUpload","currM","toFixed","reader","FileReader","readAsDataURL","onloadend","sourceFile","result","position","visibility","top","transform","document","body","ZerodLayerContext","LoadMapIframe","mapType","messageCallback","iframe","getElementById","contentWindow","onload","postMessage","event","loc","latlng","location","address","longitude","latitude","module","poiname","poiaddress","lng","lat","window","addEventListener","removeEventListener","getWebService","webserviceUrlDO","geocoder","serviceApi","MapChooseAddress","thisType","inputValue","setInputValue","triggerModal","triggerModalLodaing","openMap","scroll","res","area","ac","regeocode","addressComponent","adcode","citycode","country","towncode","province","city","district","street","streetNumber","ad_info","city_code","nation","onBlur","onFocus","InputGroup","Group","regExpsList","pattern","regExps","replace","ZauxiliaryInput","selectValue","setSelectValue","setVals","CascaderLoader","changeOnSelect","selectListFieldNames","optionsChange","others","setOptions","loadData","selectedOptions","targetOption","treeDataAddKey","isLeaf","useGetGroupsCallback","groupsRef","useLinkageCallback","selfItem","useGetOtherFormsCallback","forms","isAll","subForm","useDoSubmitCallback","buttonType","useSubmitBtn","linkageTypeActionName","getOptionsRules","reg","message","YYYY","docustomOnChange","rest","confun","distMap","srcMap","distKey","assign","srcKey","ciilds","defaultFieldConfig","selectControl","controlName","requestQuery","getCurrentControl","hasAsync","currnetFormAllAsync","getAsyncQueue","regType","validateTrigger","showTime","format","setShowTime","startsWith","use12Hours","timeOpt","es","isTimeRange","time","newProps","saveOptionsMapKey","isString","newRules","minUploadLength","currentSaturability","hsv","s","minSaturability","linkageAction","srcControlRemark","linkRemark1","linkRemark2","linkRemark3","linkRemark4","ValueLinkConfigured","configured","setConfigured","getCurrentConfigured","c","valueLabel","AmdDocHOC","HOC","AshowDemoHOC","doc","demo0","Myjavascript","Dom","demo1","formValue","busId","contactName","problemNo","istName","registerProblemDescription","caseTypeLabel","initiatorName","initiatorId","registerPictures","fileName","fileSize","caseReasonCode","problemOriginCodeLabel","caseType","problemAddress","problemOriginCode","caseReasonCodeLabel","contactPhone","busStatus","dispatchTag","dispatchTagLabel","receiveUserAccount","receiveUserAccountLabel","busStatusName","submit","demo2","linkageTypes","tab","active","itemKeys","LinkageConfig","wrapperRef","tabPanes","setTabPanes","tabKey","setTabKey","linkageTypesState","setLinkageTypes","curentLinkTypeRef","objRef","defaultLinkagesRef","insetLocaltion","setInsetLocaltion","onItemClick","l","currentControl","setCurrentControl","configuredRef","IDconfigured","age","currentConf","currentIndex","currentConfigured","currentLinkageType","ageIndex","getageIndex","currentKey","newConfigs","ReactDom","existLinkage","links","other","dv","di","existIndex","con","newFields","f","hasFieldindex","df","existLinkageIndex","hasAgeIndex","GroupNameEdit","edited","setEdited","returner","TreeSelectLoader","treeData","treeDefaultExpandAll","allowClear","treeNode","sortList","o1","o2","v1","v2","pareLinkages","getFormItem","getRules","newField","getGroupItem","sort","createRef","translateGroups","removeSomeLinkage","unlikeness","InsertGroupBtns","onInsertUp","onInsertDown","IDLinkagesConfigured"],"mappings":"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A;AAnCF,sCADD,EAwCC;AAAQ,QAAI,EAAC,SAAb;AAAuB,SAAK,MAA5B;AAA6B,WAAO,EAAEqe,MAAtC;AAA8C,aAAS,EAAC,iBAAxD;AAA0E,QAAI,EAAC;AAA/E,gCAxCD,CADD,CAhGD,CADD;AAiJA;;AACDC,gBAAgB,CAACjX,SAAjB,GAA6BA,SAA7B;;eACeS,eAAMC,IAAN,CAAWuW,gBAAX,C;;;;;;;;;;;;;;;;;ACvcf;;;;;;;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA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","file":"static/js/7.91e78f60b77409920019.js","sourcesContent":["module.exports = (__webpack_require__(\"9w1k\"))(359);","module.exports = (__webpack_require__(\"9w1k\"))(489);","import React, { useState, useEffect, useRef, useImperativeHandle, useCallback } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport FormViewer from \"./FormViewer\";\r\nimport FormContext from \"./FormContext\";\r\nimport { Button, Icon, Tag, Col, Slider, message, Modal, Tooltip } from \"antd\";\r\nimport controls from \"./controls\";\r\nimport Zform from \"../Zform\";\r\nimport { dataType, GenNonDuplicateID } from \"../zTool\";\r\nimport ZerodMainContext from \"../ZerodMainContext\";\r\n// import ZerodLayerContext from \"../ZerodLayerContext\";\r\nimport \"../../dragula/dragula.css\";\r\nimport dragula from \"../../dragula/dragula\";\r\nimport AddColForm from \"./AddColForm\";\r\nimport GroupMoveBtns from \"./GroupMoveBtns\";\r\nimport InsertGroupBtns from \"./InsertGroupBtns\";\r\nimport GroupNameEdit from \"./GroupNameEdit\";\r\nimport LinkageConfig from \"./LinkageConfig\";\r\nimport { getGroupItem, pareLinkages, removeSomeLinkage } from \"./common\";\r\nimport ZfullLayer from \"../ZfullLayer\";\r\n//校验、提取最新的formData数据\r\nfunction commitFormData(formViewerRef, layoutFormRef, linkageRef, onSave) {\r\n\tlayoutFormRef.current.validateFields((errors, values) => {\r\n\t\tif (errors) return;\r\n\t\tconst groups = formViewerRef.current.getFormGroups();\r\n\t\tconst newFormData = {\r\n\t\t\tcode: values.code,\r\n\t\t\tdescription: values.description,\r\n\t\t\tname: values.name,\r\n\t\t\tlabelLayout: values.labelLayout,\r\n\t\t\tformSubmitTypeCode: values.formSubmitTypeCode,\r\n\t\t};\r\n\t\tlet hasEmptyGroup = false;\r\n\t\tnewFormData.sectionList = groups.map((g, gindex) => {\r\n\t\t\tconst formList = g.groupRef.current.getFormItems().map((item, itemindex) => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tfieldKey: item.fieldKey,\r\n\t\t\t\t\tfieldType: item.fieldType,\r\n\t\t\t\t\tid: item.id,\r\n\t\t\t\t\tconfig: item.config,\r\n\t\t\t\t\tdisabled: item.disabled,\r\n\t\t\t\t\tinitialValue: item.initialValue,\r\n\t\t\t\t\tlabel: item.label,\r\n\t\t\t\t\tregularExpression: item.regularExpression,\r\n\t\t\t\t\trequired: item.required,\r\n\t\t\t\t\tsectionId: item.sectionId,\r\n\t\t\t\t\tspan: item.span,\r\n\t\t\t\t\tseq: itemindex + 1,\r\n\t\t\t\t\terrorMsg: item.errorMsg,\r\n\t\t\t\t\tremark: item.remark,\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t\t\tif (!hasEmptyGroup && !formList.length) {\r\n\t\t\t\thasEmptyGroup = true;\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\tid: g.additive ? undefined : g.id,\r\n\t\t\t\tname: g.name,\r\n\t\t\t\tformFieldInfoList: formList,\r\n\t\t\t\tseq: gindex + 1,\r\n\t\t\t};\r\n\t\t});\r\n\t\tif (hasEmptyGroup) {\r\n\t\t\tmessage.error(\"存在空的组，请为其添加控件或者移除该组\");\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tnewFormData.linkages = Array.isArray(linkageRef.current) ? JSON.stringify(linkageRef.current) : null;\r\n\t\ttypeof onSave === \"function\" && onSave(newFormData);\r\n\t});\r\n}\r\n\r\nfunction useGetItems(\r\n\tformData,\r\n\tformViewerRef,\r\n\tlayoutFormRef,\r\n\tshowModal,\r\n\tonSave,\r\n\tlayerRef,\r\n\tshowViewerRef,\r\n\tformRenderedRef,\r\n\tlinkageRef,\r\n\tdomWrapperElRef,\r\n\tgetInsertLocation,\r\n) {\r\n\tconst hasCodeRef = useRef(false);\r\n\t// const linkageRef = useRef(pareLinkages(formData.linkages));\r\n\tuseEffect(() => {\r\n\t\tif (layoutFormRef.current && formRenderedRef.current) {\r\n\t\t\tlayoutFormRef.current.setFieldsValue({\r\n\t\t\t\tname: formData.name,\r\n\t\t\t\tcode: formData.code,\r\n\t\t\t\tlabelLayout: formData.labelLayout,\r\n\t\t\t\tdescription: formData.description,\r\n\t\t\t\tformSubmitTypeCode: formData.formSubmitTypeCode,\r\n\t\t\t});\r\n\t\t}\r\n\t\thasCodeRef.current = !!formData.code;\r\n\t\tlinkageRef.current = pareLinkages(formData.linkages);\r\n\t}, [formData, layoutFormRef.current, formRenderedRef.current]);\r\n\r\n\tconst itemsRef = useRef([\r\n\t\t{\r\n\t\t\tkey: \"name\",\r\n\t\t\tlabel: \"表单名称\",\r\n\t\t\tspan: 4,\r\n\t\t\trender: (form, changeFormItems) => {\r\n\t\t\t\treturn controls[\"1\"].getControl();\r\n\t\t\t},\r\n\t\t\toptions: controls[\"1\"].getOptions({\r\n\t\t\t\trequired: true,\r\n\t\t\t\tinitialValue: formData.name,\r\n\t\t\t}),\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"code\",\r\n\t\t\tlabel: \"表单编码\",\r\n\t\t\tspan: 4,\r\n\t\t\trender: (form, changeFormItems) => {\r\n\t\t\t\treturn controls[\"1\"].getControl({}, undefined, undefined, { disabled: hasCodeRef.current });\r\n\t\t\t},\r\n\t\t\toptions: controls[\"1\"].getOptions({\r\n\t\t\t\trequired: true,\r\n\t\t\t\tinitialValue: formData.code,\r\n\t\t\t}),\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"labelLayout\",\r\n\t\t\tlabel: \"label布局\",\r\n\t\t\tspan: 3,\r\n\t\t\tlabelFocused: true,\r\n\t\t\trender: (form, changeFormItems) => {\r\n\t\t\t\treturn controls[\"3\"].getControl(\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tconfig: {\r\n\t\t\t\t\t\t\tselectList: [\r\n\t\t\t\t\t\t\t\t{ label: \"内联\", value: \"inline\" },\r\n\t\t\t\t\t\t\t\t{ label: \"纵向\", value: \"vertical\" },\r\n\t\t\t\t\t\t\t\t{ label: \"横向\", value: \"horizontal\" },\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t\tundefined,\r\n\t\t\t\t\tundefined,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tonChange: value => {\r\n\t\t\t\t\t\t\tconst groups = formViewerRef.current.getFormGroups();\r\n\t\t\t\t\t\t\tformViewerRef.current.setFormGroups(\r\n\t\t\t\t\t\t\t\tgroups.map(item => {\r\n\t\t\t\t\t\t\t\t\treturn { ...item, labelLayout: value };\r\n\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t\toptions: controls[\"3\"].getOptions({\r\n\t\t\t\tinitialValue: formData.labelLayout,\r\n\t\t\t}),\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"formSubmitTypeCode\",\r\n\t\t\tlabel: \"表单提交类型\",\r\n\t\t\tspan: 3,\r\n\t\t\tlabelFocused: true,\r\n\t\t\trender: (form, changeFormItems) => {\r\n\t\t\t\treturn controls[\"3\"].getControl({\r\n\t\t\t\t\tconfig: {\r\n\t\t\t\t\t\tselectList: [\r\n\t\t\t\t\t\t\t{ label: \"普通表单\", value: 1 },\r\n\t\t\t\t\t\t\t{ label: \"文书编辑\", value: 2 },\r\n\t\t\t\t\t\t\t{ label: \"文件签名\", value: 3 },\r\n\t\t\t\t\t\t\t{ label: \"文件盖章\", value: 4 },\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\toptions: controls[\"3\"].getOptions({\r\n\t\t\t\tinitialValue: 1,\r\n\t\t\t}),\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"buttons\",\r\n\t\t\tlabel: null,\r\n\t\t\tspan: 10,\r\n\t\t\trender: () => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div className=\"z-text-right\">\r\n\t\t\t\t\t\t{/* <Button\r\n\t\t\t\t\t\t\ttype=\"default\"\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tconst insetLocaltion = getInsertLocation(domWrapperElRef.current);\r\n\t\t\t\t\t\t\t\tshowModal({\r\n\t\t\t\t\t\t\t\t\tshow: false,\r\n\t\t\t\t\t\t\t\t\tmodal: insetLocaltion,\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\ticon=\"close\"\r\n\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\tclassName=\"z-margin-right-12\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t关闭窗口\r\n\t\t\t\t\t\t</Button> */}\r\n\t\t\t\t\t\t{/* <Button\r\n\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\tonClick={() => {}}\r\n\t\t\t\t\t\t\t// icon=\"close\"\r\n\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\tclassName=\"z-margin-right-12\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t导入JOSN\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\tonClick={() => {}}\r\n\t\t\t\t\t\t\t// icon=\"close\"\r\n\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\tclassName=\"z-margin-right-12\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t导出JOSN\r\n\t\t\t\t\t\t</Button> */}\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\ticon=\"block\"\r\n\t\t\t\t\t\t\tclassName=\"z-margin-right-12\"\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tcommitFormData(formViewerRef, layoutFormRef, linkageRef, newFormData => {\r\n\t\t\t\t\t\t\t\t\tshowModal({\r\n\t\t\t\t\t\t\t\t\t\tshow: true,\r\n\t\t\t\t\t\t\t\t\t\tmodal: \"linkageConfigModal\",\r\n\t\t\t\t\t\t\t\t\t\tcontent: (\r\n\t\t\t\t\t\t\t\t\t\t\t<LinkageConfig\r\n\t\t\t\t\t\t\t\t\t\t\t\tnewFormData={newFormData}\r\n\t\t\t\t\t\t\t\t\t\t\t\tdefaultValue={linkageRef.current}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={newLinkages => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(JSON.stringify(newLinkages));\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlinkageRef.current = newLinkages;\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t联动配置\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\ticon=\"file-unknown\"\r\n\t\t\t\t\t\t\tclassName=\"z-margin-right-12\"\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tcommitFormData(formViewerRef, layoutFormRef, linkageRef, newFormData => {\r\n\t\t\t\t\t\t\t\t\tlayerRef.current.methods.showLayer(\r\n\t\t\t\t\t\t\t\t\t\ttrue,\r\n\t\t\t\t\t\t\t\t\t\t() => {\r\n\t\t\t\t\t\t\t\t\t\t\tshowViewerRef.current.setFormData(newFormData);\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\ttrue,\r\n\t\t\t\t\t\t\t\t\t)();\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t预览\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\ticon=\"check\"\r\n\t\t\t\t\t\t\tclassName=\"z-margin-right-12\"\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tcommitFormData(formViewerRef, layoutFormRef, linkageRef, onSave);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t保存\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"description\",\r\n\t\t\tlabel: \"描述\",\r\n\t\t\tspan: 24,\r\n\t\t\trender: (form, changeFormItems) => {\r\n\t\t\t\treturn controls[\"2\"].getControl();\r\n\t\t\t},\r\n\t\t\toptions: controls[\"2\"].getOptions({\r\n\t\t\t\trequired: false,\r\n\t\t\t\tinitialValue: formData.description,\r\n\t\t\t}),\r\n\t\t},\r\n\t]);\r\n\treturn itemsRef.current;\r\n}\r\n\r\nfunction openUpdateControl(showModal, groupId, formViewerRef, linkageRef, formItem, type) {\r\n\tshowModal({\r\n\t\tshow: true,\r\n\t\tmodal: \"controlProtoModal\",\r\n\t\tcontent: (\r\n\t\t\t<AddColForm\r\n\t\t\t\tgroupId={groupId}\r\n\t\t\t\tformItem={formItem}\r\n\t\t\t\tformViewerRef={formViewerRef}\r\n\t\t\t\tlinkageRef={linkageRef}\r\n\t\t\t\ttype={type}\r\n\t\t\t/>\r\n\t\t),\r\n\t\twidth: \"800px\",\r\n\t});\r\n}\r\n\r\nfunction setNewCurrentGroupItems(formViewerRef, item, action) {\r\n\tconst groups = formViewerRef.current.getFormGroups();\r\n\tconst groupRefIndex = groups.findIndex(g => g.id == item.groupId);\r\n\tconst groupRef = groups[groupRefIndex].groupRef;\r\n\tconst currentItems = groupRef.current.getFormItems().slice(0);\r\n\tconst i = currentItems.findIndex(o => o.key == item.key);\r\n\tconst newItems = typeof action === \"function\" ? action(currentItems, i) : currentItems;\r\n\tgroupRef.current.setFormItems(newItems);\r\n}\r\n\r\nfunction useFormProps(showModal, formViewerRef, linkageRef) {\r\n\treturn useRef({\r\n\t\tcolContentRender: (item, form) => {\r\n\t\t\treturn (\r\n\t\t\t\t<div className=\"z-live-tool\">\r\n\t\t\t\t\t<div style={{ width: \"40%\" }} className=\"z-padding-left-10\">\r\n\t\t\t\t\t\t<Slider\r\n\t\t\t\t\t\t\tmin={2}\r\n\t\t\t\t\t\t\tmax={24}\r\n\t\t\t\t\t\t\tdefaultValue={item.span}\r\n\t\t\t\t\t\t\tonAfterChange={value => {\r\n\t\t\t\t\t\t\t\tsetNewCurrentGroupItems(formViewerRef, item, function(currentItems, i) {\r\n\t\t\t\t\t\t\t\t\tcurrentItems.splice(i, 1, { ...currentItems[i], span: value });\r\n\t\t\t\t\t\t\t\t\treturn [...currentItems];\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Tooltip placement=\"top\" title=\"移除控件\">\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclassName=\"z-live-tool-item right-item delete\"\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tModal.confirm({\r\n\t\t\t\t\t\t\t\t\t\ttitle: `确认移除[${item.label}]这个控件吗?`,\r\n\t\t\t\t\t\t\t\t\t\tokText: \"确定\",\r\n\t\t\t\t\t\t\t\t\t\tcancelText: \"取消\",\r\n\t\t\t\t\t\t\t\t\t\tonOk() {\r\n\t\t\t\t\t\t\t\t\t\t\tsetNewCurrentGroupItems(formViewerRef, item, function(currentItems, i) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tlinkageRef.current &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tremoveSomeLinkage(linkageRef, currentItems[i].fieldKey);\r\n\t\t\t\t\t\t\t\t\t\t\t\tcurrentItems.splice(i, 1);\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn currentItems;\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Icon type=\"delete\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t<Tooltip placement=\"top\" title=\"修改控件\">\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclassName=\"z-live-tool-item right-item\"\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\topenUpdateControl(\r\n\t\t\t\t\t\t\t\t\t\tshowModal,\r\n\t\t\t\t\t\t\t\t\t\titem.groupId,\r\n\t\t\t\t\t\t\t\t\t\tformViewerRef,\r\n\t\t\t\t\t\t\t\t\t\tlinkageRef,\r\n\t\t\t\t\t\t\t\t\t\titem,\r\n\t\t\t\t\t\t\t\t\t\t\"update\",\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Icon type=\"form\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t<div className=\"z-live-tool-item right-item\">\r\n\t\t\t\t\t\t\t<i className=\"zero-icon zerod-move\" data-handle=\"handle\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t},\r\n\t\tsubmitBtnRender: (onSubmit, props) => {\r\n\t\t\treturn (\r\n\t\t\t\t<Col\r\n\t\t\t\t\tspan={24}\r\n\t\t\t\t\tdata-groupid={props.group.id}\r\n\t\t\t\t\tclassName=\"z-text-center z-margin-bottom-10 z-add-formitem-btn\"\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\topenUpdateControl(showModal, props.group.id, formViewerRef, linkageRef, null, \"add\");\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Icon type=\"plus\" /> 添加控件\r\n\t\t\t\t</Col>\r\n\t\t\t);\r\n\t\t},\r\n\t}).current;\r\n}\r\nfunction getParentElement(el) {\r\n\tlet _pE = el.parentElement;\r\n\twhile (_pE && !_pE.className.includes(\"z-form-row\")) {\r\n\t\t_pE = el.parentElement;\r\n\t}\r\n\treturn _pE;\r\n}\r\n\r\nfunction getGroupIndex(formViewerRef, group) {\r\n\tconst groups = formViewerRef.current.getFormGroups();\r\n\tconst index = groups.findIndex(g => {\r\n\t\treturn g.id === group.id;\r\n\t});\r\n\tconst newGroups = groups.slice(0);\r\n\treturn [newGroups, index];\r\n}\r\n\r\nfunction getNewGroupData(labelLayout, groupnameNumRef) {\r\n\tconst item = {\r\n\t\tadditive: true,\r\n\t\tname: `组名-${groupnameNumRef.current}`,\r\n\t\tid: GenNonDuplicateID(),\r\n\t\tformFieldInfoList: [],\r\n\t\tlabelLayout,\r\n\t};\r\n\tgroupnameNumRef.current++;\r\n\treturn item;\r\n}\r\n\r\nconst propTypes = {\r\n\tformData: PropTypes.object.isRequired,\r\n\tonSave: PropTypes.func,\r\n\tshowRightModal: PropTypes.func,\r\n\tshowLayerRightModal: PropTypes.func,\r\n};\r\nconst defaultProps = {\r\n\tformData: {},\r\n};\r\n\r\nconst ShowFormViewer = React.memo(\r\n\tReact.forwardRef(function(props, ref) {\r\n\t\tconst [formData, setFormData] = useState(null);\r\n\t\tuseImperativeHandle(ref, () => {\r\n\t\t\treturn {\r\n\t\t\t\tsetFormData,\r\n\t\t\t};\r\n\t\t});\r\n\t\treturn formData ? (\r\n\t\t\t<div style={{ width: \"90%\", margin: \"0 auto\", padding: \"20px 0\" }}>\r\n\t\t\t\t<FormViewer formData={formData} />\r\n\t\t\t</div>\r\n\t\t) : (\r\n\t\t\t<div style={{ height: \"100px\" }} />\r\n\t\t);\r\n\t}),\r\n);\r\n\r\nconst ZliveForm = ZerodMainContext.setConsumer(function LiveForm({\r\n\tformData,\r\n\tonSave,\r\n\tshowRightModal,\r\n\tgetInsertLocation,\r\n}) {\r\n\tformData.customControlRender = null;\r\n\tconst domWrapperElRef = useRef();\r\n\tconst groupnameNumRef = useRef(1);\r\n\tconst layerRef = useRef(null);\r\n\tconst linkageRef = useRef(null);\r\n\tconst showViewerRef = useRef(null);\r\n\tconst layoutFormRef = useRef(null);\r\n\t//取FormViewer的实例\r\n\tconst formViewerRef = useRef(null);\r\n\t//打开modal的方法\r\n\tconst showModal = dataType.isFunction(showRightModal) ? showRightModal : () => {};\r\n\tif (!formData.sectionList || !formData.sectionList.length) {\r\n\t\tformData.sectionList = [getNewGroupData(formData.labelLayout, groupnameNumRef)];\r\n\t}\r\n\t//当前Zform的items\r\n\tconst formRenderedRef = useRef(false);\r\n\tconst items = useGetItems(\r\n\t\tformData,\r\n\t\tformViewerRef,\r\n\t\tlayoutFormRef,\r\n\t\tshowModal,\r\n\t\tonSave,\r\n\t\tlayerRef,\r\n\t\tshowViewerRef,\r\n\t\tformRenderedRef,\r\n\t\tlinkageRef,\r\n\t\tdomWrapperElRef,\r\n\t\tgetInsertLocation,\r\n\t);\r\n\t//FormGroup里面Zform的扩展属性\r\n\tconst formProps = useFormProps(showModal, formViewerRef, linkageRef);\r\n\t//存dragula的实例\r\n\tconst drakeRef = useRef(null);\r\n\t//存拖动元素下一个元素\r\n\tconst nextSiblingRef = useRef(null);\r\n\t//动态表单组变化的回调\r\n\tconst onFormGroupsChange = useCallback(\r\n\t\tformGroups => {\r\n\t\t\tif (!drakeRef.current) {\r\n\t\t\t\tif (formGroups.length) {\r\n\t\t\t\t\tdrakeRef.current = dragula(\r\n\t\t\t\t\t\tformGroups.map(g => {\r\n\t\t\t\t\t\t\treturn g.groupRef.current.getWrapperDom().querySelector(\".z-form-row\");\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tremoveOnSpill: false,\r\n\t\t\t\t\t\t\trevertOnSpill: true,\r\n\t\t\t\t\t\t\tdirection: \"mixed\",\r\n\t\t\t\t\t\t\tcopy: false,\r\n\t\t\t\t\t\t\tcopySortSource: false,\r\n\t\t\t\t\t\t\taccepts: function(el, target, source, sibling) {\r\n\t\t\t\t\t\t\t\t//因为 z-add-formitem-btn 按钮是target/source最后一个子元素，也就是没有sibling时是不能被停放的\r\n\t\t\t\t\t\t\t\tif (!sibling) {\r\n\t\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tmoves: function(el, source, handle, sibling) {\r\n\t\t\t\t\t\t\t\treturn handle.dataset.handle == \"handle\";\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t)\r\n\t\t\t\t\t\t.on(\"cloned\", (cloneEl, sourceEl, type) => {\r\n\t\t\t\t\t\t\tnextSiblingRef.current = sourceEl.nextElementSibling;\r\n\t\t\t\t\t\t\tconst _parEl = getParentElement(sourceEl);\r\n\t\t\t\t\t\t\tcloneEl.className += ` z-live-form-item-clone ${_parEl.className.slice(\r\n\t\t\t\t\t\t\t\t/z\\-form\\-label\\-/g.exec(_parEl.className).index,\r\n\t\t\t\t\t\t\t)}`;\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.on(\"drop\", function(el, target, source, sibling) {\r\n\t\t\t\t\t\t\tconst groups = formViewerRef.current.getFormGroups();\r\n\t\t\t\t\t\t\tconst currentItem = JSON.parse(el.dataset.item);\r\n\t\t\t\t\t\t\tconst currentGroup = groups.find(g => {\r\n\t\t\t\t\t\t\t\treturn g.id == currentItem.groupId;\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tconst newFormItems = currentGroup.groupRef.current.getFormItems().slice(0);\r\n\t\t\t\t\t\t\tconst currentindex = newFormItems.findIndex(item => {\r\n\t\t\t\t\t\t\t\treturn item.key == currentItem.key;\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tconst currentFormitem = newFormItems[currentindex];\r\n\t\t\t\t\t\t\tif (target === source) {\r\n\t\t\t\t\t\t\t\tif (sibling.dataset.item) {\r\n\t\t\t\t\t\t\t\t\tconst siblingItem = JSON.parse(sibling.dataset.item);\r\n\t\t\t\t\t\t\t\t\tconst sibingindex = newFormItems.findIndex(item => {\r\n\t\t\t\t\t\t\t\t\t\treturn item.key == siblingItem.key;\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tif (currentindex < sibingindex) {\r\n\t\t\t\t\t\t\t\t\t\tnewFormItems.splice(sibingindex, 0, currentFormitem);\r\n\t\t\t\t\t\t\t\t\t\tnewFormItems.splice(currentindex, 1);\r\n\t\t\t\t\t\t\t\t\t} else if (currentindex > sibingindex) {\r\n\t\t\t\t\t\t\t\t\t\tnewFormItems.splice(currentindex, 1);\r\n\t\t\t\t\t\t\t\t\t\tnewFormItems.splice(sibingindex, 0, currentFormitem);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tnewFormItems.splice(currentindex, 1);\r\n\t\t\t\t\t\t\t\t\tnewFormItems.push(currentFormitem);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tcurrentGroup.groupRef.current.setFormItems(newFormItems);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tlet targetGroup = null;\r\n\t\t\t\t\t\t\t\tlet targetFormItems = [];\r\n\t\t\t\t\t\t\t\tif (sibling.dataset.item) {\r\n\t\t\t\t\t\t\t\t\tconst siblingItem = JSON.parse(sibling.dataset.item);\r\n\r\n\t\t\t\t\t\t\t\t\ttargetGroup = groups.find(g => {\r\n\t\t\t\t\t\t\t\t\t\treturn g.id == siblingItem.groupId;\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\ttargetFormItems = targetGroup.groupRef.current.getFormItems().slice(0);\r\n\t\t\t\t\t\t\t\t\tconst sibingindex = targetFormItems.findIndex(item => {\r\n\t\t\t\t\t\t\t\t\t\treturn item.key == siblingItem.key;\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tcurrentFormitem.groupId = siblingItem.groupId;\r\n\t\t\t\t\t\t\t\t\ttargetFormItems.splice(sibingindex, 0, currentFormitem);\r\n\t\t\t\t\t\t\t\t} else if (sibling.dataset.groupid) {\r\n\t\t\t\t\t\t\t\t\ttargetGroup = groups.find(g => {\r\n\t\t\t\t\t\t\t\t\t\treturn g.id == sibling.dataset.groupid;\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\ttargetFormItems = targetGroup.groupRef.current.getFormItems().slice(0);\r\n\t\t\t\t\t\t\t\t\tcurrentFormitem.groupId = sibling.dataset.groupid;\r\n\t\t\t\t\t\t\t\t\ttargetFormItems.push(currentFormitem);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif (targetGroup) {\r\n\t\t\t\t\t\t\t\t\ttarget.removeChild(el);\r\n\t\t\t\t\t\t\t\t\tsource.appendChild(el);\r\n\t\t\t\t\t\t\t\t\t// console.log(target,source)\r\n\t\t\t\t\t\t\t\t\tnewFormItems.splice(currentindex, 1);\r\n\t\t\t\t\t\t\t\t\ttargetGroup.groupRef.current.setFormItems(targetFormItems);\r\n\t\t\t\t\t\t\t\t\tcurrentGroup.groupRef.current.setFormItems(newFormItems);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tdrakeRef.current.containers = formGroups.map(g => {\r\n\t\t\t\t\treturn g.groupRef.current.getWrapperDom().querySelector(\".z-form-row\");\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\t[drakeRef.current, formViewerRef.current, nextSiblingRef.current],\r\n\t);\r\n\tconst getFormInstance = useCallback(\r\n\t\tform => {\r\n\t\t\tlayoutFormRef.current = form;\r\n\t\t},\r\n\t\t[layoutFormRef.current],\r\n\t);\r\n\r\n\tconst [pageHeaderBox, setPageHeaderBox] = useState(null);\r\n\tuseEffect(() => {\r\n\t\tlet parEl = domWrapperElRef.current;\r\n\t\twhile (parEl && !parEl.dataset.zgt_modal) {\r\n\t\t\tparEl = parEl.parentElement;\r\n\t\t}\r\n\t\tif (parEl) {\r\n\t\t\tsetPageHeaderBox(parEl.querySelector(\"#ZpageHeaderBox\"));\r\n\t\t}\r\n\t}, []);\r\n\tconst configHeader = (\r\n\t\t<div className=\"z-panel is-radius-top z-shadow-blue\">\r\n\t\t\t<div className=\"z-panel-body z-padding-bottom-0-important\">\r\n\t\t\t\t<Zform\r\n\t\t\t\t\titems={items}\r\n\t\t\t\t\tlabelLayout=\"inline\"\r\n\t\t\t\t\tstyle={{ width: \"100%\" }}\r\n\t\t\t\t\tsubmitBtnName=\"\"\r\n\t\t\t\t\tgetFormInstance={getFormInstance}\r\n\t\t\t\t\tafterItemsRendered={() => {\r\n\t\t\t\t\t\tformRenderedRef.current = true;\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n\treturn (\r\n\t\t<section ref={domWrapperElRef} className=\"z-padding-14\">\r\n\t\t\t<FormContext.Provider value={formProps}>\r\n\t\t\t\t{pageHeaderBox ? ReactDOM.createPortal(configHeader, pageHeaderBox) : configHeader}\r\n\t\t\t\t<FormViewer\r\n\t\t\t\t\tonFormGroupsChange={onFormGroupsChange}\r\n\t\t\t\t\tref={formViewerRef}\r\n\t\t\t\t\tclassName=\"z-live-form\"\r\n\t\t\t\t\tformData={formData}\r\n\t\t\t\t\ttitle={false}\r\n\t\t\t\t\tlinkage={false}\r\n\t\t\t\t\tnoAsync={true}\r\n\t\t\t\t\tgroupTitleLeftRender={(group, stateGroupName, onGroupNameChange, groups) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<GroupNameEdit\r\n\t\t\t\t\t\t\t\tvalue={stateGroupName}\r\n\t\t\t\t\t\t\t\tonChange={val => {\r\n\t\t\t\t\t\t\t\t\tconst hasindex = groups.findIndex(item => item.name === val);\r\n\t\t\t\t\t\t\t\t\tif (hasindex > -1) {\r\n\t\t\t\t\t\t\t\t\t\tmessage.error(\"组名不能与其他组名相同\");\r\n\t\t\t\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tonGroupNameChange(val);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tgroupTitleRightRender={group => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<InsertGroupBtns\r\n\t\t\t\t\t\t\t\t\tonInsertUp={() => {\r\n\t\t\t\t\t\t\t\t\t\tconst [newGroups, index] = getGroupIndex(formViewerRef, group);\r\n\t\t\t\t\t\t\t\t\t\tconst groupItem = getGroupItem({\r\n\t\t\t\t\t\t\t\t\t\t\tgroup: getNewGroupData(\r\n\t\t\t\t\t\t\t\t\t\t\t\tlayoutFormRef.current.getFieldValue(\"labelLayout\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\tgroupnameNumRef,\r\n\t\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\tif (index === 0) {\r\n\t\t\t\t\t\t\t\t\t\t\tnewGroups.unshift(groupItem);\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\tnewGroups.splice(index, 0, groupItem);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tformViewerRef.current.setFormGroups(newGroups);\r\n\t\t\t\t\t\t\t\t\t\tmessage.success(\"向上插入组成功\");\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tonInsertDown={() => {\r\n\t\t\t\t\t\t\t\t\t\tconst [newGroups, index] = getGroupIndex(formViewerRef, group);\r\n\t\t\t\t\t\t\t\t\t\tconst groupItem = getGroupItem({\r\n\t\t\t\t\t\t\t\t\t\t\tgroup: getNewGroupData(\r\n\t\t\t\t\t\t\t\t\t\t\t\tlayoutFormRef.current.getFieldValue(\"labelLayout\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\tgroupnameNumRef,\r\n\t\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\tif (index === newGroups.length - 1) {\r\n\t\t\t\t\t\t\t\t\t\t\tnewGroups.push(groupItem);\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\tnewGroups.splice(index + 1, 0, groupItem);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tformViewerRef.current.setFormGroups(newGroups);\r\n\t\t\t\t\t\t\t\t\t\tmessage.success(\"向下插入组成功\");\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<GroupMoveBtns\r\n\t\t\t\t\t\t\t\t\tonMoveUp={() => {\r\n\t\t\t\t\t\t\t\t\t\tconst [newGroups, index] = getGroupIndex(formViewerRef, group);\r\n\t\t\t\t\t\t\t\t\t\tif (index > 0) {\r\n\t\t\t\t\t\t\t\t\t\t\tnewGroups.splice(index, 1);\r\n\t\t\t\t\t\t\t\t\t\t\tnewGroups.splice(index - 1, 0, group);\r\n\t\t\t\t\t\t\t\t\t\t\tformViewerRef.current.setFormGroups(newGroups);\r\n\t\t\t\t\t\t\t\t\t\t\tmessage.success(\"上移成功\");\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tonMoveDown={() => {\r\n\t\t\t\t\t\t\t\t\t\tconst [newGroups, index] = getGroupIndex(formViewerRef, group);\r\n\t\t\t\t\t\t\t\t\t\tif (index > -1 && index < newGroups.length - 1) {\r\n\t\t\t\t\t\t\t\t\t\t\tnewGroups.splice(index + 2, 0, group);\r\n\t\t\t\t\t\t\t\t\t\t\tnewGroups.splice(index, 1);\r\n\t\t\t\t\t\t\t\t\t\t\tformViewerRef.current.setFormGroups(newGroups);\r\n\t\t\t\t\t\t\t\t\t\t\tmessage.success(\"下移成功\");\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tonRemove={() => {\r\n\t\t\t\t\t\t\t\t\t\tModal.confirm({\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: `确认移除[${group.name}]这个组吗?`,\r\n\t\t\t\t\t\t\t\t\t\t\tokText: \"确定\",\r\n\t\t\t\t\t\t\t\t\t\t\tcancelText: \"取消\",\r\n\t\t\t\t\t\t\t\t\t\t\tonOk() {\r\n\t\t\t\t\t\t\t\t\t\t\t\tconst [newGroups, index] = getGroupIndex(formViewerRef, group);\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (newGroups.length === 1) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmessage.warning(\"最后一组不能移除\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\tnewGroups.splice(index, 1);\r\n\t\t\t\t\t\t\t\t\t\t\t\tformViewerRef.current.setFormGroups(newGroups);\r\n\t\t\t\t\t\t\t\t\t\t\t\tmessage.success(\"移除成功\");\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Tag color={group.additive ? \"blue\" : \"magenta\"}>\r\n\t\t\t\t\t\t\t\t\t{group.additive ? `新增` : `ID${group[\"id\"]}`}\r\n\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t</FormContext.Provider>\r\n\t\t\t<ZfullLayer ref={layerRef}>\r\n\t\t\t\t<ShowFormViewer ref={showViewerRef} />\r\n\t\t\t</ZfullLayer>\r\n\t\t</section>\r\n\t);\r\n});\r\nZliveForm.propTypes = propTypes;\r\nZliveForm.defaultProps = defaultProps;\r\nZliveForm.FormViewer = FormViewer;\r\nexport default ZliveForm;\r\n","import React, { useState, useEffect, useRef, useImperativeHandle, useCallback } from \"react\";\r\nimport { Icon, Tooltip } from \"antd\";\r\n\r\nexport default React.memo(function GroupMoveBtns(props) {\r\n\tconst { onMoveUp, onMoveDown,onRemove } = props;\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Tooltip placement=\"top\" title=\"上移\">\r\n\t\t\t\t<div className=\"z-live-tool-item all-border move small z-margin-right-10\" onClick={onMoveUp}>\r\n\t\t\t\t\t<Icon type=\"arrow-up\" />\r\n\t\t\t\t</div>\r\n\t\t\t</Tooltip>\r\n\t\t\t<Tooltip placement=\"top\" title=\"下移\">\r\n\t\t\t\t<div className=\"z-live-tool-item all-border move small z-margin-right-10\" onClick={onMoveDown}>\r\n\t\t\t\t\t<Icon type=\"arrow-down\" />\r\n\t\t\t\t</div>\r\n\t\t\t</Tooltip>\r\n\t\t\t<Tooltip placement=\"top\" title=\"移除组\">\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"z-live-tool-item all-border small delete z-margin-right-10\"\r\n\t\t\t\t\t\tonClick={onRemove}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Icon type=\"delete\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Tooltip>\r\n\t\t</>\r\n\t);\r\n});\r\n","function _readOnlyError(name) {\n  throw new Error(\"\\\"\" + name + \"\\\" is read-only\");\n}\n\nmodule.exports = _readOnlyError;","/*\r\n * @Author: zgt\r\n * @Date: 2019-03-26 15:45:03\r\n * @LastEditors: zgt\r\n * @LastEditTime: 2019-09-30 09:42:34\r\n * @Description: file content\r\n */\r\nimport { arrayFilterBy, dataType } from \"../zTool\";\r\nimport debounce from \"lodash/debounce\";\r\nimport moment from \"moment\";\r\nimport controls from \"./controls\";\r\nfunction concatKeys(values, arr, a, d) {\r\n\tconst getNewFields = () => {\r\n\t\treturn d.fields.map(item => {\r\n\t\t\treturn {\r\n\t\t\t\t...item,\r\n\t\t\t\tsrcFieldKey: a.src.fieldKey,\r\n\t\t\t};\r\n\t\t});\r\n\t};\r\n\tif (\r\n\t\t[\"6\", \"7\", \"8\"].includes(a.linkageType) ||\r\n\t\t(d.srcValue !== undefined && values[a.src.fieldKey] !== undefined && d.srcValue == values[a.src.fieldKey])\r\n\t) {\r\n\t\tarr = arr.concat(getNewFields());\r\n\t} else if (Array.isArray(values[a.src.fieldKey])) {\r\n\t\tif (Array.isArray(d.srcValue)) {\r\n\t\t\tif (JSON.stringify(values[a.src.fieldKey]) == JSON.stringify(d.srcValue)) {\r\n\t\t\t\tarr = arr.concat(getNewFields());\r\n\t\t\t}\r\n\t\t} else if (values[a.src.fieldKey].includes(d.srcValue)) {\r\n\t\t\tarr = arr.concat(getNewFields());\r\n\t\t}\r\n\t}\r\n\treturn arr;\r\n}\r\nconst initialValueLinkageAction = debounce(function(ages = [], getGroupsFn, seftItem) {\r\n\tages = dataType.isArray(ages) ? ages : [];\r\n\t// console.log(ages, getGroupsFn, seftItem);\r\n\tif (!ages.length) return;\r\n\tlet formObjs = [];\r\n\tconst groups = getGroupsFn();\r\n\tgroups.forEach(g => {\r\n\t\tformObjs.push(g.groupRef.current.getForm());\r\n\t});\r\n\tlet values = {};\r\n\tformObjs.forEach(o => {\r\n\t\tvalues = { ...values, ...o.form.getFieldsValue() };\r\n\t});\r\n\tlet cardGetBirthdayKeys = [];\r\n\tlet asyncParamNameKeys = [];\r\n\tlet regionNameKeys = [];\r\n\tlet groupHiddenIds = [];\r\n\tlet hiddenKeys = [];\r\n\tlet disabledKeys = [];\r\n\tlet requiredKeys = [];\r\n\tlet noRequiredKeys = [];\r\n\tlet selectOptions = [];\r\n\tlet hasClearSelect = false;\r\n\tages.forEach(a => {\r\n\t\tif (values.hasOwnProperty(a.src.fieldKey)) {\r\n\t\t\tswitch (a.linkageType) {\r\n\t\t\t\t//地图选点取行政区划\r\n\t\t\t\tcase \"8\":\r\n\t\t\t\t\ta.dist.forEach(d => {\r\n\t\t\t\t\t\tregionNameKeys = concatKeys(values, regionNameKeys, a, d);\r\n\t\t\t\t\t});\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t//单选联动异步请求选项\r\n\t\t\t\tcase \"7\":\r\n\t\t\t\t\ta.dist.forEach(d => {\r\n\t\t\t\t\t\tasyncParamNameKeys = concatKeys(values, asyncParamNameKeys, a, d);\r\n\t\t\t\t\t});\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t//输入身份证自动联动生日\r\n\t\t\t\tcase \"6\":\r\n\t\t\t\t\ta.dist.forEach(d => {\r\n\t\t\t\t\t\tcardGetBirthdayKeys = concatKeys(values, cardGetBirthdayKeys, a, d);\r\n\t\t\t\t\t});\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t//隐藏\r\n\t\t\t\tcase \"5.1\":\r\n\t\t\t\t\ta.dist.forEach(d => {\r\n\t\t\t\t\t\tgroupHiddenIds = concatKeys(values, groupHiddenIds, a, d);\r\n\t\t\t\t\t});\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"5.2\":\r\n\t\t\t\t\ta.dist.forEach(d => {\r\n\t\t\t\t\t\thiddenKeys = concatKeys(values, hiddenKeys, a, d);\r\n\t\t\t\t\t});\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t//禁用\r\n\t\t\t\tcase \"1\":\r\n\t\t\t\t\ta.dist.forEach(d => {\r\n\t\t\t\t\t\tdisabledKeys = concatKeys(values, disabledKeys, a, d);\r\n\t\t\t\t\t});\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t// 必填\r\n\t\t\t\tcase \"2\":\r\n\t\t\t\t\ta.dist.forEach(d => {\r\n\t\t\t\t\t\trequiredKeys = concatKeys(values, requiredKeys, a, d);\r\n\t\t\t\t\t});\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t// 非必填\r\n\t\t\t\tcase \"3\":\r\n\t\t\t\t\ta.dist.forEach(d => {\r\n\t\t\t\t\t\tnoRequiredKeys = concatKeys(values, noRequiredKeys, a, d);\r\n\t\t\t\t\t});\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t// 控制选项\r\n\t\t\t\tcase \"4\":\r\n\t\t\t\t\thasClearSelect = seftItem && a.src.fieldKey == seftItem.fieldKey;\r\n\t\t\t\t\ta.dist.forEach(d => {\r\n\t\t\t\t\t\tselectOptions = concatKeys(values, selectOptions, a, d);\r\n\t\t\t\t\t});\r\n\t\t\t\t\t// console.log(\"selectOptions\",selectOptions)\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\tlet newFormObjs = [];\r\n\tconst newItems = [];\r\n\tconst asyncFields = [];\r\n\tgroups.forEach((g, gindex) => {\r\n\t\tconst findHideGroup = groupHiddenIds.findIndex(gh => {\r\n\t\t\treturn gh.groupName && gh.groupName === g.name;\r\n\t\t});\r\n\t\tg.groupRef.current.show(findHideGroup === -1, seftItem);\r\n\t\tif (findHideGroup === -1) {\r\n\t\t\tnewFormObjs.push(g.groupRef.current.getForm());\r\n\t\t\tg.formItems.forEach(field => {\r\n\t\t\t\tconst hiddenFields = arrayFilterBy(hiddenKeys, { fieldKey: field.fieldKey });\r\n\t\t\t\tif (values.hasOwnProperty(field.fieldKey)) {\r\n\t\t\t\t\tconst disabledFields = arrayFilterBy(disabledKeys, { fieldKey: field.fieldKey });\r\n\t\t\t\t\tconst requiredFields = arrayFilterBy(requiredKeys, { fieldKey: field.fieldKey });\r\n\t\t\t\t\tconst noRequiredFields = arrayFilterBy(noRequiredKeys, { fieldKey: field.fieldKey });\r\n\t\t\t\t\tconst selectOptionsFields = arrayFilterBy(selectOptions, { fieldKey: field.fieldKey });\r\n\r\n\t\t\t\t\tlet e = { ...field };\r\n\t\t\t\t\tif (disabledFields.length) {\r\n\t\t\t\t\t\te.required = 0;\r\n\t\t\t\t\t} else if (requiredFields.length && noRequiredFields.length) {\r\n\t\t\t\t\t\tconsole.error(`同个控件不应该同时存在\"必填\"和\"非必填\"联动配置，请纠正`);\r\n\t\t\t\t\t} else if (requiredFields.length) {\r\n\t\t\t\t\t\te.required = 1;\r\n\t\t\t\t\t} else if (noRequiredFields.length) {\r\n\t\t\t\t\t\te.required = 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (typeof e.config == \"string\") {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\te.config = JSON.parse(e.config);\r\n\t\t\t\t\t\t} catch (e) {}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (selectOptionsFields.length) {\r\n\t\t\t\t\t\te.config = {\r\n\t\t\t\t\t\t\t...e.config,\r\n\t\t\t\t\t\t\tselectList: selectOptionsFields[0].options,\r\n\t\t\t\t\t\t\tcustomOnChange: null,\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconst control =\r\n\t\t\t\t\t\tdisabledFields.length || selectOptionsFields.length\r\n\t\t\t\t\t\t\t? controls[e.fieldType].getControl(e, ages, getGroupsFn, {\r\n\t\t\t\t\t\t\t\t\tdisabled: disabledFields.length > 0 || !!e.disabled,\r\n\t\t\t\t\t\t\t  })\r\n\t\t\t\t\t\t\t: null;\r\n\t\t\t\t\tconst newFieldProto = {\r\n\t\t\t\t\t\t...e,\r\n\t\t\t\t\t\timperative: null,\r\n\t\t\t\t\t\toptions: null,\r\n\t\t\t\t\t\trender: null,\r\n\t\t\t\t\t\tconfig: JSON.stringify(e.config),\r\n\t\t\t\t\t};\r\n\t\t\t\t\tconst currentFieldProto = { ...field, imperative: null, options: null, render: null };\r\n\t\t\t\t\tconst options =\r\n\t\t\t\t\t\tJSON.stringify(newFieldProto) !== JSON.stringify(currentFieldProto)\r\n\t\t\t\t\t\t\t? controls[e.fieldType].getOptions(e)\r\n\t\t\t\t\t\t\t: null;\r\n\t\t\t\t\tconst newItem = {};\r\n\t\t\t\t\tif (control) {\r\n\t\t\t\t\t\tnewItem.control = control;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (options) {\r\n\t\t\t\t\t\tnewItem.options = options;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tnewItems.push({\r\n\t\t\t\t\t\tkey: e.fieldKey,\r\n\t\t\t\t\t\tshow: !hiddenFields.length,\r\n\t\t\t\t\t\tnewItem: control || options ? newItem : e.config.selectionsType == 2 ? undefined : \"reset\",\r\n\t\t\t\t\t});\r\n\t\t\t\t\t//单选联动异步请求选项\r\n\t\t\t\t\tlet paramField = asyncParamNameKeys.find(item => item.fieldKey === e.fieldKey);\r\n\t\t\t\t\tif (paramField && e.config.selectionsType == 2) {\r\n\t\t\t\t\t\te.config = {\r\n\t\t\t\t\t\t\t...e.config,\r\n\t\t\t\t\t\t\tselectionsQuery: {\r\n\t\t\t\t\t\t\t\t...e.config.selectionsQuery,\r\n\t\t\t\t\t\t\t\t[paramField.asyncParamName]: values[paramField.srcFieldKey],\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\te.groupIndex = gindex;\r\n\t\t\t\t\t\te.srcFieldKey = paramField.srcFieldKey;\r\n\t\t\t\t\t\tasyncFields.push(e);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnewItems.push({\r\n\t\t\t\t\t\tkey: field.fieldKey,\r\n\t\t\t\t\t\tshow: !hiddenFields.length,\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n\t// console.log(selectOptions)\r\n\r\n\tnewFormObjs.forEach((o, i) => {\r\n\t\to.methods.changeFormItems(newItems, true);\r\n\t\tasyncFields.forEach(e => {\r\n\t\t\tif ((seftItem && e.srcFieldKey == seftItem.fieldKey) || !seftItem) {\r\n\t\t\t\tconst isShow = o.form.zformItems.find(item => item.key === e.fieldKey && item.ref.current.state.show);\r\n\t\t\t\tif (!isShow && i !== e.groupIndex) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\to.methods.changeFormItems({ key: e.fieldKey, loading: true }, true);\r\n\t\t\t\tcontrols[e.fieldType]\r\n\t\t\t\t\t.getControl(e, ages, getGroupsFn, { isAsync: true }, undefined, o.form)\r\n\t\t\t\t\t.then(control => {\r\n\t\t\t\t\t\to.methods.changeFormItems({ key: e.fieldKey, loading: false, newItem: { control } }, true);\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t\tconst resetDisable = disabledKeys.map(item => item.fieldKey);\r\n\t\tconst resetNoRequired = noRequiredKeys.map(item => item.fieldKey);\r\n\t\tconst resetSelect = selectOptions.map(item => item.fieldKey);\r\n\t\to.form.validateFields([...resetDisable, ...resetNoRequired]);\r\n\t\to.form.resetFields([...resetDisable, ...(hasClearSelect ? resetSelect : [])]);\r\n\t\t//处理身份证号码获取生日联动到其他控件：\r\n\t\tif (cardGetBirthdayKeys.length) {\r\n\t\t\tconst formValues = o.form.getFieldsValue();\r\n\t\t\tcardGetBirthdayKeys.forEach(field => {\r\n\t\t\t\tif (formValues.hasOwnProperty(field.fieldKey)) {\r\n\t\t\t\t\tlet birthday = values[field.srcFieldKey];\r\n\t\t\t\t\tconst val = birthday && birthday.length > 14 ? birthday.substring(6, 14) : \"\";\r\n\t\t\t\t\to.form.setFieldsValue({\r\n\t\t\t\t\t\t[field.fieldKey]: field.fieldType == 5 ? moment(stringJoinSyml(val)) : stringJoinSyml(val),\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\t//处理地图选点的信息联动到其他控件：\r\n\t\tif (regionNameKeys.length) {\r\n\t\t\tconst formValues = o.form.getFieldsValue();\r\n\t\t\tregionNameKeys.forEach(field => {\r\n\t\t\t\tif (formValues.hasOwnProperty(field.fieldKey)) {\r\n\t\t\t\t\tlet mapInfo = values[field.srcFieldKey];\r\n\t\t\t\t\tif (dataType.isObject(mapInfo) && field.regionName) {\r\n\t\t\t\t\t\tconst regions = field.regionName.split(\",\");\r\n\t\t\t\t\t\tlet inputString = \"\";\r\n\t\t\t\t\t\tregions.forEach(key => {\r\n\t\t\t\t\t\t\tinputString += mapInfo[key];\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\to.form.setFieldsValue({\r\n\t\t\t\t\t\t\t[field.fieldKey]: inputString,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n}, 60);\r\nfunction stringJoinSyml(str) {\r\n\treturn str.length === 8 ? str.substring(0, 4) + \"-\" + str.substring(4, 6) + \"-\" + str.substring(6, 8) : \"\";\r\n}\r\n\r\nexport const autoCheckedBySelected = debounce(function(ages, getGroupsFn, seftItem) {\r\n\tages = dataType.isArray(ages) ? ages : [];\r\n\tconst groups = getGroupsFn();\r\n\tgroups.forEach(g => {\r\n\t\tconst currentForm = g.groupRef.current.getForm();\r\n\r\n\t\tg.formItems.forEach(field => {\r\n\t\t\tconst config = field.config;\r\n\t\t\tif (typeof config == \"string\") {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconfig = JSON.parse(e.config);\r\n\t\t\t\t} catch (e) {}\r\n\t\t\t}\r\n\t\t\tconst options = currentForm.form.saveFieldOptions[field.fieldKey];\r\n\t\t\tif (options && options.length) {\r\n\t\t\t\tconst currentValue = currentForm.form.getFieldValue(field.fieldKey);\r\n\t\t\t\tconst hasValue =\r\n\t\t\t\t\t(currentValue !== undefined && currentValue !== null && currentValue !== \"\") ||\r\n\t\t\t\t\t(Array.isArray(currentValue) && currentValue.length);\r\n\t\t\t\tif (hasValue) return;\r\n\t\t\t\tconst multiple = [\"multiple\", \"tags\"].includes(config.mode);\r\n\t\t\t\tlet newValue = null;\r\n\t\t\t\tconst selectedValue = options\r\n\t\t\t\t\t.filter(item => {\r\n\t\t\t\t\t\tif (item.selected && multiple) item.disabled = true;\r\n\t\t\t\t\t\treturn item.selected;\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.map(item => item.value);\r\n\r\n\t\t\t\tif (field.fieldType === 9 || (field.fieldType === 3 && !multiple)) {\r\n\t\t\t\t\tnewValue = selectedValue[0];\r\n\t\t\t\t} else if (field.fieldType === 8 || (field.fieldType === 3 && multiple)) {\r\n\t\t\t\t\tnewValue = selectedValue;\r\n\t\t\t\t}\r\n\t\t\t\tif (newValue) {\r\n\t\t\t\t\tconst zformItem = currentForm.form.zformItems.find(item => item.key === field.fieldKey);\r\n\t\t\t\t\tconst currentStateItem = zformItem.ref.current.state.item;\r\n\t\t\t\t\tconst originProps = {};\r\n\t\t\t\t\tif (currentStateItem.control.props)\r\n\t\t\t\t\t\tObject.keys(currentStateItem.control.props).forEach(key => {\r\n\t\t\t\t\t\t\tif (![\"children\", \"value\", \"onChange\"].includes(key)) {\r\n\t\t\t\t\t\t\t\toriginProps[key] = currentStateItem.control.props[key];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\tcurrentForm.methods.changeFormItems(\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tkey: field.fieldKey,\r\n\t\t\t\t\t\t\tnewItem: {\r\n\t\t\t\t\t\t\t\tcontrol: controls[field.fieldType].getControl(\r\n\t\t\t\t\t\t\t\t\tfield,\r\n\t\t\t\t\t\t\t\t\tages,\r\n\t\t\t\t\t\t\t\t\tgetGroupsFn,\r\n\t\t\t\t\t\t\t\t\t{ ...originProps, isAsync: false },\r\n\t\t\t\t\t\t\t\t\tundefined,\r\n\t\t\t\t\t\t\t\t\tcurrentForm.form,\r\n\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\ttrue,\r\n\t\t\t\t\t);\r\n\t\t\t\t\tcurrentForm.form.setFieldsValue({\r\n\t\t\t\t\t\t[field.fieldKey]: newValue,\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n}, 60);\r\n\r\nexport default initialValueLinkageAction;\r\n","import React from \"react\";\r\nconst defaultValue = {};\r\nconst context = React.createContext(defaultValue);\r\nconst { Provider, Consumer } = context;\r\nconst setConsumer = (ChildComponent) => {\r\n\treturn class ContextConsumer extends React.PureComponent {\r\n\t\trender() {\r\n\t\t\treturn <Consumer>{(value) => <ChildComponent {...this.props} {...value} />}</Consumer>;\r\n\t\t}\r\n\t};\r\n};\r\nexport default {\r\n\tname: \"FormContext\",\r\n\tdefaultValue,\r\n\tProvider,\r\n\tConsumer,\r\n\tsetConsumer,\r\n};\r\n","module.exports = (__webpack_require__(\"9w1k\"))(81);","import React, { useState, useEffect, useRef, useImperativeHandle, useCallback } from \"react\";\r\nimport { dataType } from \"../zTool\";\r\nimport PropTypes from \"prop-types\";\r\nimport {\r\n\tuseGetGroupsCallback,\r\n\tuseLinkageCallback,\r\n\tuseGetOtherFormsCallback,\r\n\t// useSubmitBtn,\r\n\tgetEachFormMethod,\r\n\tuseDoSubmitCallback,\r\n} from \"./customHook\";\r\nimport FormGroup from \"./FormGroup\";\r\nimport { translateGroups } from \"./common\";\r\nimport \"./style.scss\";\r\n//formData: {id:1,name:\"表\",labelLayout:\"\",code:\"dog_check_in_form\",sectionList: [{id:\"12\",name:\"名称\",seq:1,formFieldInfoList:[{config:\"{}\",fieldKey:\"name\",fieldType:1,id:333,initialValue:\"\",label:\"名称\",required:1,span:8,regularExpression:null,seq:1,placeholder:\"\",errorMsg:\"\"}]}]}\r\nconst FormViewer = React.forwardRef(function(\r\n\t{\r\n\t\tformData,\r\n\t\tformValues,\r\n\t\tonSubmit,\r\n\t\tgroupTitleLeftRender,\r\n\t\tgroupTitleRightRender,\r\n\t\tclassName,\r\n\t\tonFormGroupsChange,\r\n\t\tlinkage,\r\n\t\tgroupChildrenRender,\r\n\t\tsubmitBtnRender,\r\n\t\ttitle,\r\n\t\tstyle,\r\n\t\tmomentFormat,\r\n\t\tbooleanToNumber,\r\n\t\tafterItemsRendered,\r\n\t\tcustomOnChange,\r\n\t\tcustomFormRules,\r\n\t\tcustomControlRender,\r\n\t\tnoAsync\r\n\t},\r\n\tref,\r\n) {\r\n\tconst _linkage = dataType.isBoolean(linkage) ? linkage : true;\r\n\tconst [formGroups, setFormGroups] = useState([]);\r\n\tconst getOtherForms = useGetOtherFormsCallback(formGroups);\r\n\t// const submitBtnRender = useSubmitBtn(formData, formGroups);\r\n\tconst getGroupsFn = useGetGroupsCallback(formGroups);\r\n\tconst doSubmit = useDoSubmitCallback(formGroups);\r\n\tconst imperativeRef = useRef();\r\n\timperativeRef.current = () => {\r\n\t\treturn {\r\n\t\t\tgetFormGroups: () => {\r\n\t\t\t\treturn formGroups;\r\n\t\t\t},\r\n\t\t\tsetFormGroups,\r\n\t\t\tgetEachFormMethod: () => {\r\n\t\t\t\treturn getEachFormMethod(formGroups, true);\r\n\t\t\t},\r\n\t\t};\r\n\t};\r\n\t//formData改变时==>处理数据\r\n\tuseEffect(() => {\r\n\t\tsetFormGroups(\r\n\t\t\ttranslateGroups({\r\n\t\t\t\tformData,\r\n\t\t\t\tgetGroupsFn,\r\n\t\t\t\tlinkage: _linkage,\r\n\t\t\t\timperative: imperativeRef,\r\n\t\t\t\tcustomOnChange,\r\n\t\t\t\tcustomFormRules,\r\n\t\t\t\tcustomControlRender,\r\n\t\t\t\tnoAsync,\r\n\t\t\t}),\r\n\t\t);\r\n\t\tsetAllFormRendered([]);\r\n\t}, [formData]);\r\n\t//formGroups改变时==>调用onFormGroupsChange\r\n\tuseEffect(() => {\r\n\t\tdataType.isFunction(onFormGroupsChange) && onFormGroupsChange(formGroups);\r\n\t}, [formGroups]);\r\n\tconst doLinkage = _linkage ? useLinkageCallback(formData, getGroupsFn) : null;\r\n\tuseImperativeHandle(ref, imperativeRef.current);\r\n\tconst titleText =\r\n\t\tdataType.isBoolean(title) && !title ? \"\" : title ? title : formData && formData.name ? formData.name : \"\";\r\n\tconst [allFormRendered, setAllFormRendered] = useState([]);\r\n\tuseEffect(() => {\r\n\t\tif (allFormRendered.length && allFormRendered.length === formGroups.length) {\r\n\t\t\tsetAllFormRendered([]);\r\n\t\t\tdoLinkage && doLinkage();\r\n\t\t\tafterItemsRendered && afterItemsRendered();\r\n\t\t}\r\n\t}, [allFormRendered]);\r\n\r\n\treturn (\r\n\t\t<div className={`z-panel z-padding-bottom-20 ${className ? className : \"\"}`} style={style}>\r\n\t\t\t{titleText ? (\r\n\t\t\t\t<div className=\"z-panel-body z-padding-bottom-0-important z-text-center\">\r\n\t\t\t\t\t<h2>{titleText}</h2>\r\n\t\t\t\t</div>\r\n\t\t\t) : null}\r\n\t\t\t{formGroups.map((group, i) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<FormGroup\r\n\t\t\t\t\t\ttitleLeftRender={\r\n\t\t\t\t\t\t\tgroupTitleLeftRender\r\n\t\t\t\t\t\t\t\t? (group, groupName, nameChange) => {\r\n\t\t\t\t\t\t\t\t\t\treturn groupTitleLeftRender(group, groupName, nameChange, formGroups);\r\n\t\t\t\t\t\t\t\t  }\r\n\t\t\t\t\t\t\t\t: undefined\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ttitleRightRender={groupTitleRightRender}\r\n\t\t\t\t\t\tgroup={group}\r\n\t\t\t\t\t\tonSubmit={onSubmit}\r\n\t\t\t\t\t\tkey={group.id}\r\n\t\t\t\t\t\tlabelLayout={group.labelLayout}\r\n\t\t\t\t\t\tref={group.groupRef}\r\n\t\t\t\t\t\tformItems={group.formItems}\r\n\t\t\t\t\t\tgetOtherForms={getOtherForms}\r\n\t\t\t\t\t\tformValues={formValues}\r\n\t\t\t\t\t\tmomentFormat={momentFormat}\r\n\t\t\t\t\t\tbooleanToNumber={booleanToNumber}\r\n\t\t\t\t\t\tafterItemsRendered={() => {\r\n\t\t\t\t\t\t\tsetAllFormRendered(allFormRendered.concat([\"success\"]));\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{typeof groupChildrenRender == \"function\" && groupChildrenRender(group)}\r\n\t\t\t\t\t</FormGroup>\r\n\t\t\t\t);\r\n\t\t\t})}\r\n\t\t\t{typeof submitBtnRender == \"function\" ? submitBtnRender(doSubmit) : null}\r\n\t\t</div>\r\n\t);\r\n});\r\nFormViewer.propTypes = {\r\n\tformData: PropTypes.object.isRequired,\r\n\tformValues: PropTypes.object,\r\n\tonSubmit: PropTypes.func,\r\n\tgroupTitleRightRender: PropTypes.func,\r\n\tclassName: PropTypes.string,\r\n\tonFormGroupsChange: PropTypes.func,\r\n\tlinkage: PropTypes.bool,\r\n\tgroupChildrenRender: PropTypes.func,\r\n\tsubmitBtnRender: PropTypes.func,\r\n\tafterItemsRendered: PropTypes.func,\r\n\tmomentFormat: PropTypes.bool,\r\n\tbooleanToNumber: PropTypes.bool,\r\n\tuseDefaultVisible: PropTypes.bool, //是否启用控件的默认显示控制\r\n\tcustomOnChange: PropTypes.object,\r\n\tcustomFormRules: PropTypes.object,\r\n\tcustomControlRender: PropTypes.object,\r\n};\r\nexport default React.memo(FormViewer);\r\n","module.exports = (__webpack_require__(\"9w1k\"))(436);","import React, { useState, useEffect, useRef, useImperativeHandle, useCallback } from \"react\";\r\nimport ZeditSimpleFormHOC from \"../ZeditSimpleFormHOC\";\r\nimport { getControl, getOptions } from \"../Zform/controls\";\r\nimport { itemsFromTree, GenNonDuplicateID } from \"../zTool\";\r\nimport { dateFormats } from \"./controls\";\r\nimport ZselectInput from \"./ZselectInput\";\r\nimport ZauxiliaryInput from \"./ZauxiliaryInput\";\r\nimport { getFormItem, removeSomeLinkage } from \"./common\";\r\nimport { dataType } from \"zerod/components/zTool\";\r\nimport { Input, message, Icon, Tooltip, Modal } from \"antd\";\r\n\r\nconst PercentInput = React.memo(\r\n\tReact.forwardRef(function(props, ref) {\r\n\t\tconst { value, onChange } = props;\r\n\t\tconst [num, setNum] = useState(typeof value === \"number\" ? value : 0);\r\n\t\tuseEffect(() => {\r\n\t\t\tsetNum(value * 100);\r\n\t\t}, [value]);\r\n\t\treturn getControl(\"Input.Group\", {\r\n\t\t\tcompact: true,\r\n\t\t\tchildren: (\r\n\t\t\t\t<>\r\n\t\t\t\t\t{getControl(\"InputNumber\", {\r\n\t\t\t\t\t\tmin: 0,\r\n\t\t\t\t\t\tmax: 100,\r\n\t\t\t\t\t\tprecision: 4,\r\n\t\t\t\t\t\tstyle: { width: \"80%\" },\r\n\t\t\t\t\t\tvalue: num,\r\n\t\t\t\t\t\tonChange: num => {\r\n\t\t\t\t\t\t\tonChange && onChange(num / 100);\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t})}\r\n\t\t\t\t\t{getControl(\"Input\", {\r\n\t\t\t\t\t\tdefaultValue: \"%\",\r\n\t\t\t\t\t\tdisabled: true,\r\n\t\t\t\t\t\tstyle: { width: \"20%\" },\r\n\t\t\t\t\t})}\r\n\t\t\t\t</>\r\n\t\t\t),\r\n\t\t});\r\n\t}),\r\n);\r\n\r\nconst commonKeys = [\r\n\t\"groupName\",\r\n\t\"fieldType\",\r\n\t\"label\",\r\n\t\"fieldKey\",\r\n\t\"required\",\r\n\t\"initialValue\",\r\n\t\"regularExpression\",\r\n\t\"errorMsg\",\r\n\t\"remark\",\r\n\t\"disabled\",\r\n];\r\nconst textKeys = [\"maxLength\", \"minLength\"];\r\nconst inputKeys = [...textKeys, \"type\"];\r\nconst textarayKeys = textKeys;\r\nconst selectionsType1keys = [\"selectList\"];\r\nconst selectionsType2keys = [\"selectionsUrl\", \"selectionsQuery\"];\r\nconst selectKeys = [\r\n\t\"notFoundContent\",\r\n\t\"selectionsType\",\r\n\t\"selectListFieldNames\",\r\n\t...selectionsType1keys,\r\n\t...selectionsType2keys,\r\n];\r\nconst cascaderKeys = [...selectKeys, \"changeOnSelect\"];\r\nconst dateKeys = [\"format\"];\r\nconst uploadKeys = [\r\n\t\"url\",\r\n\t\"fileAccept\",\r\n\t\"fileListType\",\r\n\t\"wxSourceTypes\",\r\n\t\"uploaderResponse\",\r\n\t\"minUploadLength\",\r\n\t\"maxUploadLength\",\r\n\t\"autoUpload\",\r\n\t\"maxMegabytes\",\r\n];\r\nconst colorKeys = [\"colorValueType\", \"minSaturability\"];\r\nconst mapSelectKeys = [\"mapType\", \"secretKey\", \"webserviceUrlDO\"];\r\nconst inputNumberKeys = [\"min\", \"max\"];\r\n//微信小程序组件库wux-weapp-ex支持标识\r\nconst wechat = { key: \"wechat\", title: \"微信小程序可用\" };\r\n//控件类型在微信小程序组件库wux-weapp-ex支持情况\r\nconst controlWechat = [1, 2, 3, 4, 5, 6, 8, 9, 11, 13];\r\n//日期格式在微信小程序组件库wux-weapp-ex支持情况\r\nconst formatWechat = [\"YYYY\", \"YYYY-MM\", \"YYYY-MM-DD\", \"YYYY-MM-DD HH:mm\", \"HH:mm\"];\r\n//控件类型列表\r\nexport const controlList = [\r\n\t{\r\n\t\tlabel: \"单行输入\", //控件类型名称\r\n\t\tvalue: 1, //类型值\r\n\t\tshowKeys: [...commonKeys, ...inputKeys], //要显示的控件属性\r\n\t\tconfigKeys: inputKeys, //保存时哪些要转成config的属性\r\n\t},\r\n\t{\r\n\t\tlabel: \"多行输入\",\r\n\t\tvalue: 2,\r\n\t\tshowKeys: [...commonKeys, ...textarayKeys],\r\n\t\tconfigKeys: textarayKeys,\r\n\t},\r\n\t{\r\n\t\tlabel: \"下拉选择\",\r\n\t\tvalue: 3,\r\n\t\tshowKeys: [...commonKeys, ...selectKeys, \"mode\", \"notFoundContent\"],\r\n\t\tconfigKeys: [...selectKeys, \"mode\", \"notFoundContent\"],\r\n\t},\r\n\t{\r\n\t\tlabel: \"数字输入\",\r\n\t\tvalue: 4,\r\n\t\tshowKeys: [...commonKeys, ...inputNumberKeys],\r\n\t\tconfigKeys: inputNumberKeys,\r\n\t},\r\n\t{\r\n\t\tlabel: \"日期/时间选择\",\r\n\t\tvalue: 5,\r\n\t\tshowKeys: [...commonKeys, ...dateKeys],\r\n\t\tconfigKeys: dateKeys,\r\n\t},\r\n\t{\r\n\t\tlabel: \"级联\",\r\n\t\tvalue: 6,\r\n\t\tshowKeys: [...commonKeys, ...cascaderKeys],\r\n\t\tconfigKeys: cascaderKeys,\r\n\t},\r\n\t{\r\n\t\tlabel: \"树选择\",\r\n\t\tvalue: 7,\r\n\t\tshowKeys: [...commonKeys, ...selectKeys],\r\n\t\tconfigKeys: selectKeys,\r\n\t},\r\n\t{\r\n\t\tlabel: \"多选框\",\r\n\t\tvalue: 8,\r\n\t\tshowKeys: [...commonKeys, ...selectKeys],\r\n\t\tconfigKeys: selectKeys,\r\n\t},\r\n\t{\r\n\t\tlabel: \"单选框\",\r\n\t\tvalue: 9,\r\n\t\tshowKeys: [...commonKeys, ...selectKeys],\r\n\t\tconfigKeys: selectKeys,\r\n\t},\r\n\t{\r\n\t\tlabel: \"开关\",\r\n\t\tvalue: 10,\r\n\t\tshowKeys: [...commonKeys],\r\n\t\tconfigKeys: [],\r\n\t},\r\n\t{\r\n\t\tlabel: \"文件上传\",\r\n\t\tvalue: 11,\r\n\t\tshowKeys: [...commonKeys, ...uploadKeys],\r\n\t\tconfigKeys: uploadKeys,\r\n\t},\r\n\t{\r\n\t\tlabel: \"颜色值\",\r\n\t\tvalue: 12,\r\n\t\tshowKeys: [...commonKeys, ...colorKeys],\r\n\t\tconfigKeys: colorKeys,\r\n\t},\r\n\t{\r\n\t\tlabel: \"地图选点\",\r\n\t\tvalue: 13,\r\n\t\tshowKeys: [...commonKeys, ...mapSelectKeys],\r\n\t\tconfigKeys: mapSelectKeys,\r\n\t},\r\n\t{\r\n\t\tlabel: \"自定义占位\",\r\n\t\tvalue: 14,\r\n\t\tshowKeys: [...commonKeys, \"isFormItem\"],\r\n\t\tconfigKeys: [],\r\n\t},\r\n\t{\r\n\t\tlabel: \"文书\",\r\n\t\tvalue: 20,\r\n\t\tshowKeys: [...commonKeys, \"docCode\"],\r\n\t\tconfigKeys: [\"docCode\"],\r\n\t},\r\n];\r\n//地图的默认密钥(默认是邹国涛个人注册)\r\nconst initSereKey = {\r\n\tamap: \"3d5c1c6169c64554d6f9fcca35d4abff\",\r\n\tqqmap: \"63QBZ-B5GKV-46RPH-UCUF2-K5TUJ-OKBAK\",\r\n};\r\n//控制显示哪个类型的控件的属性\r\nfunction showFieldTypeLinkOther(changeFormItems, formItems, val, excludeKeys = []) {\r\n\tconst fieldTypeItem = controlList.find(cont => {\r\n\t\treturn cont.value === val;\r\n\t});\r\n\tconst showKeys = fieldTypeItem.showKeys.filter(key => {\r\n\t\treturn !excludeKeys.includes(key);\r\n\t});\r\n\tchangeFormItems(\r\n\t\tformItems.map(item => {\r\n\t\t\treturn { key: item.key, show: showKeys.includes(item.key) };\r\n\t\t}),\r\n\t\ttrue,\r\n\t);\r\n}\r\nconst getSwitchOpt = (options = {}) => ({\r\n\trender(form, changeFormItems) {\r\n\t\treturn getControl(\"Switch\");\r\n\t},\r\n\toptions: getOptions({\r\n\t\trequired: true,\r\n\t\tinitialValue: true,\r\n\t\tnormalize(value, prevValue, allValues) {\r\n\t\t\treturn Boolean(value);\r\n\t\t},\r\n\t\tvaluePropName: \"checked\",\r\n\t\t...options,\r\n\t}),\r\n});\r\n//对应字段的控件\r\nfunction getCorresFormItem({ key, label, initialValue }) {\r\n\treturn {\r\n\t\tkey,\r\n\t\tlabel,\r\n\t\tshow: false,\r\n\t\tlabelFocused: true,\r\n\t\trender(form, changeFormItems) {\r\n\t\t\treturn getControl(\"TreeInput\", {\r\n\t\t\t\tmultiple: false,\r\n\t\t\t\tshowBtns: false,\r\n\t\t\t\tinputType: \"coustom\",\r\n\t\t\t\tcustomInputKeys: [{ key: \"label\", initValue: \"\" }, { key: \"value\", initValue: \"\" }],\r\n\t\t\t\tchildren: (states, setStates, customInputKeys) => {\r\n\t\t\t\t\treturn getControl(\"Input.Group\", {\r\n\t\t\t\t\t\tcompact: true,\r\n\t\t\t\t\t\tstyle: { width: \"100%\" },\r\n\t\t\t\t\t\tchildren: (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t{getControl(\"Input\", {\r\n\t\t\t\t\t\t\t\t\tstyle: { width: \"50%\" },\r\n\t\t\t\t\t\t\t\t\tvalue: states[customInputKeys[0].key],\r\n\t\t\t\t\t\t\t\t\tonChange: value => {\r\n\t\t\t\t\t\t\t\t\t\tsetStates({\r\n\t\t\t\t\t\t\t\t\t\t\t[customInputKeys[0].key]: value,\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tsize: \"small\",\r\n\t\t\t\t\t\t\t\t\tdisabled: true,\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t{getControl(\"Input\", {\r\n\t\t\t\t\t\t\t\t\tstyle: { width: \"50%\" },\r\n\t\t\t\t\t\t\t\t\tvalue: states[customInputKeys[1].key],\r\n\t\t\t\t\t\t\t\t\tonChange: value => {\r\n\t\t\t\t\t\t\t\t\t\tsetStates({\r\n\t\t\t\t\t\t\t\t\t\t\t[customInputKeys[1].key]: value,\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tsize: \"small\",\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t});\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t},\r\n\t\toptions: getOptions({\r\n\t\t\trequired: true,\r\n\t\t\tinitialValue,\r\n\t\t}),\r\n\t};\r\n}\r\nfunction showSelectionsTypeLinkOther(changeFormItems, selectionsType) {\r\n\tchangeFormItems(\r\n\t\t[\r\n\t\t\t{\r\n\t\t\t\tkey: \"selectList\",\r\n\t\t\t\tshow: selectionsType === 1,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tkey: \"selectionsUrl\",\r\n\t\t\t\tshow: selectionsType === 2,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tkey: \"selectionsQuery\",\r\n\t\t\t\tshow: selectionsType === 2,\r\n\t\t\t},\r\n\t\t],\r\n\t\ttrue,\r\n\t);\r\n}\r\nconst urlRules = function(keys = []) {\r\n\treturn [\r\n\t\t{\r\n\t\t\tvalidator: (rule, value, callback) => {\r\n\t\t\t\tconsole.log(value);\r\n\t\t\t\tif (!value) {\r\n\t\t\t\t\treturn callback(new Error(\"不能为空\"));\r\n\t\t\t\t}\r\n\t\t\t\tlet hasError = keys.some(key => value[key] === undefined || !value[key].toString().trim());\r\n\t\t\t\tif (hasError) {\r\n\t\t\t\t\treturn callback(new Error(\"有未填写的值\"));\r\n\t\t\t\t}\r\n\t\t\t\tcallback();\r\n\t\t\t},\r\n\t\t},\r\n\t];\r\n};\r\n\r\nfunction getKeyControl(keyDisabledRef, isUpdateRef, changeFormItems) {\r\n\tconst inputOpt = {\r\n\t\tdisabled: keyDisabledRef.current,\r\n\t};\r\n\tif (isUpdateRef.current) {\r\n\t\tinputOpt.addonAfter = (\r\n\t\t\t<Tooltip title={`${inputOpt.disabled ? \"开启\" : \"关闭\"}修改key`}>\r\n\t\t\t\t<i\r\n\t\t\t\t\tclassName=\"zero-icon zerod-chushihualiuchengshitu z-fieldKey-lock\"\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tconst doChange = () => {\r\n\t\t\t\t\t\t\tkeyDisabledRef.current = !keyDisabledRef.current;\r\n\t\t\t\t\t\t\tchangeFormItems(\r\n\t\t\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tkey: \"fieldKey\",\r\n\t\t\t\t\t\t\t\t\t\tnewItem: {\r\n\t\t\t\t\t\t\t\t\t\t\tcontrol: getKeyControl(keyDisabledRef, isUpdateRef, changeFormItems),\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\ttrue,\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tif (keyDisabledRef.current) {\r\n\t\t\t\t\t\t\tModal.confirm({\r\n\t\t\t\t\t\t\t\ttitle: \"提醒\",\r\n\t\t\t\t\t\t\t\tcontent: \"如果修改了字段key,提交后会删除相关的联动配置,是否继续?\",\r\n\t\t\t\t\t\t\t\tonOk: doChange,\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tdoChange();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t</Tooltip>\r\n\t\t);\r\n\t}\r\n\treturn getControl(\"Input\", inputOpt);\r\n}\r\n\r\n//控件属性\r\nfunction useFormItems(groupId, formViewerRef, type) {\r\n\tconst itemsRef = useRef([]);\r\n\tconst isUpdateRef = useRef(type === \"update\");\r\n\tconst keyDisabledRef = useRef(isUpdateRef.current);\r\n\tconst hashkey = GenNonDuplicateID(4);\r\n\titemsRef.current = [\r\n\t\t//<--共用属性---> start\r\n\t\t{\r\n\t\t\tkey: \"groupName\",\r\n\t\t\tlabel: \"组名\",\r\n\t\t\trender(form, changeFormItems) {\r\n\t\t\t\treturn getControl(\"Input\", { disabled: true });\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"fieldType\",\r\n\t\t\tlabel: \"控件类型\",\r\n\t\t\tlabelFocused: true,\r\n\t\t\trender(form, changeFormItems) {\r\n\t\t\t\treturn getControl(\"Select\", {\r\n\t\t\t\t\tselectList: controlList.map(item => {\r\n\t\t\t\t\t\tconst plat = [];\r\n\t\t\t\t\t\tif (controlWechat.includes(item.value)) {\r\n\t\t\t\t\t\t\tplat.push(wechat);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn { label: item.label, value: item.value, plat };\r\n\t\t\t\t\t}),\r\n\t\t\t\t\tonChange(val) {\r\n\t\t\t\t\t\t//控件类型改变控制显示对应的属性输入框\r\n\t\t\t\t\t\tshowFieldTypeLinkOther(changeFormItems, itemsRef.current, val);\r\n\t\t\t\t\t\tif ([3, 6, 7, 8, 9].includes(val)) {\r\n\t\t\t\t\t\t\tshowSelectionsTypeLinkOther(changeFormItems, form.getFieldValue(\"selectionsType\"));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// changeFormItems([{ key: \"initialValue\", show: ![5].includes(val) }], true);\r\n\t\t\t\t\t},\r\n\t\t\t\t\toptLabelRender(item) {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div className=\"z-flex-space-between\">\r\n\t\t\t\t\t\t\t\t<div>{item.label}</div>\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t{item.plat.map(p => {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<Tooltip title={p.title} key={p.key}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Icon\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"z-text-green z-margin-left-5\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={p.key}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype={p.key}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\toptions: getOptions({ required: true, initialValue: 1 }),\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"label\",\r\n\t\t\tlabel: \"控件Label\",\r\n\t\t\tlabelFocused: true,\r\n\t\t\trender(form, changeFormItems) {\r\n\t\t\t\treturn getControl(\"Input\");\r\n\t\t\t},\r\n\t\t\toptions: getOptions({ required: false, initialValue: `名称_${hashkey}` }),\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"fieldKey\",\r\n\t\t\tlabel: \"字段Key\",\r\n\t\t\tlabelFocused: true,\r\n\t\t\trender(form, changeFormItems) {\r\n\t\t\t\treturn getKeyControl(keyDisabledRef, isUpdateRef, changeFormItems);\r\n\t\t\t},\r\n\t\t\toptions: getOptions({\r\n\t\t\t\trequired: true,\r\n\t\t\t\tinitialValue: `key_${hashkey}`,\r\n\t\t\t\trules: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvalidator: (rule, value, callback) => {\r\n\t\t\t\t\t\t\tif (/Label$/.test(value)) {\r\n\t\t\t\t\t\t\t\treturn callback(new Error(\"禁止以Label结尾的key\"));\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tconst groups = formViewerRef.current.getFormGroups();\r\n\t\t\t\t\t\t\tlet hasKey = groups.some(g => {\r\n\t\t\t\t\t\t\t\treturn g.formItems.some(item => {\r\n\t\t\t\t\t\t\t\t\treturn item.key === value;\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tif (hasKey && type === \"add\") {\r\n\t\t\t\t\t\t\t\treturn callback(new Error(\"key已存在，请填写其他的key\"));\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tcallback();\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t}),\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"required\",\r\n\t\t\tlabel: \"必填\",\r\n\t\t\tlabelFocused: true,\r\n\t\t\t...getSwitchOpt(),\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"disabled\",\r\n\t\t\tlabel: \"默认禁用\",\r\n\t\t\tlabelFocused: true,\r\n\t\t\t...getSwitchOpt({ initialValue: false }),\r\n\t\t},\r\n\t\t//<--共用属性---> end\r\n\t\t//<--input特有属性---> start\r\n\t\t{\r\n\t\t\tkey: \"type\",\r\n\t\t\tlabel: \"文本类型\",\r\n\t\t\tshow: true,\r\n\t\t\tlabelFocused: true,\r\n\t\t\trender(form, changeFormItems) {\r\n\t\t\t\treturn getControl(\"Radio.Group\", {\r\n\t\t\t\t\tselectList: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlabel: \"文本框\",\r\n\t\t\t\t\t\t\tvalue: \"text\",\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlabel: \"密码框\",\r\n\t\t\t\t\t\t\tvalue: \"password\",\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t],\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\toptions: getOptions({ required: true, initialValue: \"text\" }),\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"maxLength\",\r\n\t\t\tlabel: \"最大输入长度\",\r\n\t\t\tshow: true,\r\n\t\t\tlabelFocused: true,\r\n\t\t\trender(form, changeFormItems) {\r\n\t\t\t\treturn getControl(\"InputNumber\", { min: 0 });\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"minLength\",\r\n\t\t\tlabel: \"最小输入长度\",\r\n\t\t\tshow: true,\r\n\t\t\tlabelFocused: true,\r\n\t\t\trender(form, changeFormItems) {\r\n\t\t\t\treturn getControl(\"InputNumber\", { min: 0 });\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"max\",\r\n\t\t\tlabel: \"最大值\",\r\n\t\t\tshow: false,\r\n\t\t\tlabelFocused: true,\r\n\t\t\trender(form, changeFormItems) {\r\n\t\t\t\treturn getControl(\"InputNumber\");\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"min\",\r\n\t\t\tlabel: \"最小值\",\r\n\t\t\tshow: false,\r\n\t\t\tlabelFocused: true,\r\n\t\t\trender(form, changeFormItems) {\r\n\t\t\t\treturn getControl(\"InputNumber\");\r\n\t\t\t},\r\n\t\t},\r\n\t\t//<--input特有属性---> end\r\n\t\t//<--下拉框特有属性---> start\r\n\t\t{\r\n\t\t\tkey: \"mode\",\r\n\t\t\tlabel: \"模式\",\r\n\t\t\tshow: false,\r\n\t\t\tlabelFocused: true,\r\n\t\t\trender(form, changeFormItems) {\r\n\t\t\t\treturn getControl(\"Radio.Group\", {\r\n\t\t\t\t\tselectList: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlabel: \"单选\",\r\n\t\t\t\t\t\t\tvalue: \"single\",\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{ label: \"多选\", value: \"multiple\" },\r\n\t\t\t\t\t\t{ label: \"标签\", value: \"tags\" },\r\n\t\t\t\t\t],\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\toptions: getOptions({ required: true, initialValue: \"single\" }),\r\n\t\t},\r\n\t\t//<--下拉框特有属性---> end\r\n\t\t//<--下拉框、单选框、多选框、级联、树选择特有属性---> start\r\n\t\t{\r\n\t\t\tkey: \"selectionsType\",\r\n\t\t\tlabel: \"选项类型\",\r\n\t\t\tlabelFocused: true,\r\n\t\t\tshow: false,\r\n\t\t\trender(form, changeFormItems) {\r\n\t\t\t\treturn getControl(\"Radio.Group\", {\r\n\t\t\t\t\tselectList: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlabel: \"自定义\",\r\n\t\t\t\t\t\t\tvalue: 1,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{ label: \"异步\", value: 2 },\r\n\t\t\t\t\t],\r\n\t\t\t\t\tonChange(e) {\r\n\t\t\t\t\t\tshowSelectionsTypeLinkOther(changeFormItems, e.target.value);\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\toptions: getOptions({ required: true, initialValue: 1 }),\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"selectionsUrl\",\r\n\t\t\tlabel: \"请求选项数据地址\",\r\n\t\t\tshow: false,\r\n\t\t\tlabelFocused: true,\r\n\t\t\trender(form, changeFormItems) {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<ZselectInput\r\n\t\t\t\t\t\tcontrolCostrom={\r\n\t\t\t\t\t\t\t[6, 7].includes(form.getFieldValue(\"fieldType\"))\r\n\t\t\t\t\t\t\t\t? {\r\n\t\t\t\t\t\t\t\t\t\tright(value, valueChange) {\r\n\t\t\t\t\t\t\t\t\t\t\treturn getControl(\"Select\", {\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue: value,\r\n\t\t\t\t\t\t\t\t\t\t\t\tselectList: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel: \"全部加载\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"all\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel: \"分部加载\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"part\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange: valueChange,\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle: { width: \"100%\" },\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t  }\r\n\t\t\t\t\t\t\t\t: undefined\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tleftSpan={6}\r\n\t\t\t\t\t\tcenterSpan={[3, 8, 9].includes(form.getFieldValue(\"fieldType\")) ? 18 : 12}\r\n\t\t\t\t\t\trightSpan={[3, 8, 9].includes(form.getFieldValue(\"fieldType\")) ? null : 6}\r\n\t\t\t\t\t\tselectList={[\"post\", \"get\"].map(m => ({ label: m, value: m }))}\r\n\t\t\t\t\t\tvalueKey={{ left: \"selectionsUrlMethod\", center: \"selectionsUrl\", right: \"requireType\" }}\r\n\t\t\t\t\t\tleftPlaceholde=\"请求方式\"\r\n\t\t\t\t\t\tcenterPlaceholder=\"请求地址\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t\toptions: getOptions({\r\n\t\t\t\trequired: true,\r\n\t\t\t\tinitialValue: { selectionsUrlMethod: \"post\", selectionsUrl: \"\", requireType: \"all\" },\r\n\t\t\t\trules: urlRules([\"selectionsUrlMethod\", \"selectionsUrl\", \"requireType\"]),\r\n\t\t\t}),\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"selectionsQuery\",\r\n\t\t\tlabel: \"请求参数配置\",\r\n\t\t\tshow: false,\r\n\t\t\tlabelFocused: true,\r\n\t\t\trender(form, changeFormItems) {\r\n\t\t\t\treturn getControl(\"TreeInput\", { multiple: false, labelPlaceholder: \"Key\" });\r\n\t\t\t},\r\n\t\t\toptions: getOptions({\r\n\t\t\t\trequired: false,\r\n\t\t\t\tinitialValue: [],\r\n\t\t\t}),\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"selectList\",\r\n\t\t\tlabel: \"选项数据\",\r\n\t\t\tshow: false,\r\n\t\t\tlabelFocused: true,\r\n\t\t\trender(form, changeFormItems) {\r\n\t\t\t\treturn getControl(\"TreeInput\", {\r\n\t\t\t\t\tmultiple: [6, 7].includes(form.getFieldValue(\"fieldType\")),\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\toptions: getOptions({\r\n\t\t\t\trequired: true,\r\n\t\t\t\tinitialValue: [],\r\n\t\t\t\trules: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvalidator: (rule, value, callback) => {\r\n\t\t\t\t\t\t\tconst finished = itemsFromTree({\r\n\t\t\t\t\t\t\t\ttree: value,\r\n\t\t\t\t\t\t\t\tcondition(val1, val2) {\r\n\t\t\t\t\t\t\t\t\treturn val1.toString().trim() === val2.toString().trim();\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tsourceItem: { value: \"\" },\r\n\t\t\t\t\t\t\t\tkeyObj: { id: \"value\", children: \"children\" },\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tif (finished) {\r\n\t\t\t\t\t\t\t\treturn callback(new Error(\"选项中有未填写的值\"));\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tcallback();\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t}),\r\n\t\t},\r\n\t\tgetCorresFormItem({\r\n\t\t\tkey: \"selectListFieldNames\",\r\n\t\t\tlabel: \"lable、value、children对应选项数据中的字段\",\r\n\t\t\tinitialValue: [\r\n\t\t\t\t{ label: \"label\", value: \"label\" },\r\n\t\t\t\t{ label: \"value\", value: \"value\" },\r\n\t\t\t\t{ label: \"children\", value: \"children\" },\r\n\t\t\t],\r\n\t\t}),\r\n\t\t{\r\n\t\t\tkey: \"notFoundContent\",\r\n\t\t\tlabel: \"没有选项数据时显示的内容\",\r\n\t\t\tshow: false,\r\n\t\t\trender(form, changeFormItems) {\r\n\t\t\t\treturn getControl(\"Input\");\r\n\t\t\t},\r\n\t\t\toptions: getOptions({ required: true, initialValue: \"无相关数据\" }),\r\n\t\t},\r\n\t\t//<--下拉框、单选框、多选框、级联、树选择特有属性---> end\r\n\t\t//<--级联特有属性---> start\r\n\t\t{\r\n\t\t\tkey: \"changeOnSelect\",\r\n\t\t\tlabel: \"必须选到最后一级\",\r\n\t\t\tlabelFocused: true,\r\n\t\t\tshow: false,\r\n\t\t\t...getSwitchOpt(),\r\n\t\t},\r\n\t\t//<--级联特有属性---> end\r\n\t\t//<--日期特有属性---> start\r\n\t\t{\r\n\t\t\tkey: \"format\",\r\n\t\t\tlabel: \"格式\",\r\n\t\t\tshow: false,\r\n\t\t\tlabelFocused: true,\r\n\t\t\trender(form, changeFormItems) {\r\n\t\t\t\treturn getControl(\"Select\", {\r\n\t\t\t\t\tselectList: Object.keys(dateFormats).map(key => {\r\n\t\t\t\t\t\tconst plat = [];\r\n\t\t\t\t\t\tif (formatWechat.includes(key)) {\r\n\t\t\t\t\t\t\tplat.push(wechat);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn { label: key, value: key, plat };\r\n\t\t\t\t\t}),\r\n\t\t\t\t\toptLabelRender(item) {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div className=\"z-flex-space-between\">\r\n\t\t\t\t\t\t\t\t<div>{item.label}</div>\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t{item.plat.map(p => {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<Tooltip title={p.title} key={p.key}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Icon\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"z-text-green z-margin-left-5\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={p.key}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype={p.key}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\toptions: getOptions({ required: true, initialValue: \"YYYY-MM-DD\" }),\r\n\t\t},\r\n\t\t//<--日期特有属性---> end\r\n\t\t//<--上传控件特有属性---> start\r\n\t\t{\r\n\t\t\tkey: \"autoUpload\",\r\n\t\t\tlabel: \"选完文件自动上传\",\r\n\t\t\tlabelFocused: true,\r\n\t\t\tshow: false,\r\n\t\t\t...getSwitchOpt(),\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"url\",\r\n\t\t\tlabel: \"上传地址(依次为：请求方式、请求地址、formData参数名、是否多文件上传)\",\r\n\t\t\tshow: false,\r\n\t\t\tlabelFocused: true,\r\n\t\t\trender(form, changeFormItems) {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<ZselectInput\r\n\t\t\t\t\t\tselectList={[\"post\", \"get\"].map(m => ({ label: m, value: m }))}\r\n\t\t\t\t\t\tvalueKey={{ left: \"urlMethod\", center: \"url\", right: \"urlParamName\" }}\r\n\t\t\t\t\t\tleftPlaceholde=\"请求方式\"\r\n\t\t\t\t\t\tcenterPlaceholder=\"请求地址\"\r\n\t\t\t\t\t\trightPlaceholder=\"参数名\"\r\n\t\t\t\t\t\tleftSpan={5}\r\n\t\t\t\t\t\tcenterSpan={11}\r\n\t\t\t\t\t\trightSpan={3}\r\n\t\t\t\t\t\tcustomControls={[\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tkey: \"requestMode\",\r\n\t\t\t\t\t\t\t\tspan: 5,\r\n\t\t\t\t\t\t\t\trender(value, item, change) {\r\n\t\t\t\t\t\t\t\t\treturn getControl(\"Select\", {\r\n\t\t\t\t\t\t\t\t\t\tvalue: value[item.key],\r\n\t\t\t\t\t\t\t\t\t\tselectList: [\r\n\t\t\t\t\t\t\t\t\t\t\t{ label: \"单文件\", value: \"single\" },\r\n\t\t\t\t\t\t\t\t\t\t\t{ label: \"多文件\", value: \"multiple\" },\r\n\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\tonChange(val) {\r\n\t\t\t\t\t\t\t\t\t\t\tchange(val, item.key);\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\tclassName: \"z-label\",\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t]}\r\n\t\t\t\t\t/>\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t\toptions: getOptions({\r\n\t\t\t\trequired: true,\r\n\t\t\t\tinitialValue: {\r\n\t\t\t\t\turlMethod: \"post\",\r\n\t\t\t\t\turl: \"/file-upload-service/webapi/v1.0/fileUpload/uploads\",\r\n\t\t\t\t\turlParamName: \"files\",\r\n\t\t\t\t\trequestMode: \"multiple\",\r\n\t\t\t\t},\r\n\t\t\t\trules: urlRules([\"urlMethod\", \"url\", \"urlParamName\", \"requestMode\"]),\r\n\t\t\t}),\r\n\t\t},\r\n\t\tgetCorresFormItem({\r\n\t\t\tkey: \"uploaderResponse\",\r\n\t\t\tlabel: \"响应体对应的字段\",\r\n\t\t\tinitialValue: [\r\n\t\t\t\t{ label: \"id\", value: \"id\" },\r\n\t\t\t\t{ label: \"filePath\", value: \"filePath\" },\r\n\t\t\t\t{ label: \"fileSuffix\", value: \"fileSuffix\" },\r\n\t\t\t\t{ label: \"originalFileName\", value: \"originalFileName\" },\r\n\t\t\t],\r\n\t\t}),\r\n\t\t{\r\n\t\t\tkey: \"fileAccept\",\r\n\t\t\tlabel: \"允许上传文件类型\",\r\n\t\t\tshow: false,\r\n\t\t\trender() {\r\n\t\t\t\treturn getControl(\"Select\", {\r\n\t\t\t\t\tselectList: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlabel: \"只允许图片\",\r\n\t\t\t\t\t\t\tvalue: \"image/*\",\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlabel: \"任意文件\",\r\n\t\t\t\t\t\t\tvalue: \"all\",\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t],\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\toptions: getOptions({\r\n\t\t\t\trequired: true,\r\n\t\t\t\tinitialValue: \"image/*\",\r\n\t\t\t}),\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"fileListType\",\r\n\t\t\tlabel: \"上传列表样式\",\r\n\t\t\tshow: false,\r\n\t\t\trender() {\r\n\t\t\t\treturn getControl(\"Select\", {\r\n\t\t\t\t\tselectList: [\"picture\", \"picture-card\"],\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\toptions: getOptions({\r\n\t\t\t\trequired: true,\r\n\t\t\t\tinitialValue: \"picture-card\",\r\n\t\t\t}),\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"maxMegabytes\",\r\n\t\t\tlabel: \"最大上传大小(M)\",\r\n\t\t\tshow: false,\r\n\t\t\tlabelFocused: true,\r\n\t\t\trender(form, changeFormItems) {\r\n\t\t\t\treturn getControl(\"InputNumber\", { min: 0, precision: 2 });\r\n\t\t\t},\r\n\t\t\toptions: getOptions({\r\n\t\t\t\trequired: true,\r\n\t\t\t\tinitialValue: 10,\r\n\t\t\t}),\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"maxUploadLength\",\r\n\t\t\tlabel: \"最大上传数\",\r\n\t\t\tshow: false,\r\n\t\t\tlabelFocused: true,\r\n\t\t\trender(form, changeFormItems) {\r\n\t\t\t\treturn getControl(\"InputNumber\", { min: 0 });\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"minUploadLength\",\r\n\t\t\tlabel: \"最小上传数\",\r\n\t\t\tshow: false,\r\n\t\t\tlabelFocused: true,\r\n\t\t\trender(form, changeFormItems) {\r\n\t\t\t\treturn getControl(\"InputNumber\", { min: 0 });\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"wxSourceTypes\",\r\n\t\t\tlabel: \"小程序图片来源\",\r\n\t\t\tshow: false,\r\n\t\t\trender() {\r\n\t\t\t\treturn getControl(\"Checkbox.Group\", {\r\n\t\t\t\t\tselectList: [{ label: \"从相册选图\", value: \"album\" }, { label: \"使用相机\", value: \"camera\" }],\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\toptions: getOptions({\r\n\t\t\t\trequired: true,\r\n\t\t\t\tinitialValue: [\"album\", \"camera\"],\r\n\t\t\t}),\r\n\t\t},\r\n\t\t//<--上传控件特有属性---> end\r\n\t\t//<--颜色值特有属性---> start\r\n\t\t{\r\n\t\t\tkey: \"colorValueType\",\r\n\t\t\tlabel: \"颜色值类型\",\r\n\t\t\tlabelFocused: true,\r\n\t\t\tshow: false,\r\n\t\t\trender(form, changeFormItems) {\r\n\t\t\t\treturn getControl(\"Select\", {\r\n\t\t\t\t\tselectList: [{ label: \"hex\", value: \"hex\" }, { label: \"rgb\", value: \"rgb\" }],\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\toptions: getOptions({\r\n\t\t\t\trequired: true,\r\n\t\t\t\tinitialValue: \"rgb\",\r\n\t\t\t}),\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"minSaturability\",\r\n\t\t\tlabel: \"最小饱和度(0%~100%,越小越趋近白色)\",\r\n\t\t\tlabelFocused: true,\r\n\t\t\tshow: false,\r\n\t\t\trender(form, changeFormItems) {\r\n\t\t\t\treturn <PercentInput />;\r\n\t\t\t},\r\n\t\t\toptions: getOptions({\r\n\t\t\t\trequired: false,\r\n\t\t\t\tinitialValue: 0,\r\n\t\t\t}),\r\n\t\t},\r\n\t\t//<--颜色值特有属性---> end\r\n\t\t//<--地图选点特有属性---> start\r\n\t\t{\r\n\t\t\tkey: \"mapType\",\r\n\t\t\tlabel: \"地图类型\",\r\n\t\t\tshow: false,\r\n\t\t\tlabelFocused: true,\r\n\t\t\trender(form, changeFormItems) {\r\n\t\t\t\treturn getControl(\"Radio.Group\", {\r\n\t\t\t\t\tselectList: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlabel: \"腾讯\",\r\n\t\t\t\t\t\t\tvalue: \"qqmap\",\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{ label: \"高德\", value: \"amap\" },\r\n\t\t\t\t\t],\r\n\t\t\t\t\tonChange(e) {\r\n\t\t\t\t\t\tconst val = e.target.value;\r\n\t\t\t\t\t\tform.setFieldsValue({\r\n\t\t\t\t\t\t\tsecretKey: initSereKey[val],\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\toptions: getOptions({ required: true, initialValue: \"qqmap\" }),\r\n\t\t},\r\n\r\n\t\t{\r\n\t\t\tkey: \"secretKey\",\r\n\t\t\tlabel: \"密钥\",\r\n\t\t\tshow: false,\r\n\t\t\tlabelFocused: true,\r\n\t\t\trender(form, changeFormItems) {\r\n\t\t\t\treturn getControl(\"Input\");\r\n\t\t\t},\r\n\t\t\toptions: getOptions({ required: true, initialValue: initSereKey[\"qqmap\"] }),\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"webserviceUrlDO\",\r\n\t\t\tlabel: \"调用地图web服务的代理地址\",\r\n\t\t\tshow: false,\r\n\t\t\tlabelFocused: true,\r\n\t\t\trender(form, changeFormItems) {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<ZselectInput\r\n\t\t\t\t\t\tleftSpan={6}\r\n\t\t\t\t\t\tcenterSpan={18}\r\n\t\t\t\t\t\trightSpan={0}\r\n\t\t\t\t\t\tselectList={[\"post\", \"get\"].map(m => ({ label: m, value: m }))}\r\n\t\t\t\t\t\tvalueKey={{ left: \"urlMethod\", center: \"url\" }}\r\n\t\t\t\t\t\tleftPlaceholde=\"请求方式\"\r\n\t\t\t\t\t\tcenterPlaceholder=\"请求地址\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t\toptions: getOptions({\r\n\t\t\t\trequired: true,\r\n\t\t\t\tinitialValue: { urlMethod: \"post\", url: \"/system-service/webapi/geography/webService\" },\r\n\t\t\t\trules: urlRules([\"urlMethod\", \"url\"]),\r\n\t\t\t}),\r\n\t\t},\r\n\t\t//<--地图选点特有属性---> end\r\n\t\t{\r\n\t\t\tkey: \"isFormItem\",\r\n\t\t\tlabel: \"自定义内容是否为表单控件\",\r\n\t\t\tlabelFocused: true,\r\n\t\t\tshow: false,\r\n\t\t\t...getSwitchOpt(),\r\n\t\t},\r\n\r\n\t\t//<--共用属性---> start\r\n\t\t{\r\n\t\t\tkey: \"initialValue\",\r\n\t\t\tlabelFocused: true,\r\n\t\t\tlabel: \"控件初始值\",\r\n\t\t\trender(form, changeFormItems) {\r\n\t\t\t\treturn [12].includes(form.getFieldValue(\"fieldType\"))\r\n\t\t\t\t\t? getControl(\"ColorPicker\", { valueType: form.getFieldValue(\"colorValueType\") })\r\n\t\t\t\t\t: getControl(\"Input\");\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"regularExpression\",\r\n\t\t\tlabel: \"正则表达式\",\r\n\t\t\tlabelFocused: true,\r\n\t\t\trender(form, changeFormItems) {\r\n\t\t\t\treturn <ZauxiliaryInput />;\r\n\t\t\t},\r\n\t\t\toptions: {\r\n\t\t\t\trules: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvalidator(rule, value, callback) {\r\n\t\t\t\t\t\t\tlet hasError = false;\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\tnew RegExp(value);\r\n\t\t\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\t\t\thasError = true;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (hasError) {\r\n\t\t\t\t\t\t\t\treturn callback(\"无效正则表达式\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tcallback();\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"errorMsg\",\r\n\t\t\tlabel: \"错误提示\",\r\n\t\t\tlabelFocused: true,\r\n\t\t\trender(form, changeFormItems) {\r\n\t\t\t\treturn getControl(\"Input\");\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"remark\",\r\n\t\t\tlabel: \"备注\",\r\n\t\t\tlabelFocused: true,\r\n\t\t\trender(form, changeFormItems) {\r\n\t\t\t\treturn getControl(\"TextArea\", {\r\n\t\t\t\t\tautosize: { minRows: 3 },\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t},\r\n\t\t//<--共用属性---> end\r\n\t\t{\r\n\t\t\tkey: \"docCode\",\r\n\t\t\tshow: false,\r\n\t\t\tlabel: \"文书模板编码\",\r\n\t\t\tlabelFocused: true,\r\n\t\t\trender(form, changeFormItems) {\r\n\t\t\t\treturn getControl(\"Input\");\r\n\t\t\t},\r\n\t\t\toptions: getOptions({ required: true }),\r\n\t\t},\r\n\t];\r\n\treturn itemsRef.current;\r\n}\r\nfunction useEditPage(groupId, formItem, formViewerRef, linkageRef, type) {\r\n\tconst groupRef = useRef();\r\n\tconst items = useFormItems(groupId, formViewerRef, type);\r\n\treturn useRef(\r\n\t\tZeditSimpleFormHOC({\r\n\t\t\tpageHeader: {\r\n\t\t\t\tshow: false,\r\n\t\t\t},\r\n\t\t\tpageFooter: {\r\n\t\t\t\tshow: false,\r\n\t\t\t},\r\n\t\t\tform: {\r\n\t\t\t\tinitAnimation: false,\r\n\t\t\t\tpanelHeader: \"控件属性\",\r\n\t\t\t\tlabelLayout: \"inline\",\r\n\t\t\t\ttype: \"update\",\r\n\t\t\t\tdefaultSpan: 24,\r\n\t\t\t\tsubmitBtnName: \"确定\",\r\n\t\t\t\tsubmitMsg: null,\r\n\t\t\t\titems,\r\n\t\t\t\tdetailApiInterface(detailId, props, tool) {\r\n\t\t\t\t\tconst group = { id: groupId };\r\n\t\t\t\t\tconst groups = formViewerRef.current.getFormGroups();\r\n\t\t\t\t\tconst i = groups.findIndex(g => g.id == groupId);\r\n\t\t\t\t\tgroup.name = groups[i].name;\r\n\t\t\t\t\tgroupRef.current = groups[i];\r\n\t\t\t\t\t//新增/修改都需groupName\r\n\t\t\t\t\tlet data = { groupName: group.name };\r\n\t\t\t\t\t//修改控件情况\r\n\t\t\t\t\tif (formItem) {\r\n\t\t\t\t\t\tlet excludeKeys = [];\r\n\t\t\t\t\t\tconst currentItem = controlList.find(item => {\r\n\t\t\t\t\t\t\treturn item.value === formItem[\"fieldType\"];\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tif (currentItem) {\r\n\t\t\t\t\t\t\tObject.keys(formItem).forEach(key => {\r\n\t\t\t\t\t\t\t\tif (currentItem.showKeys.includes(key)) {\r\n\t\t\t\t\t\t\t\t\tdata[key] = formItem[key];\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tconst config = JSON.parse(formItem[\"config\"]);\r\n\t\t\t\t\t\t\tif (config) {\r\n\t\t\t\t\t\t\t\tconst objToArr = keyName => {\r\n\t\t\t\t\t\t\t\t\tif (dataType.isObject(config[keyName])) {\r\n\t\t\t\t\t\t\t\t\t\tconfig[keyName] = Object.keys(config[keyName]).map(key => {\r\n\t\t\t\t\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel: key,\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue: config[keyName][key],\r\n\t\t\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tconfig[keyName] = undefined;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t//当是上传控件\r\n\t\t\t\t\t\t\t\tif (formItem[\"fieldType\"] === 11) {\r\n\t\t\t\t\t\t\t\t\tconst url = { urlMethod: \"\", url: \"\", urlParamName: \"\" };\r\n\t\t\t\t\t\t\t\t\t// const detailUrl = { detailUrlMethod: \"\", detailUrl: \"\", detailUrlParamName: \"\" };\r\n\t\t\t\t\t\t\t\t\tObject.keys(config).forEach(key => {\r\n\t\t\t\t\t\t\t\t\t\tswitch (key) {\r\n\t\t\t\t\t\t\t\t\t\t\tcase \"urlMethod\":\r\n\t\t\t\t\t\t\t\t\t\t\tcase \"url\":\r\n\t\t\t\t\t\t\t\t\t\t\tcase \"urlParamName\":\r\n\t\t\t\t\t\t\t\t\t\t\tcase \"requestMode\":\r\n\t\t\t\t\t\t\t\t\t\t\t\turl[key] = config[key];\r\n\t\t\t\t\t\t\t\t\t\t\t\tdelete config[key];\r\n\t\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t\t\t// case \"detailUrlMethod\":\r\n\t\t\t\t\t\t\t\t\t\t\t// case \"detailUrl\":\r\n\t\t\t\t\t\t\t\t\t\t\t// case \"detailUrlParamName\":\r\n\t\t\t\t\t\t\t\t\t\t\t// detailUrl[key] = config[key];\r\n\t\t\t\t\t\t\t\t\t\t\t// delete config[key];\r\n\t\t\t\t\t\t\t\t\t\t\t// break;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tconfig[\"url\"] = url;\r\n\t\t\t\t\t\t\t\t\tobjToArr(\"uploaderResponse\");\r\n\t\t\t\t\t\t\t\t\t// config[\"detailUrl\"] = detailUrl;\r\n\t\t\t\t\t\t\t\t} else if ([3, 6, 7, 8, 9].includes(formItem[\"fieldType\"])) {\r\n\t\t\t\t\t\t\t\t\tconfig.selectionsType =\r\n\t\t\t\t\t\t\t\t\t\tconfig.selectionsType === undefined ? 1 : Number(config.selectionsType);\r\n\t\t\t\t\t\t\t\t\texcludeKeys =\r\n\t\t\t\t\t\t\t\t\t\tconfig.selectionsType === 1 ? selectionsType2keys : selectionsType1keys;\r\n\r\n\t\t\t\t\t\t\t\t\tobjToArr(\"selectionsQuery\");\r\n\t\t\t\t\t\t\t\t\tobjToArr(\"selectListFieldNames\");\r\n\t\t\t\t\t\t\t\t\tshowSelectionsTypeLinkOther(\r\n\t\t\t\t\t\t\t\t\t\ttool.getFormMethods().changeFormItems,\r\n\t\t\t\t\t\t\t\t\t\tconfig[\"selectionsType\"],\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tdata.disabled = data.disabled === undefined ? 0 : Number(data.disabled);\r\n\t\t\t\t\t\t\t\tdata = { ...data, ...config };\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} catch (e) {}\r\n\t\t\t\t\t\tshowFieldTypeLinkOther(\r\n\t\t\t\t\t\t\ttool.getFormMethods().changeFormItems,\r\n\t\t\t\t\t\t\titems,\r\n\t\t\t\t\t\t\tformItem[\"fieldType\"],\r\n\t\t\t\t\t\t\texcludeKeys,\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\t// if ([5].includes(formItem[\"fieldType\"])) {\r\n\t\t\t\t\t\t// \ttool.getFormMethods().changeFormItems({ key: \"initialValue\", show: false }, true);\r\n\t\t\t\t\t\t// }\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn Promise.resolve({\r\n\t\t\t\t\t\tdata,\r\n\t\t\t\t\t});\r\n\t\t\t\t},\r\n\t\t\t\tsubmitApiInterface(values, props, tool) {\r\n\t\t\t\t\tconst fieldTypeItem = controlList.find(item => {\r\n\t\t\t\t\t\treturn item.value === values[\"fieldType\"];\r\n\t\t\t\t\t});\r\n\t\t\t\t\tconst config = {};\r\n\t\t\t\t\tif (Array.isArray(fieldTypeItem.configKeys)) {\r\n\t\t\t\t\t\tfieldTypeItem.configKeys.forEach(key => {\r\n\t\t\t\t\t\t\tconfig[key] = values[key];\r\n\t\t\t\t\t\t\tdelete values[key];\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvalues.config = config;\r\n\t\t\t\t\tvalues.fieldTypeName = fieldTypeItem.label;\r\n\t\t\t\t\tconst arrToObj = keyName => {\r\n\t\t\t\t\t\tconst newSelectionsQuery = {};\r\n\t\t\t\t\t\tArray.isArray(values.config[keyName]) &&\r\n\t\t\t\t\t\t\tvalues.config[keyName].forEach(item => {\r\n\t\t\t\t\t\t\t\tif (item.label && item.value) {\r\n\t\t\t\t\t\t\t\t\tnewSelectionsQuery[item.label] = item.value;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\tvalues.config[keyName] = newSelectionsQuery;\r\n\t\t\t\t\t};\r\n\t\t\t\t\t//上传控件的config要特殊处理\r\n\t\t\t\t\tif (values[\"fieldType\"] === 11) {\r\n\t\t\t\t\t\tlet newConf = values.config;\r\n\t\t\t\t\t\tObject.keys(values.config).forEach(key => {\r\n\t\t\t\t\t\t\tconst val = values.config[key];\r\n\t\t\t\t\t\t\t// if (key === \"url\" || key === \"detailUrl\") {\r\n\t\t\t\t\t\t\t// \tnewConf = { ...newConf, ...val };\r\n\t\t\t\t\t\t\t// }\r\n\t\t\t\t\t\t\tif (key === \"url\") {\r\n\t\t\t\t\t\t\t\tnewConf = { ...newConf, ...val };\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tvalues.config = newConf;\r\n\t\t\t\t\t\tarrToObj(\"uploaderResponse\");\r\n\t\t\t\t\t} else if ([3, 6, 7, 8, 9].includes(values[\"fieldType\"])) {\r\n\t\t\t\t\t\tarrToObj(\"selectionsQuery\");\r\n\t\t\t\t\t\tarrToObj(\"selectListFieldNames\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (values.config) {\r\n\t\t\t\t\t\tvalues.config = JSON.stringify(values.config);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tconst newItem = getFormItem({\r\n\t\t\t\t\t\tfield: formItem ? { ...formItem, ...values } : values,\r\n\t\t\t\t\t\tgroup: groupRef.current,\r\n\t\t\t\t\t\tnoAsync: true,\r\n\t\t\t\t\t});\r\n\t\t\t\t\tconst currentItems = groupRef.current.groupRef.current.getFormItems();\r\n\t\t\t\t\tlet newItems = [...currentItems];\r\n\t\t\t\t\tconst i = currentItems.findIndex(\r\n\t\t\t\t\t\titem => item[\"fieldKey\"] === (formItem ? formItem[\"fieldKey\"] : values[\"fieldKey\"]),\r\n\t\t\t\t\t);\r\n\t\t\t\t\tlet successMsg = `${formItem ? \"修改\" : \"添加\"}控件成功`;\r\n\t\t\t\t\tif (i > -1) {\r\n\t\t\t\t\t\tif (formItem && formItem[\"fieldKey\"] !== values[\"fieldKey\"] && linkageRef.current) {\r\n\t\t\t\t\t\t\t//修改了fieldKey时移除li\r\n\t\t\t\t\t\t\tconst hasRemoveAge = removeSomeLinkage(linkageRef, formItem[\"fieldKey\"]);\r\n\t\t\t\t\t\t\tif (hasRemoveAge) {\r\n\t\t\t\t\t\t\t\tsuccessMsg += `。由于修改了fieldKey，同时移除了对应的联动配置。`;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tnewItems.splice(i, 1, newItem);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnewItems = [...newItems, newItem];\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// console.log(newItem);\r\n\t\t\t\t\tgroupRef.current.groupRef.current.setFormItems(newItems);\r\n\t\t\t\t\ttool.showRightModal(false, \"controlProtoModal\");\r\n\t\t\t\t\treturn Promise.resolve({\r\n\t\t\t\t\t\tmsg: successMsg,\r\n\t\t\t\t\t});\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t}),\r\n\t).current;\r\n}\r\nexport default React.memo(\r\n\tReact.forwardRef(function AddColForm({ groupId, formItem, formViewerRef, linkageRef, type }, ref) {\r\n\t\tconst EditForm = useEditPage(groupId, formItem, formViewerRef, linkageRef, type);\r\n\t\treturn <EditForm detailId=\"1\" />;\r\n\t}),\r\n);\r\n","module.exports = \"<!--\\n * @Author: zgt\\n * @Date: 2019-09-20 19:52:56\\n * @LastEditors: zgt\\n * @LastEditTime: 2019-10-12 17:04:09\\n * @Description: file content\\n -->\\n<h1 id=\\\"-zliveform\\\">动态表单配置：ZliveForm</h1>\\n<p><code>ZliveForm</code> 是动态表单配置模块</p>\\n<p><code>ZliveForm.FormViewer</code> 是动态表单展示模块(包括控件联动效果)</p>\\n<p>控件联动功能有：1、单选/多选控制其他控件禁用，2、单选/多选控制其他控件必填，3、单选/多选控制其控件非必填，4、单选/多选 控制 其他单选/多选的选择项，5.1、单选/多选控制一个组隐藏，5.2、单选/多选控制其他控件隐藏，6、身份证号取出生年月日，7、单选联动异步请求选项，8、地图选点取行政区划</p>\\n<p>2、ZliveForm 的例子</p>\\n<div class=\\\"z-demo-box\\\" data-render=\\\"demo0\\\" data-title=\\\"ZliveForm的例子\\\"></div>\\n\\n<pre><code class=\\\"language-jsx\\\">import React from &quot;react&quot;;\\nimport { ZliveForm } from &quot;zerod&quot;;\\nimport formData from &quot;./formData&quot;;\\nimport linkages from &quot;./linkages&quot;;\\nclass Myjavascript extends React.PureComponent {\\n    formData = { ...formData, linkages };\\n    onSave = newFormData =&gt; {\\n        console.log(newFormData);\\n    };\\n    render() {\\n        return &lt;ZliveForm formData={this.formData} onSave={this.onSave} /&gt;;\\n    }\\n}</code></pre>\\n<p>1、ZliveForm. FormViewer 的例子</p>\\n<div class=\\\"z-demo-box\\\" data-render=\\\"demo1\\\" data-title=\\\"ZliveForm. FormViewer的例子\\\"></div>\\n\\n<pre><code class=\\\"language-jsx\\\">import React from &quot;react&quot;;\\nimport { ZliveForm } from &quot;zerod&quot;;\\nimport formData from &quot;./formData&quot;;\\nimport linkages from &quot;./linkages&quot;;\\nclass Myjavascript extends React.PureComponent {\\n    formData = { ...formData, linkages };\\n    onSubmit = values =&gt; {\\n        console.log(values);\\n        return Promise.resolve();\\n    };\\n    render() {\\n        return &lt;ZliveForm.FormViewer formData={this.formData} onSubmit={this.onSubmit} /&gt;;\\n    }\\n}</code></pre>\\n<div class=\\\"z-doc-titles\\\"></div>\\n\\n<h2 id=\\\"zliveform-props\\\">ZliveForm 的 props</h2>\\n<table>\\n<thead>\\n<tr>\\n<th>参数</th>\\n<th>说明</th>\\n<th>类型</th>\\n<th>默认值</th>\\n</tr>\\n</thead>\\n<tbody><tr>\\n<td>formData</td>\\n<td>渲染整个表单的数据</td>\\n<td>object</td>\\n<td>--</td>\\n</tr>\\n<tr>\\n<td>onSave</td>\\n<td>保存按钮的事件</td>\\n<td>function(newFormData){}</td>\\n<td>--</td>\\n</tr>\\n</tbody></table>\\n<div class=\\\"z-doc-titles\\\"></div>\\n\\n<h2 id=\\\"zliveform-formviewer-props\\\">ZliveForm. FormViewer 的 props</h2>\\n<p>可追 <code>className</code> 、 <code>style</code> </p>\\n<table>\\n<thead>\\n<tr>\\n<th>参数</th>\\n<th>说明</th>\\n<th>类型</th>\\n<th>默认值</th>\\n</tr>\\n</thead>\\n<tbody><tr>\\n<td>formData</td>\\n<td>渲染整个表单的数据</td>\\n<td>object</td>\\n<td>--</td>\\n</tr>\\n<tr>\\n<td>formValues</td>\\n<td>表单字段对应的值</td>\\n<td>object</td>\\n<td>--</td>\\n</tr>\\n<tr>\\n<td>onSubmit</td>\\n<td>submit 类型的按钮触发表单验证通过后的确定回调函数，同/Zform 的 onSubmit</td>\\n<td>function(values){return Promise.resolve()}</td>\\n<td>--</td>\\n</tr>\\n<tr>\\n<td>momentFormat</td>\\n<td>是否在触发 onSubmit 函数后里面传出的 values 中存在 moment 对象进行表单控件对应的 format 格式化，启用此属性，相关 moment 值的控件必需 format 属性</td>\\n<td>boolean</td>\\n<td>false</td>\\n</tr>\\n<tr>\\n<td>submitBtnRender</td>\\n<td>表单之下的渲染函数，可以渲染一个或多个按钮，或者其他内容。提供了一个 submit 函数，可以直接绑定给提交按钮 click 等, 触发后会用 onSubmit 回调</td>\\n<td>(submit)=&gt;{return ReactNode}</td>\\n<td>--</td>\\n</tr>\\n<tr>\\n<td>linkage</td>\\n<td>是否启用联动功能 (联动的前提 formData 中存在 linkages 配置)</td>\\n<td>boolean</td>\\n<td>true</td>\\n</tr>\\n<tr>\\n<td>title</td>\\n<td>表单的标题，默认来自 formData.name, 如果 title==false, 则不显示标题</td>\\n<td>boolean | string</td>\\n<td>--</td>\\n</tr>\\n<tr>\\n<td>afterItemsRendered</td>\\n<td>所有表单控件渲染完成（包括异步）的回调</td>\\n<td>funcion</td>\\n<td>--</td>\\n</tr>\\n<tr>\\n<td>customOnChange</td>\\n<td>为某些控件添加onChange事件</td>\\n<td>object</td>\\n<td>--</td>\\n</tr>\\n<tr>\\n<td>customFormRules</td>\\n<td>为某些控件添加自定义rules</td>\\n<td>object</td>\\n<td>--</td>\\n</tr>\\n<tr>\\n<td>customControlRender</td>\\n<td>添加对应的自定义占位控件的渲染函数</td>\\n<td>object</td>\\n<td>--</td>\\n</tr>\\n</tbody></table>\\n<h2 id=\\\"zliveform-formviewer-ref-\\\">ZliveForm. FormViewer 实例方法 (通过 Ref 取得)</h2>\\n<table>\\n<thead>\\n<tr>\\n<th>参数</th>\\n<th>说明</th>\\n<th>使用</th>\\n<th>返回值</th>\\n</tr>\\n</thead>\\n<tbody><tr>\\n<td>getEachFormMethod</td>\\n<td>获取所有 Zform 的 form 实例和 methods</td>\\n<td>getEachFormMethod()</td>\\n<td>[{form, methods}]</td>\\n</tr>\\n</tbody></table>\\n<h2 id=\\\"formdata-\\\">formData 基本结构</h2>\\n<div class=\\\"z-demo-box\\\" data-render=\\\"demo2\\\" data-title=\\\"formData\\\"></div>\\n\\n<pre><code class=\\\"language-json\\\">{\\n    &quot;id&quot;: 111, //formId\\n    &quot;name&quot;: &quot;养犬信息登记表&quot;,\\n    &quot;code&quot;: &quot;dog_check_in_form&quot;,\\n    &quot;description&quot;: &quot;养犬信息登记表&quot;,\\n    &quot;linkages&quot;: [\\n        //联动配置\\n        {\\n            &quot;linkageType&quot;: &quot;5.1&quot;,\\n            &quot;name&quot;: &quot;单选/多选控制组隐藏&quot;,\\n            &quot;src&quot;: { &quot;fieldKey&quot;: &quot;rfid&quot; },\\n            &quot;dist&quot;: [\\n                {\\n                    &quot;srcValue&quot;: &quot;2&quot;,\\n                    &quot;fields&quot;: [\\n                        {\\n                            &quot;groupId&quot;: 113,\\n                            &quot;groupName&quot;: &quot;名称&quot;\\n                        }\\n                    ]\\n                }\\n            ]\\n        },\\n        {\\n            &quot;linkageType&quot;: &quot;5.2&quot;,\\n            &quot;name&quot;: &quot;单选/多选控制控件隐藏&quot;,\\n            &quot;src&quot;: { &quot;fieldKey&quot;: &quot;isEntity&quot; },\\n            &quot;dist&quot;: [\\n                {\\n                    &quot;srcValue&quot;: &quot;2&quot;,\\n                    &quot;fields&quot;: [\\n                        {\\n                            &quot;fieldKey&quot;: &quot;recipientName&quot;,\\n                            &quot;label&quot;: &quot;收件人姓名&quot;,\\n                            &quot;fieldType&quot;: 1\\n                        },\\n                        {\\n                            &quot;fieldKey&quot;: &quot;contact&quot;,\\n                            &quot;label&quot;: &quot;联系方式&quot;,\\n                            &quot;fieldType&quot;: 4\\n                        }\\n                    ]\\n                }\\n            ]\\n        },\\n        {\\n            &quot;linkageType&quot;: &quot;1&quot;,\\n            &quot;name&quot;: &quot;单选/多选控制控件禁用&quot;,\\n            &quot;src&quot;: { &quot;fieldKey&quot;: &quot;dogSex&quot; },\\n            &quot;dist&quot;: [\\n                {\\n                    &quot;srcValue&quot;: &quot;2&quot;,\\n                    &quot;fields&quot;: [\\n                        {\\n                            &quot;fieldKey&quot;: &quot;dogProperty&quot;,\\n                            &quot;label&quot;: &quot;犬只性质&quot;,\\n                            &quot;fieldType&quot;: 3\\n                        },\\n                        {\\n                            &quot;fieldKey&quot;: &quot;dogColor&quot;,\\n                            &quot;label&quot;: &quot;犬只颜色&quot;,\\n                            &quot;fieldType&quot;: 1\\n                        }\\n                    ]\\n                }\\n            ]\\n        },\\n        {\\n            &quot;linkageType&quot;: &quot;2&quot;,\\n            &quot;name&quot;: &quot;单选/多选控制控件必填&quot;,\\n            &quot;src&quot;: { &quot;fieldKey&quot;: &quot;isIris&quot; },\\n            &quot;dist&quot;: [\\n                {\\n                    &quot;srcValue&quot;: &quot;2&quot;,\\n                    &quot;fields&quot;: [\\n                        {\\n                            &quot;fieldKey&quot;: &quot;birthday&quot;,\\n                            &quot;label&quot;: &quot;出生日期&quot;,\\n                            &quot;fieldType&quot;: 5\\n                        }\\n                    ]\\n                }\\n            ]\\n        },\\n        {\\n            &quot;linkageType&quot;: &quot;3&quot;,\\n            &quot;name&quot;: &quot;单选/多选控制控件非必填&quot;,\\n            &quot;src&quot;: { &quot;fieldKey&quot;: &quot;isIris&quot; },\\n            &quot;dist&quot;: [\\n                {\\n                    &quot;srcValue&quot;: &quot;1&quot;,\\n                    &quot;fields&quot;: [\\n                        {\\n                            &quot;fieldKey&quot;: &quot;birthday&quot;,\\n                            &quot;label&quot;: &quot;出生日期&quot;,\\n                            &quot;fieldType&quot;: 5\\n                        }\\n                    ]\\n                }\\n            ]\\n        },\\n        {\\n            &quot;linkageType&quot;: &quot;4&quot;,\\n            &quot;name&quot;: &quot;单选/多选 控制 选项&quot;,\\n            &quot;src&quot;: { &quot;fieldKey&quot;: &quot;rfid&quot; },\\n            &quot;dist&quot;: [\\n                {\\n                    &quot;srcValue&quot;: &quot;1&quot;,\\n                    &quot;fields&quot;: [\\n                        {\\n                            &quot;fieldKey&quot;: &quot;domicile&quot;,\\n                            &quot;label&quot;: &quot;住所性质&quot;,\\n                            &quot;options&quot;: [\\n                                { &quot;label&quot;: &quot;自有&quot;, &quot;value&quot;: &quot;1&quot; },\\n                                { &quot;label&quot;: &quot;租赁&quot;, &quot;value&quot;: &quot;2&quot; },\\n                                { &quot;label&quot;: &quot;其他&quot;, &quot;value&quot;: &quot;3&quot; }\\n                            ]\\n                        }\\n                    ]\\n                },\\n                {\\n                    &quot;srcValue&quot;: &quot;2&quot;,\\n                    &quot;fields&quot;: [\\n                        {\\n                            &quot;fieldKey&quot;: &quot;domicile&quot;,\\n                            &quot;label&quot;: &quot;住所性质&quot;,\\n                            &quot;options&quot;: [{ &quot;label&quot;: &quot;自有&quot;, &quot;value&quot;: &quot;1&quot; }]\\n                        }\\n                    ]\\n                }\\n            ]\\n        }\\n    ],\\n    &quot;sectionList&quot;: [\\n        //表单控件组\\n        {\\n            &quot;id&quot;: 111, //groupId\\n            &quot;formId&quot;: 111,\\n            &quot;name&quot;: &quot;犬只信息&quot;,\\n            &quot;seq&quot;: 1, //组排序\\n            &quot;description&quot;: &quot;犬只信息表&quot;,\\n            &quot;formFieldInfoList&quot;: [\\n                //表单控件\\n                {\\n                    &quot;id&quot;: 466,\\n                    &quot;sectionId&quot;: 111,\\n                    &quot;label&quot;: &quot;犬只名称&quot;,\\n                    &quot;fieldKey&quot;: &quot;dogName&quot;,\\n                    &quot;fieldType&quot;: 1, //控件类型\\n                    &quot;required&quot;: 1, //是否必填\\n                    &quot;regularExpression&quot;: null, //正则表达式\\n                    &quot;description&quot;: null,\\n                    &quot;errorMsg&quot;: null, //验证失败的提示信息\\n                    &quot;placeholder&quot;: null,\\n                    &quot;span&quot;: 8, //栅栏占格(1-24)\\n                    &quot;labelWidth&quot;: 4,\\n                    &quot;config&quot;: &quot;{\\\\&quot;maxLength\\\\&quot;:8,\\\\&quot;minLength\\\\&quot;:1}&quot;, //规则配置等\\n                    &quot;initialValue&quot;: null, //初始值\\n                    &quot;seq&quot;: 1 //排序\\n                }\\n            ]\\n        },\\n        {\\n            &quot;id&quot;: 112,\\n            &quot;formId&quot;: 111,\\n            &quot;name&quot;: &quot;养犬人信息&quot;,\\n            &quot;seq&quot;: 2,\\n            &quot;description&quot;: &quot;养犬人信息表&quot;,\\n            &quot;gmtCreate&quot;: &quot;2019-03-26 12:09:59&quot;,\\n            &quot;gmtModified&quot;: &quot;2019-03-26 12:09:59&quot;,\\n            &quot;formFieldInfoList&quot;: [\\n                {\\n                    &quot;id&quot;: 475,\\n                    &quot;sectionId&quot;: 112,\\n                    &quot;label&quot;: &quot;养犬人姓名&quot;,\\n                    &quot;fieldKey&quot;: &quot;name&quot;,\\n                    &quot;fieldType&quot;: 1,\\n                    &quot;required&quot;: 1,\\n                    &quot;regularExpression&quot;: null,\\n                    &quot;description&quot;: null,\\n                    &quot;errorMsg&quot;: null,\\n                    &quot;placeholder&quot;: null,\\n                    &quot;span&quot;: 8,\\n                    &quot;labelWidth&quot;: 4,\\n                    &quot;config&quot;: &quot;{\\\\&quot;maxLength\\\\&quot;:8,\\\\&quot;minLength\\\\&quot;:1}&quot;,\\n                    &quot;initialValue&quot;: null,\\n                    &quot;seq&quot;: 1\\n                }\\n            ]\\n        }\\n    ],\\n    //为某些控件添加onChange事件\\n    &quot;customOnChange&quot;: {\\n        &quot;dogType&quot;: function(field, imperativeRef, e) {\\n            console.log(&quot;dogType&quot;, field, imperativeRef.current(), e);\\n        }\\n    },\\n    //为某些控件添加自定义rules\\n    &quot;customFormRules&quot;: {\\n        &quot;dogName&quot;: function(field, imperativeRef) {\\n            console.log(&quot;dogName&quot;, field, imperativeRef.current());\\n            return [\\n                {\\n                    &quot;validator&quot;: (rule, value, callback) =&gt; {}\\n                }\\n            ];\\n        }\\n    },\\n    &quot;customControlRender&quot;:{\\n        &quot;customsKey&quot;:function({field,linkages,getGroupsFn}){\\n            return &lt;div&gt;9999999&lt;/div&gt;\\n        }\\n    }\\n}</code></pre>\\n\";","import React, { useState, useEffect, useRef, useImperativeHandle, useCallback } from \"react\";\r\nimport Zform from \"../Zform\";\r\nimport FormContext from \"./FormContext\";\r\n\r\nconst MyForm = FormContext.setConsumer(Zform);\r\nconst FormGroup = React.memo(\r\n\tReact.forwardRef(function(\r\n\t\t{\r\n\t\t\tformItems,\r\n\t\t\tgetOtherForms,\r\n\t\t\tlabelLayout,\r\n\t\t\tonSubmit,\r\n\t\t\tgroup,\r\n\t\t\ttitleLeftRender,\r\n\t\t\ttitleRightRender,\r\n\t\t\tchildren,\r\n\t\t\tformValues,\r\n\t\t\tmomentFormat,\r\n\t\t\tbooleanToNumber,\r\n\t\t\tafterItemsRendered,\r\n\t\t},\r\n\t\tref,\r\n\t) {\r\n\t\tconst domRef = useRef();\r\n\t\tconst formRef = useRef({});\r\n\t\tconst [show, setShow] = useState(true);\r\n\t\tconst getFormInstance = useCallback(\r\n\t\t\t(form, methods) => {\r\n\t\t\t\tformRef.current = { form, methods };\r\n\t\t\t},\r\n\t\t\t[formRef.current],\r\n\t\t);\r\n\t\tconst [stateFormItems, setFormItems] = useState([]);\r\n\t\tuseEffect(() => {\r\n\t\t\tsetFormItems(Array.isArray(formItems) ? formItems : []);\r\n\t\t}, [formItems]);\r\n\t\tuseImperativeHandle(ref, () => ({\r\n\t\t\tgetForm() {\r\n\t\t\t\treturn { ...formRef.current, group };\r\n\t\t\t},\r\n\t\t\tshow(showStatus, seftItem) {\r\n\t\t\t\tif (show === showStatus) return;\r\n\t\t\t\tsetShow(showStatus);\r\n\t\t\t\tformRef.current.methods.changeFormItems(\r\n\t\t\t\t\tstateFormItems.map(item => ({\r\n\t\t\t\t\t\tkey: item.key,\r\n\t\t\t\t\t\tshow: showStatus,\r\n\t\t\t\t\t})),\r\n\t\t\t\t\ttrue,\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t\tgetShowState() {\r\n\t\t\t\treturn show;\r\n\t\t\t},\r\n\t\t\tgetWrapperDom() {\r\n\t\t\t\treturn domRef.current;\r\n\t\t\t},\r\n\t\t\tgetFormItems() {\r\n\t\t\t\treturn stateFormItems;\r\n\t\t\t},\r\n\t\t\tsetFormItems,\r\n\t\t}));\r\n\r\n\t\tconst [groupName, setGroupName] = useState();\r\n\t\tuseEffect(() => {\r\n\t\t\tsetGroupName(group.name);\r\n\t\t}, [group.name]);\r\n\t\tconst nameChange = useCallback(\r\n\t\t\tval => {\r\n\t\t\t\tgroup.name = val;\r\n\t\t\t\tsetGroupName(val);\r\n\t\t\t},\r\n\t\t\t[group, setGroupName],\r\n\t\t);\r\n\t\t// console.log(\"--groups--\" + group.id, stateFormItems);\r\n\t\treturn (\r\n\t\t\t<div className=\"z-view-form-panel\" ref={domRef} style={!show ? { display: \"none\" } : null}>\r\n\t\t\t\t<div className=\"z-panel-heading z-bordercolor-light-orange z-text-orange z-flex-space-between\">\r\n\t\t\t\t\t<div className=\"z-flex-items-v-center\">\r\n\t\t\t\t\t\t{typeof titleLeftRender === \"function\" ? (\r\n\t\t\t\t\t\t\ttitleLeftRender(group, groupName, nameChange)\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<span>{groupName}</span>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"z-flex-items-v-center\">\r\n\t\t\t\t\t\t{typeof titleRightRender === \"function\" && titleRightRender(group)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"z-panel-body z-padding-bottom-0-important\">\r\n\t\t\t\t\t<MyForm\r\n\t\t\t\t\t\tgroup={group}\r\n\t\t\t\t\t\tonSubmit={onSubmit}\r\n\t\t\t\t\t\tlabelLayout={labelLayout ? labelLayout : \"inline\"}\r\n\t\t\t\t\t\titems={stateFormItems}\r\n\t\t\t\t\t\tsubmitBtnName=\"\"\r\n\t\t\t\t\t\tgetFormInstance={getFormInstance}\r\n\t\t\t\t\t\totherForms={getOtherForms}\r\n\t\t\t\t\t\tformDefaultValues={formValues}\r\n\t\t\t\t\t\tmomentFormat={momentFormat}\r\n\t\t\t\t\t\tbooleanToNumber={booleanToNumber}\r\n\t\t\t\t\t\tafterItemsRendered={afterItemsRendered}\r\n\t\t\t\t\t\tinitAnimation={false}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{children}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}),\r\n);\r\nexport default FormGroup;\r\n","import React, { useState, useEffect, useRef, useImperativeHandle, useCallback } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { getControl, getOptions } from \"../../Zform/controls\";\r\nimport { Row, Col, Tag, Button, message, Input } from \"antd\";\r\nimport ZoneWayTransfer from \"../../ZoneWayTransfer\";\r\nimport { itemsFromTree } from \"../../zTool\";\r\nimport { controlList } from \"../AddColForm\";\r\nimport { linkRemark1, linkRemark2, linkRemark3, linkRemark4 } from \"./linkRemark\";\r\nimport { regionNames } from \"../common\";\r\nfunction turnSelectOptions(\r\n\tsection,\r\n\tneedChild,\r\n\tfilter = list => {\r\n\t\treturn list;\r\n\t},\r\n) {\r\n\treturn section.map(g => {\r\n\t\tlet group = false;\r\n\t\tlet children = null;\r\n\t\tif (Array.isArray(g.formFieldInfoList)) {\r\n\t\t\tgroup = true;\r\n\t\t\tchildren = filter(g.formFieldInfoList).map(item => {\r\n\t\t\t\treturn { ...item, value: item.fieldKey, disabled: false };\r\n\t\t\t});\r\n\t\t}\r\n\t\tconst newItem = {\r\n\t\t\t...g,\r\n\t\t\tvalue: g.name,\r\n\t\t\tgroup: needChild ? group : false,\r\n\t\t\tlabel: g.name,\r\n\t\t\tformFieldInfoList: null,\r\n\t\t};\r\n\t\tif (children && needChild) {\r\n\t\t\tnewItem.children = children;\r\n\t\t}\r\n\t\treturn newItem;\r\n\t});\r\n}\r\nfunction getControlitem(type) {\r\n\tconst findItem = controlList.find(item => {\r\n\t\treturn item.value == type;\r\n\t});\r\n\treturn findItem;\r\n}\r\n\r\nfunction getLinkValue(query = {}) {\r\n\treturn {\r\n\t\tsrcControl: null,\r\n\t\tsrcValues: [],\r\n\t\tsrcControls: [],\r\n\t\tdistControls: [],\r\n\t\tleftSelectedVal: \"\",\r\n\t\trightSelectedVal: \"\",\r\n\t\tdistControl: null,\r\n\t\tdistValues: [],\r\n\t\t...query,\r\n\t};\r\n}\r\n\r\nconst propTypes = {\r\n\tnewFormData: PropTypes.object,\r\n\tonSrcSelected: PropTypes.func,\r\n\tonOk: PropTypes.func,\r\n\tonBack: PropTypes.func,\r\n};\r\nfunction ValueLinkControl(props) {\r\n\tconst { newFormData, onSrcSelected, onOk, onBack, linkageType } = props;\r\n\tconst [leftTransferSelections, setLeftTransferSelections] = useState([]);\r\n\tconst [leftTransferSelected, setLeftTransferSelected] = useState([]);\r\n\tconst [rightTransferSelections, setRightTransferSelections] = useState();\r\n\tconst [rightTransferSelected, setRightTransferSelected] = useState([]);\r\n\tconst asyncParamNameRef = useRef(\"id\");\r\n\tconst regionNameRef = useRef(\"province,city,district\");\r\n\tuseEffect(() => {\r\n\t\tswitch (linkageType) {\r\n\t\t\tcase \"1\":\r\n\t\t\tcase \"2\":\r\n\t\t\tcase \"3\":\r\n\t\t\tcase \"5.2\":\r\n\t\t\t\tsetLeftTransferSelections([]);\r\n\t\t\t\tsetRightTransferSelections(turnSelectOptions(newFormData.sectionList, true));\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"5.1\":\r\n\t\t\t\tsetLeftTransferSelections([]);\r\n\t\t\t\tsetRightTransferSelections(turnSelectOptions(newFormData.sectionList, false));\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"4\":\r\n\t\t\t\tsetLeftTransferSelections([]);\r\n\t\t\t\tsetRightTransferSelections([]);\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"6\":\r\n\t\t\t\tsetLeftTransferSelections(\r\n\t\t\t\t\tturnSelectOptions(newFormData.sectionList, true, list => {\r\n\t\t\t\t\t\treturn list.filter(item => [1].includes(item.fieldType));\r\n\t\t\t\t\t}),\r\n\t\t\t\t);\r\n\t\t\t\tsetRightTransferSelections(\r\n\t\t\t\t\tturnSelectOptions(newFormData.sectionList, true, list => {\r\n\t\t\t\t\t\treturn list.filter(item => [1, 5].includes(item.fieldType));\r\n\t\t\t\t\t}),\r\n\t\t\t\t);\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"7\":\r\n\t\t\t\tsetLeftTransferSelections(\r\n\t\t\t\t\tturnSelectOptions(newFormData.sectionList, true, list => {\r\n\t\t\t\t\t\treturn list.filter(item => [3, 9].includes(item.fieldType));\r\n\t\t\t\t\t}),\r\n\t\t\t\t);\r\n\t\t\t\tsetRightTransferSelections(\r\n\t\t\t\t\tturnSelectOptions(newFormData.sectionList, true, list => {\r\n\t\t\t\t\t\treturn list.filter(item => {\r\n\t\t\t\t\t\t\tlet config = item.config || {};\r\n\t\t\t\t\t\t\tif (typeof item.config == \"string\") {\r\n\t\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\t\tconfig = JSON.parse(item.config);\r\n\t\t\t\t\t\t\t\t} catch (e) {}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treturn [3, 6, 7, 8, 9].includes(item.fieldType) && config.selectionsType == 2;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}),\r\n\t\t\t\t);\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"8\":\r\n\t\t\t\tsetLeftTransferSelections(\r\n\t\t\t\t\tturnSelectOptions(newFormData.sectionList, true, list => {\r\n\t\t\t\t\t\treturn list.filter(item => [13].includes(item.fieldType));\r\n\t\t\t\t\t}),\r\n\t\t\t\t);\r\n\t\t\t\tsetRightTransferSelections(\r\n\t\t\t\t\tturnSelectOptions(newFormData.sectionList, true, list => {\r\n\t\t\t\t\t\treturn list.filter(item => [1, 2].includes(item.fieldType));\r\n\t\t\t\t\t}),\r\n\t\t\t\t);\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\tsetLinkValue(getLinkValue());\r\n\t\tsetLeftTransferSelected([]);\r\n\t\tsetRightTransferSelected([]);\r\n\t}, [linkageType]);\r\n\tconst [linkValue, setLinkValue] = useState(getLinkValue());\r\n\tconst selectOptionsRef = useRef(\r\n\t\tturnSelectOptions(newFormData.sectionList, true, list => {\r\n\t\t\treturn list.filter(item => {\r\n\t\t\t\tlet config = item.config || {};\r\n\t\t\t\tif (typeof config === \"string\") {\r\n\t\t\t\t\tconfig = JSON.parse(config);\r\n\t\t\t\t}\r\n\t\t\t\treturn [3, 8, 9].includes(item.fieldType) && config.selectionsType != 2;\r\n\t\t\t});\r\n\t\t}),\r\n\t);\r\n\t//第一个穿梭框的特殊属性\r\n\tconst leftTransferPropsRef = useRef({});\r\n\tconst getSelectControl = (opt = {}) => {\r\n\t\treturn (\r\n\t\t\t<div className=\"z-flex-1 z-margin-right-10\">\r\n\t\t\t\t{getControl(\"Select\", {\r\n\t\t\t\t\tshowSearch: false,\r\n\t\t\t\t\tsize: \"small\",\r\n\t\t\t\t\tplaceholder: \"请选择单选/多选控件\",\r\n\t\t\t\t\tselectList: selectOptionsRef.current,\r\n\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\twidth: \"100%\",\r\n\t\t\t\t\t},\r\n\t\t\t\t\tdropdownMatchSelectWidth: false,\r\n\t\t\t\t\tdropdownStyle: { width: \"400px\" },\r\n\t\t\t\t\toptLabelRender(item) {\r\n\t\t\t\t\t\tconst findItem = getControlitem(item.fieldType);\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div className=\"z-flex-space-between\">\r\n\t\t\t\t\t\t\t\t<span className=\"z-margin-right-8\">{item.label}</span>\r\n\t\t\t\t\t\t\t\t<Tag color=\"#2db7f5\">{findItem.label}</Tag>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t},\r\n\t\t\t\t\t...opt,\r\n\t\t\t\t})}\r\n\t\t\t</div>\r\n\t\t);\r\n\t};\r\n\tif ([\"1\", \"2\", \"3\", \"4\", \"5.1\", \"5.2\"].includes(linkageType)) {\r\n\t\tleftTransferPropsRef.current = {\r\n\t\t\tleftTitle() {\r\n\t\t\t\treturn getSelectControl({\r\n\t\t\t\t\tvalue: linkValue.leftSelectedVal,\r\n\t\t\t\t\tonChange(val) {\r\n\t\t\t\t\t\titemsFromTree({\r\n\t\t\t\t\t\t\ttree: selectOptionsRef.current,\r\n\t\t\t\t\t\t\tsourceItem: { value: val },\r\n\t\t\t\t\t\t\tkeyObj: { id: \"value\", children: \"children\" },\r\n\t\t\t\t\t\t\taction({ tree, currentItem, item, index }) {\r\n\t\t\t\t\t\t\t\tconst config = JSON.parse(currentItem.config);\r\n\t\t\t\t\t\t\t\tsetLeftTransferSelections(config.selectList);\r\n\t\t\t\t\t\t\t\tsetLinkValue({\r\n\t\t\t\t\t\t\t\t\t...linkValue,\r\n\t\t\t\t\t\t\t\t\tleftSelectedVal: currentItem.value,\r\n\t\t\t\t\t\t\t\t\tsrcValues: [],\r\n\t\t\t\t\t\t\t\t\tdistControls: [],\r\n\t\t\t\t\t\t\t\t\tsrcControls: [],\r\n\t\t\t\t\t\t\t\t\tsrcControl: currentItem,\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\tsetLeftTransferSelected([]);\r\n\t\t\t\t\t\t\t\tsetRightTransferSelected([]);\r\n\t\t\t\t\t\t\t\tif (![\"4\", \"5.1\"].includes(linkageType)) {\r\n\t\t\t\t\t\t\t\t\tsetRightTransferSelections(\r\n\t\t\t\t\t\t\t\t\t\tturnSelectOptions(newFormData.sectionList, true, list => {\r\n\t\t\t\t\t\t\t\t\t\t\treturn list.filter(item => item.fieldKey !== val);\r\n\t\t\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tonSrcSelected && onSrcSelected(currentItem);\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t// console.log(turnSelectOptions(newFormData.sectionList));\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\trightTitle: \"已选择的选项\",\r\n\t\t};\r\n\t} else if ([\"6\", \"7\", \"8\"].includes(linkageType)) {\r\n\t\tleftTransferPropsRef.current = {\r\n\t\t\tleftTitle: \"可选控件列表\",\r\n\t\t\trightTitle: \"已选择的控件\",\r\n\t\t\tleftItemRender(item, index) {\r\n\t\t\t\tconst findControl = getControlitem(item.fieldType);\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div className=\"z-flex-space-between\">\r\n\t\t\t\t\t\t<span>{item.label}</span>\r\n\t\t\t\t\t\t{findControl ? <Tag color=\"purple\">{findControl.label}</Tag> : null}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t};\r\n\t}\r\n\t//第二个穿梭框的特殊属性\r\n\tconst rightTransferPropsRef = useRef({});\r\n\tif ([\"1\", \"2\", \"3\", \"5.2\", \"6\"].includes(linkageType)) {\r\n\t\trightTransferPropsRef.current = {\r\n\t\t\tleftTitle: \"可选控件列表\",\r\n\t\t\trightTitle: \"已选择的控件\",\r\n\t\t\tleftItemRender(item, index) {\r\n\t\t\t\tconst findControl = getControlitem(item.fieldType);\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div className=\"z-flex-space-between\">\r\n\t\t\t\t\t\t<span>{item.label}</span>\r\n\t\t\t\t\t\t{findControl ? <Tag color=\"purple\">{findControl.label}</Tag> : null}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t};\r\n\t} else if ([\"4\"].includes(linkageType)) {\r\n\t\trightTransferPropsRef.current = {\r\n\t\t\tleftTitle() {\r\n\t\t\t\treturn getSelectControl({\r\n\t\t\t\t\tvalue: linkValue.rightSelectedVal,\r\n\t\t\t\t\tonChange(val) {\r\n\t\t\t\t\t\titemsFromTree({\r\n\t\t\t\t\t\t\ttree: selectOptionsRef.current,\r\n\t\t\t\t\t\t\tsourceItem: { value: val },\r\n\t\t\t\t\t\t\tkeyObj: { id: \"value\", children: \"children\" },\r\n\t\t\t\t\t\t\taction({ tree, currentItem, item, index }) {\r\n\t\t\t\t\t\t\t\tconst config = JSON.parse(currentItem.config);\r\n\t\t\t\t\t\t\t\tsetRightTransferSelections(config.selectList);\r\n\t\t\t\t\t\t\t\tsetLinkValue({\r\n\t\t\t\t\t\t\t\t\t...linkValue,\r\n\t\t\t\t\t\t\t\t\trightSelectedVal: currentItem.value,\r\n\t\t\t\t\t\t\t\t\tdistValues: [],\r\n\t\t\t\t\t\t\t\t\tdistControls: [],\r\n\t\t\t\t\t\t\t\t\tsrcControls: [],\r\n\t\t\t\t\t\t\t\t\tdistControl: currentItem,\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\tsetRightTransferSelected([]);\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\trightTitle: \"已选择的选项\",\r\n\t\t};\r\n\t} else if ([\"5.1\"].includes(linkageType)) {\r\n\t\trightTransferPropsRef.current = {\r\n\t\t\tleftTitle: \"可选组列表\",\r\n\t\t\trightTitle: \"已选择的组\",\r\n\t\t};\r\n\t}\r\n\r\n\tlet linkRemark = null;\r\n\tswitch (linkageType) {\r\n\t\tcase \"1\":\r\n\t\tcase \"2\":\r\n\t\tcase \"3\":\r\n\t\tcase \"5.1\":\r\n\t\tcase \"5.2\":\r\n\t\t\tlinkRemark = linkRemark1({ ...linkValue, linkageType });\r\n\t\t\tbreak;\r\n\t\tcase \"4\":\r\n\t\t\tlinkRemark = linkRemark2(linkValue);\r\n\t\t\tbreak;\r\n\t\tcase \"6\":\r\n\t\t\tlinkRemark = linkRemark3(linkValue, { remmak1: \"身份证输入控件：\", remmak2: \"联动出生年月日接收控件：\" });\r\n\t\t\tbreak;\r\n\t\tcase \"7\":\r\n\t\t\tlinkRemark = linkRemark3(linkValue, { remmak1: \"单选框/下拉框控件：\", remmak2: \"联动异步接收控件：\" });\r\n\t\t\tbreak;\r\n\t\tcase \"8\":\r\n\t\t\tlinkRemark = linkRemark3(linkValue, { remmak1: \"地图选点控件：\", remmak2: \"联动接收控件：\" });\r\n\t\t\tbreak;\r\n\t}\r\n\treturn (\r\n\t\t<Row gutter={20} className=\"z-margin-top-15\" type=\"flex\">\r\n\t\t\t<Col span={12}>\r\n\t\t\t\t<ZoneWayTransfer\r\n\t\t\t\t\t{...leftTransferPropsRef.current}\r\n\t\t\t\t\tsourceKeys={{\r\n\t\t\t\t\t\tname: \"label\",\r\n\t\t\t\t\t\tid: \"value\",\r\n\t\t\t\t\t\tchildren: \"children\",\r\n\t\t\t\t\t}}\r\n\t\t\t\t\trepeated={false}\r\n\t\t\t\t\tleftSourceData={leftTransferSelections}\r\n\t\t\t\t\trightTargetData={leftTransferSelected}\r\n\t\t\t\t\tonChange={(actionType, rightData, actionItem, sibligItem) => {\r\n\t\t\t\t\t\tsetLinkValue(\r\n\t\t\t\t\t\t\t[\"6\", \"7\", \"8\"].includes(linkageType)\r\n\t\t\t\t\t\t\t\t? { ...linkValue, srcControls: rightData }\r\n\t\t\t\t\t\t\t\t: {\r\n\t\t\t\t\t\t\t\t\t\t...linkValue,\r\n\t\t\t\t\t\t\t\t\t\tsrcValues: rightData.map(item => ({ label: item.label, value: item.value })),\r\n\t\t\t\t\t\t\t\t  },\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t</Col>\r\n\t\t\t<Col span={12}>\r\n\t\t\t\t<ZoneWayTransfer\r\n\t\t\t\t\t{...rightTransferPropsRef.current}\r\n\t\t\t\t\trepeated={false}\r\n\t\t\t\t\tsourceKeys={{\r\n\t\t\t\t\t\tname: \"label\",\r\n\t\t\t\t\t\tid: \"value\",\r\n\t\t\t\t\t\tchildren: \"children\",\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tleftSourceData={rightTransferSelections}\r\n\t\t\t\t\trightTargetData={rightTransferSelected}\r\n\t\t\t\t\tonChange={(actionType, rightData, actionItem, sibligItem) => {\r\n\t\t\t\t\t\tsetLinkValue(\r\n\t\t\t\t\t\t\tlinkageType === \"4\"\r\n\t\t\t\t\t\t\t\t? { ...linkValue, distValues: rightData }\r\n\t\t\t\t\t\t\t\t: {\r\n\t\t\t\t\t\t\t\t\t\t...linkValue,\r\n\t\t\t\t\t\t\t\t\t\tdistControls: rightData,\r\n\t\t\t\t\t\t\t\t  },\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t</Col>\r\n\t\t\t<Col span={9} className=\"z-flex-items-center\">\r\n\t\t\t\t{linkageType === \"7\" ? (\r\n\t\t\t\t\t<div className=\"z-linkage-remark\">\r\n\t\t\t\t\t\t<div className=\"z-margin-bottom-12\">\r\n\t\t\t\t\t\t\t{linkRemark4(linkValue, {\r\n\t\t\t\t\t\t\t\tremmak1: \"选项的value传入异步控件：\",\r\n\t\t\t\t\t\t\t\tremmak2: \"的请求参数名：\",\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{getControl(\"Input.Group\", {\r\n\t\t\t\t\t\t\tcompact: true,\r\n\t\t\t\t\t\t\tchildren: (\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t{getControl(\"Input\", {\r\n\t\t\t\t\t\t\t\t\t\tstyle: { width: \"80px\" },\r\n\t\t\t\t\t\t\t\t\t\tdefaultValue: \"value\",\r\n\t\t\t\t\t\t\t\t\t\tdisabled: true,\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t{getControl(\"Input\", {\r\n\t\t\t\t\t\t\t\t\t\tstyle: { width: \"160px\" },\r\n\t\t\t\t\t\t\t\t\t\tdefaultValue: asyncParamNameRef.current,\r\n\t\t\t\t\t\t\t\t\t\tonChange: value => {\r\n\t\t\t\t\t\t\t\t\t\t\tasyncParamNameRef.current = value;\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : null}\r\n\t\t\t\t{linkageType === \"8\" ? (\r\n\t\t\t\t\t<div className=\"z-linkage-remark\">\r\n\t\t\t\t\t\t<div className=\"z-margin-bottom-12\">\r\n\t\t\t\t\t\t\t{linkRemark4(linkValue, { remmak1: \"选项的行政区划信息传入：\", remmak2: \"的内容是：\" })}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{getControl(\"Select\", {\r\n\t\t\t\t\t\t\tstyle: { width: \"240px\" },\r\n\t\t\t\t\t\t\tdefaultValue: regionNameRef.current,\r\n\t\t\t\t\t\t\tselectList: regionNames,\r\n\t\t\t\t\t\t\tonChange: val => {\r\n\t\t\t\t\t\t\t\tregionNameRef.current = val;\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : null}\r\n\t\t\t</Col>\r\n\t\t\t<Col span={12}>\r\n\t\t\t\t<div className=\"z-linkage-line z-linkage-remark z-flex-items-center\">{linkRemark}</div>\r\n\t\t\t</Col>\r\n\t\t\t<Col span={3} className=\"z-flex-items-end\">\r\n\t\t\t\t<div className=\"z-display-inline-block\">\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\ticon=\"check\"\r\n\t\t\t\t\t\tblock\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\tonClick={e => {\r\n\t\t\t\t\t\t\tlet error = false;\r\n\t\t\t\t\t\t\tif ([\"6\", \"7\", \"8\"].includes(linkageType)) {\r\n\t\t\t\t\t\t\t\tif (!linkValue.srcControls.length || !linkValue.distControls.length) {\r\n\t\t\t\t\t\t\t\t\terror = true;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else if ([\"4\"].includes(linkageType)) {\r\n\t\t\t\t\t\t\t\tif (!linkValue.srcValues.length || !linkValue.distValues.length) {\r\n\t\t\t\t\t\t\t\t\terror = true;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else if (!linkValue.srcValues.length || !linkValue.distControls.length) {\r\n\t\t\t\t\t\t\t\terror = true;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (error) {\r\n\t\t\t\t\t\t\t\tmessage.error(\"配置不完整\");\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tsetLinkValue({\r\n\t\t\t\t\t\t\t\t...linkValue,\r\n\t\t\t\t\t\t\t\tsrcValues: [],\r\n\t\t\t\t\t\t\t\tsrcControls: [],\r\n\t\t\t\t\t\t\t\tdistValues: [],\r\n\t\t\t\t\t\t\t\tdistControls: [],\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tsetLeftTransferSelected([]);\r\n\t\t\t\t\t\t\tsetRightTransferSelected([]);\r\n\t\t\t\t\t\t\tonOk &&\r\n\t\t\t\t\t\t\t\tonOk(linkValue, {\r\n\t\t\t\t\t\t\t\t\tasyncParamName: asyncParamNameRef.current,\r\n\t\t\t\t\t\t\t\t\tregionName: regionNameRef.current,\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t保存到表单\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button type=\"default\" block onClick={onBack} className=\"z-margin-top-15\" icon=\"close\">\r\n\t\t\t\t\t\t关闭窗口\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</div>\r\n\t\t\t</Col>\r\n\t\t</Row>\r\n\t);\r\n}\r\nValueLinkControl.propTypes = propTypes;\r\nexport default React.memo(ValueLinkControl);\r\n","/*\r\n * @Author: zgt\r\n * @Date: 2019-03-28 14:39:38\r\n * @LastEditors: zgt\r\n * @LastEditTime: 2019-10-09 18:25:24\r\n * @Description: file content\r\n */\r\n// export default {\r\n// \tid: 927,\r\n// \tname: \"爆料管理表单\",\r\n// \tcode: \"szhd_disclosure_form\",\r\n// \tversion: 19,\r\n// \tseq: 0,\r\n// \tdescription: \"公众互动项目的爆料管理模块\",\r\n// \tconfiguration: null,\r\n// \tlinkages:\r\n// \t\t'[{\"linkageType\":\"8\",\"name\":\"地图选点取行政区划\",\"src\":{\"fieldKey\":\"address\",\"label\":\"事发地址\",\"fieldType\":13},\"dist\":[{\"fields\":[{\"fieldKey\":\"area\",\"fieldType\":1,\"label\":\"所属区划\",\"regionName\":\"district\"}]}],\"regionName\":\"district\"}]',\r\n// \tcustomOnChange: null,\r\n// \tformTypeId: 8,\r\n// \tgmtCreate: \"2019-08-03 17:22:35\",\r\n// \tgmtModified: \"2019-08-03 17:22:35\",\r\n// \tsectionList: [\r\n// \t\t{\r\n// \t\t\tid: 1054,\r\n// \t\t\tformId: 927,\r\n// \t\t\tname: \"爆料问题信息\",\r\n// \t\t\tseq: 1,\r\n// \t\t\tdescription: null,\r\n// \t\t\tgmtCreate: \"2019-08-03 17:22:35\",\r\n// \t\t\tgmtModified: \"2019-08-03 17:22:35\",\r\n// \t\t\tformFieldInfoList: [\r\n// \t\t\t\t{\r\n// \t\t\t\t\tid: 3385,\r\n// \t\t\t\t\tsectionId: 1054,\r\n// \t\t\t\t\tlabel: \"问题类型\",\r\n// \t\t\t\t\tfieldKey: \"problemType\",\r\n// \t\t\t\t\tfieldType: 6,\r\n// \t\t\t\t\trequired: 1,\r\n// \t\t\t\t\tdisabled: 0,\r\n// \t\t\t\t\tregularExpression: null,\r\n// \t\t\t\t\tdescription: null,\r\n// \t\t\t\t\terrorMsg: null,\r\n// \t\t\t\t\tplaceholder: null,\r\n// \t\t\t\t\tspan: 12,\r\n// \t\t\t\t\tlabelWidth: null,\r\n// \t\t\t\t\tconfig:\r\n// \t\t\t\t\t\t'{\"selectionsType\":2,\"selectListFieldNames\":{\"label\":\"label\",\"value\":\"value\",\"children\":\"children\"},\"selectionsUrl\":{\"selectionsUrlMethod\":\"post\",\"selectionsUrl\":\"/upip-problem-webapi/webapi/v1.0/upip/problem/getProblemTypeTree\",\"requireType\":\"all\"},\"selectionsQuery\":{\"problemClass\":\"1\"},\"changeOnSelect\":0}',\r\n// \t\t\t\t\tinitialValue: null,\r\n// \t\t\t\t\tseq: 1,\r\n// \t\t\t\t\tgmtCreate: \"2019-08-03 17:22:35\",\r\n// \t\t\t\t\tgmtModified: \"2019-08-03 17:22:35\",\r\n// \t\t\t\t},\r\n// \t\t\t\t{\r\n// \t\t\t\t\tid: 3386,\r\n// \t\t\t\t\tsectionId: 1054,\r\n// \t\t\t\t\tlabel: \"问题来源\",\r\n// \t\t\t\t\tfieldKey: \"problemSource\",\r\n// \t\t\t\t\tfieldType: 3,\r\n// \t\t\t\t\trequired: 1,\r\n// \t\t\t\t\tdisabled: 0,\r\n// \t\t\t\t\tregularExpression: null,\r\n// \t\t\t\t\tdescription: null,\r\n// \t\t\t\t\terrorMsg: null,\r\n// \t\t\t\t\tplaceholder: null,\r\n// \t\t\t\t\tspan: 12,\r\n// \t\t\t\t\tlabelWidth: null,\r\n// \t\t\t\t\tconfig:\r\n// \t\t\t\t\t\t'{\"selectionsType\":2,\"selectListFieldNames\":{\"label\":\"label\",\"value\":\"value\",\"children\":\"children\"},\"selectionsUrl\":{\"selectionsUrlMethod\":\"post\",\"selectionsUrl\":\"/upip-problem-webapi/webapi/v1.0/upip/problem/listProblemSource\",\"requireType\":\"all\"},\"selectionsQuery\":{\"problemClass\":\"1\"},\"mode\":\"single\"}',\r\n// \t\t\t\t\tinitialValue: null,\r\n// \t\t\t\t\tseq: 2,\r\n// \t\t\t\t\tgmtCreate: \"2019-08-03 17:22:35\",\r\n// \t\t\t\t\tgmtModified: \"2019-08-03 17:22:35\",\r\n// \t\t\t\t},\r\n// \t\t\t\t{\r\n// \t\t\t\t\tid: 3387,\r\n// \t\t\t\t\tsectionId: 1054,\r\n// \t\t\t\t\tlabel: \"所属区划\",\r\n// \t\t\t\t\tfieldKey: \"area\",\r\n// \t\t\t\t\tfieldType: 1,\r\n// \t\t\t\t\trequired: 0,\r\n// \t\t\t\t\tdisabled: 1,\r\n// \t\t\t\t\tregularExpression: null,\r\n// \t\t\t\t\tdescription: null,\r\n// \t\t\t\t\terrorMsg: null,\r\n// \t\t\t\t\tplaceholder: null,\r\n// \t\t\t\t\tspan: 8,\r\n// \t\t\t\t\tlabelWidth: null,\r\n// \t\t\t\t\tconfig: '{\"type\":\"text\"}',\r\n// \t\t\t\t\tinitialValue: null,\r\n// \t\t\t\t\tseq: 3,\r\n// \t\t\t\t\tgmtCreate: \"2019-08-03 17:22:35\",\r\n// \t\t\t\t\tgmtModified: \"2019-08-03 17:22:35\",\r\n// \t\t\t\t},\r\n// \t\t\t\t{\r\n// \t\t\t\t\tid: 3388,\r\n// \t\t\t\t\tsectionId: 1054,\r\n// \t\t\t\t\tlabel: \"事发地址\",\r\n// \t\t\t\t\tfieldKey: \"address\",\r\n// \t\t\t\t\tfieldType: 13,\r\n// \t\t\t\t\trequired: 1,\r\n// \t\t\t\t\tdisabled: 0,\r\n// \t\t\t\t\tregularExpression: null,\r\n// \t\t\t\t\tdescription: null,\r\n// \t\t\t\t\terrorMsg: null,\r\n// \t\t\t\t\tplaceholder: null,\r\n// \t\t\t\t\tspan: 16,\r\n// \t\t\t\t\tlabelWidth: null,\r\n// \t\t\t\t\tconfig:\r\n// \t\t\t\t\t\t'{\"mapType\":\"amap\",\"secretKey\":\"63QBZ-B5GKV-46RPH-UCUF2-K5TUJ-OKBAK\",\"webserviceUrlDO\":{\"urlMethod\":\"post\",\"url\":\"/form-service/webapi/geography/webService\"}}',\r\n// \t\t\t\t\tinitialValue: null,\r\n// \t\t\t\t\tseq: 4,\r\n// \t\t\t\t\tgmtCreate: \"2019-08-03 17:22:35\",\r\n// \t\t\t\t\tgmtModified: \"2019-08-03 17:22:35\",\r\n// \t\t\t\t},\r\n// \t\t\t\t{\r\n// \t\t\t\t\tid: 3389,\r\n// \t\t\t\t\tsectionId: 1054,\r\n// \t\t\t\t\tlabel: \"问题描述\",\r\n// \t\t\t\t\tfieldKey: \"problemContent\",\r\n// \t\t\t\t\tfieldType: 2,\r\n// \t\t\t\t\trequired: 1,\r\n// \t\t\t\t\tdisabled: 0,\r\n// \t\t\t\t\tregularExpression: null,\r\n// \t\t\t\t\tdescription: null,\r\n// \t\t\t\t\terrorMsg: null,\r\n// \t\t\t\t\tplaceholder: null,\r\n// \t\t\t\t\tspan: 24,\r\n// \t\t\t\t\tlabelWidth: null,\r\n// \t\t\t\t\tconfig: '{\"maxLength\":50}',\r\n// \t\t\t\t\tinitialValue: null,\r\n// \t\t\t\t\tseq: 5,\r\n// \t\t\t\t\tgmtCreate: \"2019-08-03 17:22:35\",\r\n// \t\t\t\t\tgmtModified: \"2019-08-03 17:22:35\",\r\n// \t\t\t\t},\r\n// \t\t\t],\r\n// \t\t},\r\n// \t\t{\r\n// \t\t\tid: 1055,\r\n// \t\t\tformId: 927,\r\n// \t\t\tname: \"曝料人信息\",\r\n// \t\t\tseq: 2,\r\n// \t\t\tdescription: null,\r\n// \t\t\tgmtCreate: \"2019-08-03 17:22:35\",\r\n// \t\t\tgmtModified: \"2019-08-03 17:22:35\",\r\n// \t\t\tformFieldInfoList: [\r\n// \t\t\t\t{\r\n// \t\t\t\t\tid: 3390,\r\n// \t\t\t\t\tsectionId: 1055,\r\n// \t\t\t\t\tlabel: \"曝料人姓名\",\r\n// \t\t\t\t\tfieldKey: \"username\",\r\n// \t\t\t\t\tfieldType: 1,\r\n// \t\t\t\t\trequired: 1,\r\n// \t\t\t\t\tdisabled: 0,\r\n// \t\t\t\t\tregularExpression: null,\r\n// \t\t\t\t\tdescription: null,\r\n// \t\t\t\t\terrorMsg: null,\r\n// \t\t\t\t\tplaceholder: null,\r\n// \t\t\t\t\tspan: 12,\r\n// \t\t\t\t\tlabelWidth: null,\r\n// \t\t\t\t\tconfig: '{\"maxLength\":20,\"type\":\"text\"}',\r\n// \t\t\t\t\tinitialValue: null,\r\n// \t\t\t\t\tseq: 1,\r\n// \t\t\t\t\tgmtCreate: \"2019-08-03 17:22:35\",\r\n// \t\t\t\t\tgmtModified: \"2019-08-03 17:22:35\",\r\n// \t\t\t\t},\r\n// \t\t\t\t{\r\n// \t\t\t\t\tid: 3391,\r\n// \t\t\t\t\tsectionId: 1055,\r\n// \t\t\t\t\tlabel: \"登记人\",\r\n// \t\t\t\t\tfieldKey: \"register\",\r\n// \t\t\t\t\tfieldType: 1,\r\n// \t\t\t\t\trequired: 1,\r\n// \t\t\t\t\tdisabled: 0,\r\n// \t\t\t\t\tregularExpression: null,\r\n// \t\t\t\t\tdescription: null,\r\n// \t\t\t\t\terrorMsg: null,\r\n// \t\t\t\t\tplaceholder: null,\r\n// \t\t\t\t\tspan: 12,\r\n// \t\t\t\t\tlabelWidth: null,\r\n// \t\t\t\t\tconfig: '{\"type\":\"text\"}',\r\n// \t\t\t\t\tinitialValue: null,\r\n// \t\t\t\t\tseq: 2,\r\n// \t\t\t\t\tgmtCreate: \"2019-08-03 17:22:35\",\r\n// \t\t\t\t\tgmtModified: \"2019-08-03 17:22:35\",\r\n// \t\t\t\t},\r\n// \t\t\t\t{\r\n// \t\t\t\t\tid: 3392,\r\n// \t\t\t\t\tsectionId: 1055,\r\n// \t\t\t\t\tlabel: \"联系方式\",\r\n// \t\t\t\t\tfieldKey: \"phone\",\r\n// \t\t\t\t\tfieldType: 1,\r\n// \t\t\t\t\trequired: 1,\r\n// \t\t\t\t\tdisabled: 0,\r\n// \t\t\t\t\tregularExpression: \"^1[3|4|5|6|7|8|9][0-9]\\\\d{8}$\",\r\n// \t\t\t\t\tdescription: null,\r\n// \t\t\t\t\terrorMsg: \"输入的手机号格式有误\",\r\n// \t\t\t\t\tplaceholder: null,\r\n// \t\t\t\t\tspan: 12,\r\n// \t\t\t\t\tlabelWidth: null,\r\n// \t\t\t\t\tconfig: '{\"type\":\"text\"}',\r\n// \t\t\t\t\tinitialValue: null,\r\n// \t\t\t\t\tseq: 3,\r\n// \t\t\t\t\tgmtCreate: \"2019-08-03 17:22:35\",\r\n// \t\t\t\t\tgmtModified: \"2019-08-03 17:22:35\",\r\n// \t\t\t\t},\r\n// \t\t\t\t{\r\n// \t\t\t\t\tid: 3393,\r\n// \t\t\t\t\tsectionId: 1055,\r\n// \t\t\t\t\tlabel: \"爆料时间\",\r\n// \t\t\t\t\tfieldKey: \"time\",\r\n// \t\t\t\t\tfieldType: 5,\r\n// \t\t\t\t\trequired: 1,\r\n// \t\t\t\t\tdisabled: 0,\r\n// \t\t\t\t\tregularExpression: null,\r\n// \t\t\t\t\tdescription: null,\r\n// \t\t\t\t\terrorMsg: null,\r\n// \t\t\t\t\tplaceholder: null,\r\n// \t\t\t\t\tspan: 12,\r\n// \t\t\t\t\tlabelWidth: null,\r\n// \t\t\t\t\tconfig: '{\"format\":\"YYYY-MM-DD HH:mm\"}',\r\n// \t\t\t\t\tinitialValue: null,\r\n// \t\t\t\t\tseq: 4,\r\n// \t\t\t\t\tgmtCreate: \"2019-08-03 17:22:35\",\r\n// \t\t\t\t\tgmtModified: \"2019-08-03 17:22:35\",\r\n// \t\t\t\t},\r\n// \t\t\t],\r\n// \t\t},\r\n// \t\t{\r\n// \t\t\tid: 1056,\r\n// \t\t\tformId: 927,\r\n// \t\t\tname: \"上传图片\",\r\n// \t\t\tseq: 3,\r\n// \t\t\tdescription: null,\r\n// \t\t\tgmtCreate: \"2019-08-03 17:22:35\",\r\n// \t\t\tgmtModified: \"2019-08-03 17:22:35\",\r\n// \t\t\tformFieldInfoList: [\r\n// \t\t\t\t{\r\n// \t\t\t\t\tid: 3394,\r\n// \t\t\t\t\tsectionId: 1056,\r\n// \t\t\t\t\tlabel: \"图片\",\r\n// \t\t\t\t\tfieldKey: \"problemFiles\",\r\n// \t\t\t\t\tfieldType: 11,\r\n// \t\t\t\t\trequired: 1,\r\n// \t\t\t\t\tdisabled: 0,\r\n// \t\t\t\t\tregularExpression: null,\r\n// \t\t\t\t\tdescription: null,\r\n// \t\t\t\t\terrorMsg: null,\r\n// \t\t\t\t\tplaceholder: null,\r\n// \t\t\t\t\tspan: 24,\r\n// \t\t\t\t\tlabelWidth: null,\r\n// \t\t\t\t\tconfig:\r\n// \t\t\t\t\t\t'{\"url\":\"/cloud-oss/webapi/v1.0/cloud/oss/upload/uploadFile\",\"fileAccept\":\"image/*\",\"fileListType\":\"picture-card\",\"wxSourceTypes\":[\"album\",\"camera\"],\"uploaderResponse\":{\"id\":\"id\",\"filePath\":\"filePath\",\"fileSuffix\":\"fileSuffix\",\"fileType\":\"fileType\",\"originalFileName\":\"originalFileName\"},\"urlMethod\":\"post\",\"urlParamName\":\"file\",\"requestMode\":\"single\"}',\r\n// \t\t\t\t\tinitialValue: null,\r\n// \t\t\t\t\tseq: 1,\r\n// \t\t\t\t\tgmtCreate: \"2019-08-03 17:22:35\",\r\n// \t\t\t\t\tgmtModified: \"2019-08-03 17:22:35\",\r\n// \t\t\t\t},\r\n// \t\t\t],\r\n// \t\t},\r\n// \t],\r\n// \tbuttonList: [],\r\n// };\r\n// // export default {\r\n// // \tcode: \"dog_check_in_form\",\r\n// // \tname: \"养犬信息登记表\",\r\n// // \tlabelLayout: \"inline\",\r\n// // \tsectionList: [\r\n// // \t\t{\r\n// // \t\t\tid: 111,\r\n// // \t\t\tname: \"犬只信息\",\r\n// // \t\t\tformFieldInfoList: [\r\n// // \t\t\t\t{\r\n// // \t\t\t\t\tfieldKey: \"dogName\",\r\n// // \t\t\t\t\tfieldType: 1,\r\n// // \t\t\t\t\tid: 466,\r\n// // \t\t\t\t\tconfig: '{\"maxLength\":8,\"minLength\":1}',\r\n// // \t\t\t\t\tinitialValue: null,\r\n// // \t\t\t\t\tlabel: \"犬只名称\",\r\n// // \t\t\t\t\tregularExpression: null,\r\n// // \t\t\t\t\trequired: 1,\r\n// // \t\t\t\t\tsectionId: 111,\r\n// // \t\t\t\t\tspan: 8,\r\n// // \t\t\t\t\tseq: 1,\r\n// // \t\t\t\t},\r\n// // \t\t\t\t{\r\n// // \t\t\t\t\tfieldKey: \"dogType\",\r\n// // \t\t\t\t\tfieldType: 1,\r\n// // \t\t\t\t\tid: 467,\r\n// // \t\t\t\t\tconfig: '{\"maxLength\":16,\"minLength\":1}',\r\n// // \t\t\t\t\tinitialValue: null,\r\n// // \t\t\t\t\tlabel: \"犬只品种\",\r\n// // \t\t\t\t\tregularExpression: null,\r\n// // \t\t\t\t\trequired: 1,\r\n// // \t\t\t\t\tsectionId: 111,\r\n// // \t\t\t\t\tspan: 8,\r\n// // \t\t\t\t\tseq: 2,\r\n// // \t\t\t\t},\r\n// // \t\t\t\t{\r\n// // \t\t\t\t\tfieldKey: \"dogSex\",\r\n// // \t\t\t\t\tfieldType: 9,\r\n// // \t\t\t\t\tid: 468,\r\n// // \t\t\t\t\tconfig: '{\"selectList\":[{\"label\":\"公\",\"value\":\"1\"},{\"label\":\"母\",\"value\":\"2\"}]}',\r\n// // \t\t\t\t\tinitialValue: \"1\",\r\n// // \t\t\t\t\tlabel: \"犬只性别\",\r\n// // \t\t\t\t\tregularExpression: null,\r\n// // \t\t\t\t\trequired: 1,\r\n// // \t\t\t\t\tsectionId: 111,\r\n// // \t\t\t\t\tspan: 8,\r\n// // \t\t\t\t\tseq: 3,\r\n// // \t\t\t\t},\r\n// // \t\t\t\t{\r\n// // \t\t\t\t\tfieldKey: \"dogProperty\",\r\n// // \t\t\t\t\tfieldType: 3,\r\n// // \t\t\t\t\tid: 469,\r\n// // \t\t\t\t\tconfig:\r\n// // \t\t\t\t\t\t'{\"selectList\":[{\"label\":\"普通宠物\",\"value\":\"1\"},{\"label\":\"导盲犬/扶助犬\",\"value\":\"2\"},{\"label\":\"其他\",\"value\":\"3\"}]}',\r\n// // \t\t\t\t\tdisabled: true,\r\n// // \t\t\t\t\tinitialValue: null,\r\n// // \t\t\t\t\tlabel: \"犬只性质\",\r\n// // \t\t\t\t\tregularExpression: null,\r\n// // \t\t\t\t\trequired: 1,\r\n// // \t\t\t\t\tsectionId: 111,\r\n// // \t\t\t\t\tspan: 8,\r\n// // \t\t\t\t\tseq: 4,\r\n// // \t\t\t\t},\r\n// // \t\t\t\t{\r\n// // \t\t\t\t\tfieldKey: \"dogColor\",\r\n// // \t\t\t\t\tfieldType: 1,\r\n// // \t\t\t\t\tid: 470,\r\n// // \t\t\t\t\tconfig: '{\"maxLength\":8,\"minLength\":1}',\r\n// // \t\t\t\t\tinitialValue: null,\r\n// // \t\t\t\t\tlabel: \"犬只颜色\",\r\n// // \t\t\t\t\tregularExpression: null,\r\n// // \t\t\t\t\trequired: 1,\r\n// // \t\t\t\t\tsectionId: 111,\r\n// // \t\t\t\t\tspan: 8,\r\n// // \t\t\t\t\tseq: 5,\r\n// // \t\t\t\t},\r\n// // \t\t\t\t{\r\n// // \t\t\t\t\tfieldKey: \"isIris\",\r\n// // \t\t\t\t\tfieldType: 9,\r\n// // \t\t\t\t\tid: 471,\r\n// // \t\t\t\t\tconfig: '{\"selectList\":[{\"label\":\"是\",\"value\":\"1\"},{\"label\":\"否\",\"value\":\"2\"}]}',\r\n// // \t\t\t\t\tinitialValue: null,\r\n// // \t\t\t\t\tlabel: \"录入虹膜\",\r\n// // \t\t\t\t\tregularExpression: null,\r\n// // \t\t\t\t\trequired: 0,\r\n// // \t\t\t\t\tsectionId: 111,\r\n// // \t\t\t\t\tspan: 8,\r\n// // \t\t\t\t\tseq: 6,\r\n// // \t\t\t\t},\r\n// // \t\t\t\t{\r\n// // \t\t\t\t\tfieldKey: \"rfid\",\r\n// // \t\t\t\t\tfieldType: 9,\r\n// // \t\t\t\t\tid: 472,\r\n// // \t\t\t\t\tconfig: '{\"selectList\":[{\"label\":\"是\",\"value\":\"1\"},{\"label\":\"否\",\"value\":\"2\"}]}',\r\n// // \t\t\t\t\tinitialValue: null,\r\n// // \t\t\t\t\tlabel: \"电子标签\",\r\n// // \t\t\t\t\tregularExpression: null,\r\n// // \t\t\t\t\trequired: 0,\r\n// // \t\t\t\t\tsectionId: 111,\r\n// // \t\t\t\t\tspan: 8,\r\n// // \t\t\t\t\tseq: 7,\r\n// // \t\t\t\t},\r\n// // \t\t\t\t{\r\n// // \t\t\t\t\tfieldKey: \"birthday\",\r\n// // \t\t\t\t\tfieldType: 5,\r\n// // \t\t\t\t\tid: 473,\r\n// // \t\t\t\t\tconfig: '{\"format\":\"YYYY-MM-DD\"}',\r\n// // \t\t\t\t\tinitialValue: null,\r\n// // \t\t\t\t\tlabel: \"出生日期\",\r\n// // \t\t\t\t\tregularExpression: null,\r\n// // \t\t\t\t\trequired: 0,\r\n// // \t\t\t\t\tsectionId: 111,\r\n// // \t\t\t\t\tspan: 8,\r\n// // \t\t\t\t\tseq: 8,\r\n// // \t\t\t\t},\r\n// // \t\t\t\t{\r\n// // \t\t\t\t\tfieldKey: \"pic\",\r\n// // \t\t\t\t\tfieldType: 11,\r\n// // \t\t\t\t\tid: 474,\r\n// // \t\t\t\t\tconfig:\r\n// // \t\t\t\t\t\t'{\"url\":\"/file-upload-service/webapi/v1.0/fileUpload/uploads\",\"accept\":\"87887878\",\"multiple\":false,\"paramName\":\"7878\",\"detailUrl\":\"/file-upload-service/webapi/v1.0/fileUpload/listUploadInfoByIds\"}',\r\n// // \t\t\t\t\tinitialValue: null,\r\n// // \t\t\t\t\tlabel: \"上传文件\",\r\n// // \t\t\t\t\tregularExpression: null,\r\n// // \t\t\t\t\trequired: 0,\r\n// // \t\t\t\t\tsectionId: 111,\r\n// // \t\t\t\t\tspan: 24,\r\n// // \t\t\t\t\tseq: 9,\r\n// // \t\t\t\t},\r\n// // \t\t\t\t{\r\n// // \t\t\t\t\tfieldKey: \"weihubs\",\r\n// // \t\t\t\t\tfieldType: 3,\r\n// // \t\t\t\t\tconfig:\r\n// // \t\t\t\t\t\t'{\"selectionsType\":2,\"selectListFieldNames\":{\"label\":\"deptName\",\"value\":\"id\",\"children\":\"children\"},\"selectionsUrl\":{\"selectionsUrlMethod\":\"post\",\"selectionsUrl\":\"/tibmas2-webapi/api/v1.0/dept/listDeptByPid\",\"requireType\":\"all\"},\"selectionsQuery\":{\"id\":\"0\"}}',\r\n// // \t\t\t\t\tdisabled: 0,\r\n// // \t\t\t\t\tlabel: \"下拉控件\",\r\n// // \t\t\t\t\trequired: 1,\r\n// // \t\t\t\t\tspan: 8,\r\n// // \t\t\t\t\tseq: 10,\r\n// // \t\t\t\t},\r\n// // \t\t\t\t{\r\n// // \t\t\t\t\tfieldKey: \"double\",\r\n// // \t\t\t\t\tfieldType: 8,\r\n// // \t\t\t\t\tconfig:\r\n// // \t\t\t\t\t\t'{\"selectionsType\":2,\"selectListFieldNames\":{\"label\":\"deptName\",\"value\":\"id\",\"children\":\"children\"},\"selectionsUrl\":{\"selectionsUrlMethod\":\"post\",\"selectionsUrl\":\"/tibmas2-webapi/api/v1.0/dept/listDeptByPid\",\"requireType\":\"all\"},\"selectionsQuery\":{\"id\":\"0\"}}',\r\n// // \t\t\t\t\tdisabled: 0,\r\n// // \t\t\t\t\tlabel: \"多选\",\r\n// // \t\t\t\t\trequired: 1,\r\n// // \t\t\t\t\tspan: 8,\r\n// // \t\t\t\t\tseq: 11,\r\n// // \t\t\t\t},\r\n// // \t\t\t\t{\r\n// // \t\t\t\t\tfieldKey: \"single\",\r\n// // \t\t\t\t\tfieldType: 9,\r\n// // \t\t\t\t\tconfig:\r\n// // \t\t\t\t\t\t'{\"selectionsType\":2,\"selectListFieldNames\":{\"label\":\"deptName\",\"value\":\"id\",\"children\":\"children\"},\"selectionsUrl\":{\"selectionsUrlMethod\":\"post\",\"selectionsUrl\":\"/tibmas2-webapi/api/v1.0/dept/listDeptByPid\",\"requireType\":\"all\"},\"selectionsQuery\":{\"id\":\"0\"}}',\r\n// // \t\t\t\t\tdisabled: 0,\r\n// // \t\t\t\t\tlabel: \"单选\",\r\n// // \t\t\t\t\trequired: 1,\r\n// // \t\t\t\t\tspan: 8,\r\n// // \t\t\t\t\tseq: 12,\r\n// // \t\t\t\t},\r\n// // \t\t\t\t{\r\n// // \t\t\t\t\tfieldKey: \"casserole\",\r\n// // \t\t\t\t\tfieldType: 6,\r\n// // \t\t\t\t\tconfig:\r\n// // \t\t\t\t\t\t'{\"selectionsType\":2,\"selectListFieldNames\":{\"label\":\"deptName\",\"value\":\"id\",\"children\":\"children\"},\"selectionsUrl\":{\"selectionsUrlMethod\":\"post\",\"selectionsUrl\":\"/tibmas2-webapi/api/v1.0/dept/listDeptByPid\",\"requireType\":\"part\"},\"selectionsQuery\":{\"id\":\"0\"},\"changeOnSelect\":0}',\r\n// // \t\t\t\t\tdisabled: 0,\r\n// // \t\t\t\t\tlabel: \"级联控件\",\r\n// // \t\t\t\t\trequired: 1,\r\n// // \t\t\t\t\tspan: 8,\r\n// // \t\t\t\t\tseq: 13,\r\n// // \t\t\t\t},\r\n// // \t\t\t\t{\r\n// // \t\t\t\t\tfieldKey: \"treeSelect\",\r\n// // \t\t\t\t\tfieldType: 7,\r\n// // \t\t\t\t\tconfig:\r\n// // \t\t\t\t\t\t'{\"selectionsType\":2,\"selectListFieldNames\":{\"label\":\"deptName\",\"value\":\"id\",\"children\":\"children\"},\"selectionsUrl\":{\"selectionsUrlMethod\":\"post\",\"selectionsUrl\":\"/tibmas2-webapi/api/v1.0/dept/listDeptByPid\",\"requireType\":\"part\"},\"selectionsQuery\":{\"id\":\"0\"}}',\r\n// // \t\t\t\t\tdisabled: 0,\r\n// // \t\t\t\t\tlabel: \"tree控件\",\r\n// // \t\t\t\t\trequired: 1,\r\n// // \t\t\t\t\tspan: 8,\r\n// // \t\t\t\t\tseq: 14,\r\n// // \t\t\t\t},\r\n// // \t\t\t\t{\r\n// // \t\t\t\t\tfieldKey: \"asyncTests\",\r\n// // \t\t\t\t\tfieldType: 3,\r\n// // \t\t\t\t\tconfig:\r\n// // \t\t\t\t\t\t'{\"selectionsType\":2,\"selectListFieldNames\":{\"label\":\"itemName\",\"value\":\"id\",\"children\":\"children\"},\"selectionsUrl\":{\"selectionsUrlMethod\":\"post\",\"selectionsUrl\":\"/system-service/webapi/sysDictionary/listByTypeCode\",\"requireType\":\"all\"},\"selectionsQuery\":{\"typeCode\":\"case_type\"}}',\r\n// // \t\t\t\t\tdisabled: 0,\r\n// // \t\t\t\t\tinitialValue: 8,\r\n// // \t\t\t\t\tlabel: \"下拉测试异步\",\r\n// // \t\t\t\t\trequired: 1,\r\n// // \t\t\t\t\tspan: 8,\r\n// // \t\t\t\t\tseq: 15,\r\n// // \t\t\t\t},\r\n// // \t\t\t\t{\r\n// // \t\t\t\t\tfieldKey: \"asyncYYYYYY\",\r\n// // \t\t\t\t\tfieldType: 3,\r\n// // \t\t\t\t\tconfig:\r\n// // \t\t\t\t\t\t'{\"selectionsType\":2,\"selectListFieldNames\":{\"label\":\"itemName\",\"value\":\"id\",\"children\":\"children\"},\"selectionsUrl\":{\"selectionsUrlMethod\":\"post\",\"selectionsUrl\":\"/system-service/webapi/sysDictionary/listByParentId\",\"requireType\":\"all\"},\"selectionsQuery\":{\"id\":\"0\"}}',\r\n// // \t\t\t\t\tdisabled: 0,\r\n// // \t\t\t\t\tlabel: \"接收异步联动\",\r\n// // \t\t\t\t\trequired: 1,\r\n// // \t\t\t\t\tspan: 8,\r\n// // \t\t\t\t\tseq: 16,\r\n// // \t\t\t\t},\r\n// // \t\t\t\t{\r\n// // \t\t\t\t\tfieldKey: \"yearssss\",\r\n// // \t\t\t\t\tfieldType: 5,\r\n// // \t\t\t\t\tconfig: '{\"format\":\"YYYY\"}',\r\n// // \t\t\t\t\tdisabled: 0,\r\n// // \t\t\t\t\tlabel: \"年份\",\r\n// // \t\t\t\t\trequired: 1,\r\n// // \t\t\t\t\tspan: 8,\r\n// // \t\t\t\t\tseq: 17,\r\n// // \t\t\t\t},\r\n// // \t\t\t],\r\n// // \t\t\tseq: 1,\r\n// // \t\t},\r\n// // \t\t{\r\n// // \t\t\tid: 112,\r\n// // \t\t\tname: \"养犬人信息\",\r\n// // \t\t\tformFieldInfoList: [\r\n// // \t\t\t\t{\r\n// // \t\t\t\t\tfieldKey: \"name\",\r\n// // \t\t\t\t\tfieldType: 1,\r\n// // \t\t\t\t\tid: 475,\r\n// // \t\t\t\t\tconfig: '{\"maxLength\":8,\"minLength\":1}',\r\n// // \t\t\t\t\tinitialValue: null,\r\n// // \t\t\t\t\tlabel: \"养犬人姓名\",\r\n// // \t\t\t\t\tregularExpression: null,\r\n// // \t\t\t\t\trequired: 1,\r\n// // \t\t\t\t\tsectionId: 112,\r\n// // \t\t\t\t\tspan: 8,\r\n// // \t\t\t\t\tseq: 1,\r\n// // \t\t\t\t},\r\n// // \t\t\t\t{\r\n// // \t\t\t\t\tfieldKey: \"type\",\r\n// // \t\t\t\t\tfieldType: 3,\r\n// // \t\t\t\t\tid: 476,\r\n// // \t\t\t\t\tconfig: '{\"selectList\":[{\"label\":\"身份证\",\"value\":\"1\"},{\"label\":\"港澳通行证\",\"value\":\"2\"}]}',\r\n// // \t\t\t\t\tinitialValue: null,\r\n// // \t\t\t\t\tlabel: \"证件类型\",\r\n// // \t\t\t\t\tregularExpression: null,\r\n// // \t\t\t\t\trequired: 1,\r\n// // \t\t\t\t\tsectionId: 112,\r\n// // \t\t\t\t\tspan: 8,\r\n// // \t\t\t\t\tseq: 2,\r\n// // \t\t\t\t},\r\n// // \t\t\t\t{\r\n// // \t\t\t\t\tfieldKey: \"number\",\r\n// // \t\t\t\t\tfieldType: 4,\r\n// // \t\t\t\t\tid: 477,\r\n// // \t\t\t\t\tconfig: '{\"decimalLength\":0}',\r\n// // \t\t\t\t\tinitialValue: null,\r\n// // \t\t\t\t\tlabel: \"证件号码\",\r\n// // \t\t\t\t\tregularExpression: null,\r\n// // \t\t\t\t\trequired: 1,\r\n// // \t\t\t\t\tsectionId: 112,\r\n// // \t\t\t\t\tspan: 8,\r\n// // \t\t\t\t\tseq: 3,\r\n// // \t\t\t\t},\r\n// // \t\t\t\t{\r\n// // \t\t\t\t\tfieldKey: \"tel\",\r\n// // \t\t\t\t\tfieldType: 4,\r\n// // \t\t\t\t\tid: 478,\r\n// // \t\t\t\t\tconfig: '{\"decimalLength\":0}',\r\n// // \t\t\t\t\tinitialValue: null,\r\n// // \t\t\t\t\tlabel: \"移动电话\",\r\n// // \t\t\t\t\tregularExpression: null,\r\n// // \t\t\t\t\trequired: 1,\r\n// // \t\t\t\t\tsectionId: 112,\r\n// // \t\t\t\t\tspan: 8,\r\n// // \t\t\t\t\tseq: 4,\r\n// // \t\t\t\t},\r\n// // \t\t\t\t{\r\n// // \t\t\t\t\tfieldKey: \"telephone\",\r\n// // \t\t\t\t\tfieldType: 1,\r\n// // \t\t\t\t\tid: 479,\r\n// // \t\t\t\t\tconfig: '{\"maxLength\":20,\"minLength\":1}',\r\n// // \t\t\t\t\tinitialValue: null,\r\n// // \t\t\t\t\tlabel: \"固定电话\",\r\n// // \t\t\t\t\tregularExpression: null,\r\n// // \t\t\t\t\trequired: 0,\r\n// // \t\t\t\t\tsectionId: 112,\r\n// // \t\t\t\t\tspan: 8,\r\n// // \t\t\t\t\tseq: 5,\r\n// // \t\t\t\t},\r\n// // \t\t\t\t{\r\n// // \t\t\t\t\tfieldKey: \"email\",\r\n// // \t\t\t\t\tfieldType: 1,\r\n// // \t\t\t\t\tid: 480,\r\n// // \t\t\t\t\tconfig: '{\"maxLength\":20,\"minLength\":1}',\r\n// // \t\t\t\t\tinitialValue: null,\r\n// // \t\t\t\t\tlabel: \"电子邮箱\",\r\n// // \t\t\t\t\tregularExpression: null,\r\n// // \t\t\t\t\trequired: 0,\r\n// // \t\t\t\t\tsectionId: 112,\r\n// // \t\t\t\t\tspan: 8,\r\n// // \t\t\t\t\tseq: 6,\r\n// // \t\t\t\t},\r\n// // \t\t\t\t{\r\n// // \t\t\t\t\tfieldKey: \"dogCount\",\r\n// // \t\t\t\t\tfieldType: 4,\r\n// // \t\t\t\t\tid: 481,\r\n// // \t\t\t\t\tconfig: '{\"decimalLength\":0}',\r\n// // \t\t\t\t\tinitialValue: null,\r\n// // \t\t\t\t\tlabel: \"犬只数量\",\r\n// // \t\t\t\t\tregularExpression: null,\r\n// // \t\t\t\t\trequired: 1,\r\n// // \t\t\t\t\tsectionId: 112,\r\n// // \t\t\t\t\tspan: 8,\r\n// // \t\t\t\t\tseq: 7,\r\n// // \t\t\t\t},\r\n// // \t\t\t\t{\r\n// // \t\t\t\t\tfieldKey: \"address\",\r\n// // \t\t\t\t\tfieldType: 1,\r\n// // \t\t\t\t\tid: 482,\r\n// // \t\t\t\t\tconfig: '{\"maxLength\":50,\"minLength\":1}',\r\n// // \t\t\t\t\tinitialValue: null,\r\n// // \t\t\t\t\tlabel: \"详细地址\",\r\n// // \t\t\t\t\tregularExpression: null,\r\n// // \t\t\t\t\trequired: 0,\r\n// // \t\t\t\t\tsectionId: 112,\r\n// // \t\t\t\t\tspan: 8,\r\n// // \t\t\t\t\tseq: 8,\r\n// // \t\t\t\t},\r\n// // \t\t\t\t{\r\n// // \t\t\t\t\tfieldKey: \"domicile\",\r\n// // \t\t\t\t\tfieldType: 3,\r\n// // \t\t\t\t\tid: 483,\r\n// // \t\t\t\t\tconfig:\r\n// // \t\t\t\t\t\t'{\"selectList\":[{\"label\":\"自有\",\"value\":\"1\"},{\"label\":\"租赁\",\"value\":\"2\"},{\"label\":\"其他\",\"value\":\"3\"}]}',\r\n// // \t\t\t\t\tinitialValue: null,\r\n// // \t\t\t\t\tlabel: \"住所性质\",\r\n// // \t\t\t\t\tregularExpression: null,\r\n// // \t\t\t\t\trequired: 0,\r\n// // \t\t\t\t\tsectionId: 112,\r\n// // \t\t\t\t\tspan: 8,\r\n// // \t\t\t\t\tseq: 9,\r\n// // \t\t\t\t},\r\n// // \t\t\t],\r\n// // \t\t\tseq: 2,\r\n// // \t\t},\r\n// // \t\t{\r\n// // \t\t\tid: 113,\r\n// // \t\t\tname: \"领取方式\",\r\n// // \t\t\tformFieldInfoList: [\r\n// // \t\t\t\t{\r\n// // \t\t\t\t\tfieldKey: \"dogCard\",\r\n// // \t\t\t\t\tfieldType: 1,\r\n// // \t\t\t\t\tid: 484,\r\n// // \t\t\t\t\tconfig: '{\"maxLength\":8,\"minLength\":1}',\r\n// // \t\t\t\t\tinitialValue: \"电子犬证\",\r\n// // \t\t\t\t\tlabel: \"电子犬证\",\r\n// // \t\t\t\t\tregularExpression: null,\r\n// // \t\t\t\t\trequired: 1,\r\n// // \t\t\t\t\tsectionId: 113,\r\n// // \t\t\t\t\tspan: 8,\r\n// // \t\t\t\t\tseq: 1,\r\n// // \t\t\t\t},\r\n// // \t\t\t\t{\r\n// // \t\t\t\t\tfieldKey: \"isEntity\",\r\n// // \t\t\t\t\tfieldType: 9,\r\n// // \t\t\t\t\tid: 490,\r\n// // \t\t\t\t\tconfig: '{\"selectList\":[{\"label\":\"是\",\"value\":\"1\"},{\"label\":\"否\",\"value\":\"2\"}]}',\r\n// // \t\t\t\t\tinitialValue: \"2\",\r\n// // \t\t\t\t\tlabel: \"是否需要实体卡\",\r\n// // \t\t\t\t\tregularExpression: null,\r\n// // \t\t\t\t\trequired: 1,\r\n// // \t\t\t\t\tsectionId: 113,\r\n// // \t\t\t\t\tspan: 8,\r\n// // \t\t\t\t\tseq: 2,\r\n// // \t\t\t\t},\r\n// // \t\t\t\t{\r\n// // \t\t\t\t\tfieldKey: \"payment\",\r\n// // \t\t\t\t\tfieldType: 9,\r\n// // \t\t\t\t\tid: 485,\r\n// // \t\t\t\t\tconfig: '{\"selectList\":[{\"label\":\"自取\",\"value\":\"1\"},{\"label\":\"寄邮到付\",\"value\":\"2\"}]}',\r\n// // \t\t\t\t\tinitialValue: null,\r\n// // \t\t\t\t\tlabel: \"领取方式\",\r\n// // \t\t\t\t\tregularExpression: null,\r\n// // \t\t\t\t\trequired: 1,\r\n// // \t\t\t\t\tsectionId: 113,\r\n// // \t\t\t\t\tspan: 8,\r\n// // \t\t\t\t\tseq: 3,\r\n// // \t\t\t\t},\r\n// // \t\t\t\t{\r\n// // \t\t\t\t\tfieldKey: \"location\",\r\n// // \t\t\t\t\tfieldType: 1,\r\n// // \t\t\t\t\tid: 486,\r\n// // \t\t\t\t\tconfig: '{\"maxLength\":50,\"minLength\":1}',\r\n// // \t\t\t\t\tinitialValue: null,\r\n// // \t\t\t\t\tlabel: \"自取地址\",\r\n// // \t\t\t\t\tregularExpression: null,\r\n// // \t\t\t\t\trequired: 0,\r\n// // \t\t\t\t\tsectionId: 113,\r\n// // \t\t\t\t\tspan: 8,\r\n// // \t\t\t\t\tseq: 4,\r\n// // \t\t\t\t},\r\n// // \t\t\t\t{\r\n// // \t\t\t\t\tfieldKey: \"recipientName\",\r\n// // \t\t\t\t\tfieldType: 1,\r\n// // \t\t\t\t\tid: 487,\r\n// // \t\t\t\t\tconfig: '{\"maxLength\":8,\"minLength\":1}',\r\n// // \t\t\t\t\tinitialValue: null,\r\n// // \t\t\t\t\tlabel: \"收件人姓名\",\r\n// // \t\t\t\t\tregularExpression: null,\r\n// // \t\t\t\t\trequired: 0,\r\n// // \t\t\t\t\tsectionId: 113,\r\n// // \t\t\t\t\tspan: 8,\r\n// // \t\t\t\t\tseq: 5,\r\n// // \t\t\t\t},\r\n// // \t\t\t\t{\r\n// // \t\t\t\t\tfieldKey: \"contact\",\r\n// // \t\t\t\t\tfieldType: 4,\r\n// // \t\t\t\t\tid: 488,\r\n// // \t\t\t\t\tconfig: '{\"decimalLength\":0}',\r\n// // \t\t\t\t\tinitialValue: null,\r\n// // \t\t\t\t\tlabel: \"联系方式\",\r\n// // \t\t\t\t\tregularExpression: null,\r\n// // \t\t\t\t\trequired: 0,\r\n// // \t\t\t\t\tsectionId: 113,\r\n// // \t\t\t\t\tspan: 8,\r\n// // \t\t\t\t\tseq: 6,\r\n// // \t\t\t\t},\r\n// // \t\t\t\t{\r\n// // \t\t\t\t\tfieldKey: \" mailingAddress\",\r\n// // \t\t\t\t\tfieldType: 1,\r\n// // \t\t\t\t\tid: 489,\r\n// // \t\t\t\t\tconfig: '{\"maxLength\":50,\"minLength\":0}',\r\n// // \t\t\t\t\tinitialValue: null,\r\n// // \t\t\t\t\tlabel: \"邮寄地址\",\r\n// // \t\t\t\t\tregularExpression: null,\r\n// // \t\t\t\t\trequired: 0,\r\n// // \t\t\t\t\tsectionId: 113,\r\n// // \t\t\t\t\tspan: 8,\r\n// // \t\t\t\t\tseq: 7,\r\n// // \t\t\t\t},\r\n// // \t\t\t],\r\n// // \t\t\tseq: 3,\r\n// // \t\t},\r\n// // \t],\r\n// // \tlinkages:\r\n// // \t\t'[{\"linkageType\":\"7\",\"name\":\"单选联动其他控件异步选项\",\"src\":{\"fieldKey\":\"asyncTests\",\"label\":\"下拉测试异步\",\"fieldType\":3},\"dist\":[{\"fields\":[{\"srcKey\":\"asyncTests\",\"fieldKey\":\"asyncYYYYYY\",\"label\":\"接收异步联动\",\"fieldType\":3,\"asyncParamName\":\"id\"}]}],\"asyncParamName\":\"id\"}]',\r\n// // };\r\n\r\n// // {\r\n// // \tlinkageType: \"4\",\r\n// // \tname: \"单选/多选 控制 选项\",\r\n// // \tsrc: { fieldKey: \"rfid\" },\r\n// // \tdist: [\r\n// // \t\t{\r\n// // \t\t\tsrcValue: \"1\",\r\n// // \t\t\tfields: [\r\n// // \t\t\t\t{\r\n// // \t\t\t\t\tfieldKey: \"domicile\",\r\n// // \t\t\t\t\tlabel: \"住所性质\",\r\n// // \t\t\t\t\toptions: [\r\n// // \t\t\t\t\t\t{ label: \"自有\", value: \"1\" },\r\n// // \t\t\t\t\t\t{ label: \"租赁\", value: \"2\" },\r\n// // \t\t\t\t\t\t{ label: \"其他\", value: \"3\" },\r\n// // \t\t\t\t\t],\r\n// // \t\t\t\t},\r\n// // \t\t\t],\r\n// // \t\t},\r\n// // \t\t{\r\n// // \t\t\tsrcValue: \"2\",\r\n// // \t\t\tfields: [\r\n// // \t\t\t\t{\r\n// // \t\t\t\t\tfieldKey: \"domicile\",\r\n// // \t\t\t\t\tlabel: \"住所性质\",\r\n// // \t\t\t\t\toptions: [{ label: \"自有\", value: \"1\" }],\r\n// // \t\t\t\t},\r\n// // \t\t\t],\r\n// // \t\t},\r\n// // \t],\r\n// // },\r\n\r\nexport default {\r\n\tlabelLayout: \"inline\",\r\n\tid: 1050,\r\n\tname: \"巡查员问题处理表单(新)\",\r\n\tcode: \"problem_flow_new_xcj_deal_form\",\r\n\tversion: 14,\r\n\tseq: 0,\r\n\tdescription: \"巡查员问题处理表单(新)\",\r\n\tconfiguration: null,\r\n\tlinkages:\r\n\t\t'[{\"linkageType\":\"5.1\",\"name\":\"单选/多选控制组隐藏\",\"src\":{\"fieldKey\":\"dealTag\",\"label\":\"处理方式\",\"fieldType\":9},\"dist\":[{\"srcKey\":\"dealTag\",\"srcValue\":\"1\",\"valueLabel\":\"劝告\",\"fields\":[{\"groupId\":955,\"groupName\":\"警告详情\"},{\"groupId\":956,\"groupName\":\"报告详情\"}]},{\"srcKey\":\"dealTag\",\"srcValue\":\"2\",\"valueLabel\":\"警告\",\"fields\":[{\"groupId\":954,\"groupName\":\"劝告详情\"},{\"groupId\":956,\"groupName\":\"报告详情\"}]},{\"srcKey\":\"dealTag\",\"srcValue\":\"3\",\"valueLabel\":\"报告\",\"fields\":[{\"groupId\":954,\"groupName\":\"劝告详情\"},{\"groupId\":955,\"groupName\":\"警告详情\"}]}]},{\"linkageType\":\"7\",\"name\":\"单选联动其他控件异步选项\",\"src\":{\"fieldKey\":\"problemType\",\"label\":\"问题类型\",\"fieldType\":3},\"dist\":[{\"fields\":[{\"fieldKey\":\"problemReason\",\"fieldType\":3,\"label\":\"问题原由\",\"asyncParamName\":\"itemValue\"}]}],\"asyncParamName\":\"itemValue\"}]',\r\n\tcustomOnChange: null,\r\n\tformTypeId: 2,\r\n\trequiredMsg: null,\r\n\tgmtCreate: \"2019-08-22 09:03:22\",\r\n\tgmtModified: \"2019-08-22 09:03:22\",\r\n\tsectionList: [\r\n\t\t{\r\n\t\t\tid: 1321,\r\n\t\t\tformId: 1050,\r\n\t\t\tname: \"问题信息\",\r\n\t\t\tseq: 1,\r\n\t\t\tdescription: null,\r\n\t\t\tgmtCreate: \"2019-08-22 09:03:22\",\r\n\t\t\tgmtModified: \"2019-08-22 09:03:22\",\r\n\t\t\tformFieldInfoList: [\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: \"自定义\",\r\n\t\t\t\t\tfieldKey: \"mycustoms\",\r\n\t\t\t\t\tfieldType: 14,\r\n\t\t\t\t\trequired: 1,\r\n\t\t\t\t\tdisabled: 0,\r\n\t\t\t\t\tregularExpression: null,\r\n\t\t\t\t\tdescription: null,\r\n\t\t\t\t\terrorMsg: null,\r\n\t\t\t\t\tplaceholder: null,\r\n\t\t\t\t\tspan: 24,\r\n\t\t\t\t\tlabelWidth: null,\r\n\t\t\t\t\tconfig: \"{}\",\r\n\t\t\t\t\tinitialValue: null,\r\n\t\t\t\t\tseq: 1,\r\n\t\t\t\t\tisFormItem:false,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tid: 4435,\r\n\t\t\t\t\tsectionId: 1321,\r\n\t\t\t\t\tlabel: \"现场图片\",\r\n\t\t\t\t\tfieldKey: \"problemPictures\",\r\n\t\t\t\t\tfieldType: 11,\r\n\t\t\t\t\trequired: 1,\r\n\t\t\t\t\tdisabled: 0,\r\n\t\t\t\t\tregularExpression: null,\r\n\t\t\t\t\tdescription: null,\r\n\t\t\t\t\terrorMsg: null,\r\n\t\t\t\t\tplaceholder: null,\r\n\t\t\t\t\tspan: 24,\r\n\t\t\t\t\tlabelWidth: null,\r\n\t\t\t\t\tconfig:\r\n\t\t\t\t\t\t'{\"url\":\"/file-upload-service/webapi/v1.0/fileUpload/huawei/uploadFile\",\"fileAccept\":\"image/*\",\"fileListType\":\"picture-card\",\"wxSourceTypes\":[\"album\",\"camera\"],\"uploaderResponse\":{\"id\":\"id\",\"filePath\":\"filePath\",\"fileSuffix\":\"fileSuffix\",\"originalFileName\":\"originalFileName\"},\"autoUpload\":1,\"maxMegabytes\":10,\"urlMethod\":\"post\",\"urlParamName\":\"file\",\"requestMode\":\"single\"}',\r\n\t\t\t\t\tinitialValue: null,\r\n\t\t\t\t\tseq: 1,\r\n\t\t\t\t\tgmtCreate: \"2019-08-22 09:03:22\",\r\n\t\t\t\t\tgmtModified: \"2019-08-22 09:03:22\",\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tid: 4436,\r\n\t\t\t\t\tsectionId: 1321,\r\n\t\t\t\t\tlabel: \"当事人\",\r\n\t\t\t\t\tfieldKey: \"litigantName\",\r\n\t\t\t\t\tfieldType: 1,\r\n\t\t\t\t\trequired: 1,\r\n\t\t\t\t\tdisabled: 0,\r\n\t\t\t\t\tregularExpression: null,\r\n\t\t\t\t\tdescription: null,\r\n\t\t\t\t\terrorMsg: null,\r\n\t\t\t\t\tplaceholder: null,\r\n\t\t\t\t\tspan: 20,\r\n\t\t\t\t\tlabelWidth: null,\r\n\t\t\t\t\tconfig: '{\"maxLength\":40,\"minLength\":2,\"type\":\"text\"}',\r\n\t\t\t\t\tinitialValue: null,\r\n\t\t\t\t\tseq: 2,\r\n\t\t\t\t\tgmtCreate: \"2019-08-22 09:03:22\",\r\n\t\t\t\t\tgmtModified: \"2019-08-22 09:03:22\",\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tid: 4437,\r\n\t\t\t\t\tsectionId: 1321,\r\n\t\t\t\t\tlabel: \"问题类型\",\r\n\t\t\t\t\tfieldKey: \"problemType\",\r\n\t\t\t\t\tfieldType: 3,\r\n\t\t\t\t\trequired: 1,\r\n\t\t\t\t\tdisabled: 0,\r\n\t\t\t\t\tregularExpression: null,\r\n\t\t\t\t\tdescription: null,\r\n\t\t\t\t\terrorMsg: null,\r\n\t\t\t\t\tplaceholder: null,\r\n\t\t\t\t\tspan: 24,\r\n\t\t\t\t\tlabelWidth: null,\r\n\t\t\t\t\tconfig:\r\n\t\t\t\t\t\t'{\"selectionsType\":2,\"selectListFieldNames\":{\"label\":\"itemName\",\"value\":\"itemValue\",\"children\":\"children\"},\"selectionsUrl\":{\"selectionsUrlMethod\":\"post\",\"selectionsUrl\":\"/system-service/api/sysDictionary/listByTypeCode\",\"requireType\":\"all\"},\"selectionsQuery\":{\"typeCode\":\"problem_type\"},\"mode\":\"single\",\"notFoundContent\":\"无相关数据\"}',\r\n\t\t\t\t\tinitialValue: null,\r\n\t\t\t\t\tseq: 3,\r\n\t\t\t\t\tgmtCreate: \"2019-08-22 09:03:22\",\r\n\t\t\t\t\tgmtModified: \"2019-08-22 09:03:22\",\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tid: 4438,\r\n\t\t\t\t\tsectionId: 1321,\r\n\t\t\t\t\tlabel: \"问题原由\",\r\n\t\t\t\t\tfieldKey: \"problemReason\",\r\n\t\t\t\t\tfieldType: 3,\r\n\t\t\t\t\trequired: 1,\r\n\t\t\t\t\tdisabled: 0,\r\n\t\t\t\t\tregularExpression: null,\r\n\t\t\t\t\tdescription: null,\r\n\t\t\t\t\terrorMsg: null,\r\n\t\t\t\t\tplaceholder: null,\r\n\t\t\t\t\tspan: 24,\r\n\t\t\t\t\tlabelWidth: null,\r\n\t\t\t\t\tconfig:\r\n\t\t\t\t\t\t'{\"selectionsType\":2,\"selectListFieldNames\":{\"label\":\"itemName\",\"value\":\"itemValue\",\"children\":\"children\"},\"selectionsUrl\":{\"selectionsUrlMethod\":\"post\",\"selectionsUrl\":\"/system-service/api/sysDictionary/listByItemValue\",\"requireType\":\"all\"},\"selectionsQuery\":{\"itemValue\":\"000\"},\"mode\":\"single\",\"notFoundContent\":\"无相关数据\"}',\r\n\t\t\t\t\tinitialValue: null,\r\n\t\t\t\t\tseq: 4,\r\n\t\t\t\t\tgmtCreate: \"2019-08-22 09:03:22\",\r\n\t\t\t\t\tgmtModified: \"2019-08-22 09:03:22\",\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tid: 4439,\r\n\t\t\t\t\tsectionId: 1321,\r\n\t\t\t\t\tlabel: \"案发地址\",\r\n\t\t\t\t\tfieldKey: \"problemAddress\",\r\n\t\t\t\t\tfieldType: 13,\r\n\t\t\t\t\trequired: 1,\r\n\t\t\t\t\tdisabled: 0,\r\n\t\t\t\t\tregularExpression: null,\r\n\t\t\t\t\tdescription: null,\r\n\t\t\t\t\terrorMsg: null,\r\n\t\t\t\t\tplaceholder: null,\r\n\t\t\t\t\tspan: 24,\r\n\t\t\t\t\tlabelWidth: null,\r\n\t\t\t\t\tconfig:\r\n\t\t\t\t\t\t'{\"mapType\":\"qqmap\",\"secretKey\":\"63QBZ-B5GKV-46RPH-UCUF2-K5TUJ-OKBAK\",\"webserviceUrlDO\":{\"urlMethod\":\"post\",\"url\":\"/system-service/webapi/geography/webService\"}}',\r\n\t\t\t\t\tinitialValue: null,\r\n\t\t\t\t\tseq: 5,\r\n\t\t\t\t\tgmtCreate: \"2019-08-22 09:03:22\",\r\n\t\t\t\t\tgmtModified: \"2019-08-22 09:03:22\",\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t\t{\r\n\t\t\tid: 1322,\r\n\t\t\tformId: 1050,\r\n\t\t\tname: \"问题处理\",\r\n\t\t\tseq: 2,\r\n\t\t\tdescription: null,\r\n\t\t\tgmtCreate: \"2019-08-22 09:03:22\",\r\n\t\t\tgmtModified: \"2019-08-22 09:03:22\",\r\n\t\t\tformFieldInfoList: [\r\n\t\t\t\t{\r\n\t\t\t\t\tid: 4441,\r\n\t\t\t\t\tsectionId: 1322,\r\n\t\t\t\t\tlabel: \"处理方式\",\r\n\t\t\t\t\tfieldKey: \"dealTag\",\r\n\t\t\t\t\tfieldType: 9,\r\n\t\t\t\t\trequired: 1,\r\n\t\t\t\t\tdisabled: 0,\r\n\t\t\t\t\tregularExpression: null,\r\n\t\t\t\t\tdescription: null,\r\n\t\t\t\t\terrorMsg: null,\r\n\t\t\t\t\tplaceholder: null,\r\n\t\t\t\t\tspan: 24,\r\n\t\t\t\t\tlabelWidth: null,\r\n\t\t\t\t\tconfig:\r\n\t\t\t\t\t\t'{\"selectionsType\":1,\"selectListFieldNames\":{\"label\":\"label\",\"value\":\"value\",\"children\":\"children\"},\"selectList\":[{\"id\":\"784184431564453400000\",\"selected\":true,\"label\":\"劝告\",\"value\":\"1\"},{\"id\":\"455066461564453500000\",\"label\":\"警告\",\"value\":\"2\"},{\"id\":\"611918881564453500000\",\"label\":\"报告\",\"value\":\"3\"}],\"selectionsQuery\":{}}',\r\n\t\t\t\t\tinitialValue: \"1\",\r\n\t\t\t\t\tseq: 1,\r\n\t\t\t\t\tgmtCreate: \"2019-08-22 09:03:22\",\r\n\t\t\t\t\tgmtModified: \"2019-08-22 09:03:22\",\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t\t{\r\n\t\t\tid: 1323,\r\n\t\t\tformId: 1050,\r\n\t\t\tname: \"劝告详情\",\r\n\t\t\tseq: 3,\r\n\t\t\tdescription: null,\r\n\t\t\tgmtCreate: \"2019-08-22 09:03:22\",\r\n\t\t\tgmtModified: \"2019-08-22 09:03:22\",\r\n\t\t\tformFieldInfoList: [\r\n\t\t\t\t{\r\n\t\t\t\t\tid: 4442,\r\n\t\t\t\t\tsectionId: 1323,\r\n\t\t\t\t\tlabel: \"劝告后的图片\",\r\n\t\t\t\t\tfieldKey: \"advisePictures\",\r\n\t\t\t\t\tfieldType: 11,\r\n\t\t\t\t\trequired: 1,\r\n\t\t\t\t\tdisabled: 0,\r\n\t\t\t\t\tregularExpression: null,\r\n\t\t\t\t\tdescription: null,\r\n\t\t\t\t\terrorMsg: null,\r\n\t\t\t\t\tplaceholder: null,\r\n\t\t\t\t\tspan: 24,\r\n\t\t\t\t\tlabelWidth: null,\r\n\t\t\t\t\tconfig:\r\n\t\t\t\t\t\t'{\"url\":\"/file-upload-service/webapi/v1.0/fileUpload/huawei/uploadFile\",\"fileAccept\":\"image/*\",\"fileListType\":\"picture-card\",\"wxSourceTypes\":[\"album\",\"camera\"],\"uploaderResponse\":{\"id\":\"id\",\"filePath\":\"filePath\",\"fileSuffix\":\"fileSuffix\",\"originalFileName\":\"originalFileName\"},\"autoUpload\":1,\"maxMegabytes\":10,\"urlMethod\":\"post\",\"urlParamName\":\"file\",\"requestMode\":\"single\"}',\r\n\t\t\t\t\tinitialValue: null,\r\n\t\t\t\t\tseq: 1,\r\n\t\t\t\t\tgmtCreate: \"2019-08-22 09:03:22\",\r\n\t\t\t\t\tgmtModified: \"2019-08-22 09:03:22\",\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tid: 4443,\r\n\t\t\t\t\tsectionId: 1323,\r\n\t\t\t\t\tlabel: \"备注信息\",\r\n\t\t\t\t\tfieldKey: \"adviseRemark\",\r\n\t\t\t\t\tfieldType: 2,\r\n\t\t\t\t\trequired: 0,\r\n\t\t\t\t\tdisabled: 0,\r\n\t\t\t\t\tregularExpression: null,\r\n\t\t\t\t\tdescription: null,\r\n\t\t\t\t\terrorMsg: null,\r\n\t\t\t\t\tplaceholder: null,\r\n\t\t\t\t\tspan: 24,\r\n\t\t\t\t\tlabelWidth: null,\r\n\t\t\t\t\tconfig: '{\"maxLength\":300,\"minLength\":0}',\r\n\t\t\t\t\tinitialValue: null,\r\n\t\t\t\t\tseq: 2,\r\n\t\t\t\t\tgmtCreate: \"2019-08-22 09:03:22\",\r\n\t\t\t\t\tgmtModified: \"2019-08-22 09:03:22\",\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t\t{\r\n\t\t\tid: 1324,\r\n\t\t\tformId: 1050,\r\n\t\t\tname: \"警告详情\",\r\n\t\t\tseq: 4,\r\n\t\t\tdescription: null,\r\n\t\t\tgmtCreate: \"2019-08-22 09:03:22\",\r\n\t\t\tgmtModified: \"2019-08-22 09:03:22\",\r\n\t\t\tformFieldInfoList: [\r\n\t\t\t\t{\r\n\t\t\t\t\tid: 4444,\r\n\t\t\t\t\tsectionId: 1324,\r\n\t\t\t\t\tlabel: \"警告后的图片\",\r\n\t\t\t\t\tfieldKey: \"warnPictrures\",\r\n\t\t\t\t\tfieldType: 11,\r\n\t\t\t\t\trequired: 1,\r\n\t\t\t\t\tdisabled: 0,\r\n\t\t\t\t\tregularExpression: null,\r\n\t\t\t\t\tdescription: null,\r\n\t\t\t\t\terrorMsg: null,\r\n\t\t\t\t\tplaceholder: null,\r\n\t\t\t\t\tspan: 24,\r\n\t\t\t\t\tlabelWidth: null,\r\n\t\t\t\t\tconfig:\r\n\t\t\t\t\t\t'{\"url\":\"/file-upload-service/webapi/v1.0/fileUpload/huawei/uploadFile\",\"fileAccept\":\"image/*\",\"fileListType\":\"picture-card\",\"wxSourceTypes\":[\"album\",\"camera\"],\"uploaderResponse\":{\"id\":\"id\",\"filePath\":\"filePath\",\"fileSuffix\":\"fileSuffix\",\"originalFileName\":\"originalFileName\"},\"autoUpload\":1,\"maxMegabytes\":10,\"urlMethod\":\"post\",\"urlParamName\":\"file\",\"requestMode\":\"single\"}',\r\n\t\t\t\t\tinitialValue: null,\r\n\t\t\t\t\tseq: 1,\r\n\t\t\t\t\tgmtCreate: \"2019-08-22 09:03:22\",\r\n\t\t\t\t\tgmtModified: \"2019-08-22 09:03:22\",\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tid: 4445,\r\n\t\t\t\t\tsectionId: 1324,\r\n\t\t\t\t\tlabel: \"备注说明\",\r\n\t\t\t\t\tfieldKey: \"warnRemark\",\r\n\t\t\t\t\tfieldType: 2,\r\n\t\t\t\t\trequired: 0,\r\n\t\t\t\t\tdisabled: 0,\r\n\t\t\t\t\tregularExpression: null,\r\n\t\t\t\t\tdescription: null,\r\n\t\t\t\t\terrorMsg: null,\r\n\t\t\t\t\tplaceholder: null,\r\n\t\t\t\t\tspan: 24,\r\n\t\t\t\t\tlabelWidth: null,\r\n\t\t\t\t\tconfig: '{\"maxLength\":300,\"minLength\":0}',\r\n\t\t\t\t\tinitialValue: null,\r\n\t\t\t\t\tseq: 2,\r\n\t\t\t\t\tgmtCreate: \"2019-08-22 09:03:22\",\r\n\t\t\t\t\tgmtModified: \"2019-08-22 09:03:22\",\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t\t{\r\n\t\t\tid: 1325,\r\n\t\t\tformId: 1050,\r\n\t\t\tname: \"报告详情\",\r\n\t\t\tseq: 5,\r\n\t\t\tdescription: null,\r\n\t\t\tgmtCreate: \"2019-08-22 09:03:22\",\r\n\t\t\tgmtModified: \"2019-08-22 09:03:22\",\r\n\t\t\tformFieldInfoList: [\r\n\t\t\t\t{\r\n\t\t\t\t\tid: 4446,\r\n\t\t\t\t\tsectionId: 1325,\r\n\t\t\t\t\tlabel: \"报告接收人员\",\r\n\t\t\t\t\tfieldKey: \"reportUserId\",\r\n\t\t\t\t\tfieldType: 3,\r\n\t\t\t\t\trequired: 1,\r\n\t\t\t\t\tdisabled: 0,\r\n\t\t\t\t\tregularExpression: null,\r\n\t\t\t\t\tdescription: null,\r\n\t\t\t\t\terrorMsg: null,\r\n\t\t\t\t\tplaceholder: null,\r\n\t\t\t\t\tspan: 24,\r\n\t\t\t\t\tlabelWidth: null,\r\n\t\t\t\t\tconfig:\r\n\t\t\t\t\t\t'{\"selectionsType\":2,\"selectListFieldNames\":{\"label\":\"userName\",\"value\":\"userAccount\",\"children\":\"children\"},\"selectionsUrl\":{\"selectionsUrlMethod\":\"post\",\"selectionsUrl\":\"/tibmas2-webapi/api/v1.0/user/listUserByDeptIdAndRoleCodesWithPathVarXcjHandler\",\"requireType\":\"all\"},\"selectionsQuery\":{\"roleCodes\":\"AREA_MGR\"},\"mode\":\"single\"}',\r\n\t\t\t\t\tinitialValue: null,\r\n\t\t\t\t\tseq: 1,\r\n\t\t\t\t\tgmtCreate: \"2019-08-22 09:03:22\",\r\n\t\t\t\t\tgmtModified: \"2019-08-22 09:03:22\",\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tid: 4447,\r\n\t\t\t\t\tsectionId: 1325,\r\n\t\t\t\t\tlabel: \"是否为紧急问题\",\r\n\t\t\t\t\tfieldKey: \"emergencyTag\",\r\n\t\t\t\t\tfieldType: 9,\r\n\t\t\t\t\trequired: 1,\r\n\t\t\t\t\tdisabled: 0,\r\n\t\t\t\t\tregularExpression: null,\r\n\t\t\t\t\tdescription: null,\r\n\t\t\t\t\terrorMsg: null,\r\n\t\t\t\t\tplaceholder: null,\r\n\t\t\t\t\tspan: 24,\r\n\t\t\t\t\tlabelWidth: null,\r\n\t\t\t\t\tconfig:\r\n\t\t\t\t\t\t'{\"selectionsType\":1,\"selectListFieldNames\":{\"label\":\"label\",\"value\":\"value\",\"children\":\"children\"},\"selectList\":[{\"id\":\"6665571564456293000\",\"label\":\"否\",\"value\":\"0\"},{\"id\":\"847325661564456300000\",\"label\":\"是\",\"value\":\"1\"}],\"selectionsQuery\":{}}',\r\n\t\t\t\t\tinitialValue: null,\r\n\t\t\t\t\tseq: 2,\r\n\t\t\t\t\tgmtCreate: \"2019-08-22 09:03:22\",\r\n\t\t\t\t\tgmtModified: \"2019-08-22 09:03:22\",\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tid: 4448,\r\n\t\t\t\t\tsectionId: 1325,\r\n\t\t\t\t\tlabel: \"备注说明\",\r\n\t\t\t\t\tfieldKey: \"repoartRemark\",\r\n\t\t\t\t\tfieldType: 2,\r\n\t\t\t\t\trequired: 0,\r\n\t\t\t\t\tdisabled: 0,\r\n\t\t\t\t\tregularExpression: null,\r\n\t\t\t\t\tdescription: null,\r\n\t\t\t\t\terrorMsg: null,\r\n\t\t\t\t\tplaceholder: null,\r\n\t\t\t\t\tspan: 24,\r\n\t\t\t\t\tlabelWidth: null,\r\n\t\t\t\t\tconfig: '{\"maxLength\":300,\"minLength\":0}',\r\n\t\t\t\t\tinitialValue: null,\r\n\t\t\t\t\tseq: 3,\r\n\t\t\t\t\tgmtCreate: \"2019-08-22 09:03:22\",\r\n\t\t\t\t\tgmtModified: \"2019-08-22 09:03:22\",\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t],\r\n\tbuttonList: [],\r\n\tformSubmitTypeCode: 1,\r\n\tcustomControlRender:{\r\n\t\t\"mycustoms\":function(data){\r\n\t\t\tconsole.log(data)\r\n\t\t\treturn 999\r\n\t\t}\r\n\t}\r\n};\r\n","import React, { useState, useEffect, useRef, useImperativeHandle, useCallback } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { getControl } from \"../Zform/controls\";\r\nimport { Input, Col } from \"antd\";\r\nimport { getStyle } from \"../zTool\";\r\nconst propTypes = {\r\n\tsize: PropTypes.string,\r\n\tselectList: PropTypes.arrayOf(PropTypes.object),\r\n\tvalue: PropTypes.object,\r\n\tvalueKey: PropTypes.object,\r\n\tdisabled: PropTypes.bool,\r\n\tleftPlaceholder: PropTypes.string,\r\n\tcenterPlaceholder: PropTypes.string,\r\n\trightPlaceholder: PropTypes.string,\r\n\tcontrolCostrom: PropTypes.object,\r\n\tcustomControls: PropTypes.array,\r\n};\r\nconst defaultProps = {\r\n\tvalueKey: { left: \"label\", center: \"value\", right: \"paramName\" },\r\n\tsize: \"default\",\r\n\tselectList: [],\r\n\tleftSpan: 6,\r\n\tcenterSpan: 12,\r\n\trightSpan: 6,\r\n\tdisabled: false,\r\n\tcontrolCostrom: { left: null, center: null, right: null },\r\n\tcustomControls: [],\r\n};\r\n\r\nfunction getNewValue(value, valueKey, currentValue, customControls) {\r\n\tlet newValue = {};\r\n\tif (value) {\r\n\t\tnewValue = { ...value, ...currentValue };\r\n\t} else {\r\n\t\tObject.values(valueKey).forEach(v => {\r\n\t\t\tnewValue[v] = \"\";\r\n\t\t});\r\n\t\tcustomControls.forEach(item => {\r\n\t\t\tnewValue[item.key] = \"\";\r\n\t\t});\r\n\t\tnewValue = { ...newValue, ...currentValue };\r\n\t}\r\n\treturn newValue;\r\n}\r\n\r\nconst MyComponent = React.forwardRef(function ZselectInput(props, ref) {\r\n\tconst {\r\n\t\tsize,\r\n\t\tselectList,\r\n\t\tleftSpan,\r\n\t\tcenterSpan,\r\n\t\trightSpan,\r\n\t\tonChange,\r\n\t\tvalue,\r\n\t\tvalueKey,\r\n\t\tdisabled,\r\n\t\tclassName,\r\n\t\tleftPlaceholder,\r\n\t\tcenterPlaceholder,\r\n\t\trightPlaceholder,\r\n\t\tcontrolCostrom,\r\n\t\tcustomControls,\r\n\t} = props;\r\n\tconst customChange = (val, key) => {\r\n\t\tconst currentValue = { [key]: val };\r\n\t\tlet newValue = getNewValue(value, valueKey, currentValue, customControls);\r\n\t\ttypeof onChange === \"function\" && onChange(newValue);\r\n\t};\r\n\tconst leftChange = val => {\r\n\t\tcustomChange(val, valueKey.left);\r\n\t};\r\n\tconst centerChange = val => {\r\n\t\tcustomChange(val, valueKey.center);\r\n\t};\r\n\tconst rightChange = val => {\r\n\t\tcustomChange(val, valueKey.right);\r\n\t};\r\n\tconst wrapperElRef = useRef();\r\n\tconst _left = value && value[valueKey.left] !== undefined ? value[valueKey.left] : \"\";\r\n\tconst _center = value && value[valueKey.center] !== undefined ? value[valueKey.center] : \"\";\r\n\tconst _right = value && value[valueKey.right] !== undefined ? value[valueKey.right] : \"\";\r\n\tuseEffect(() => {\r\n\t\tconst warperEl = wrapperElRef.current.querySelector(\".z-select-input\");\r\n\t\tif (warperEl) {\r\n\t\t\tArray.from(warperEl.children).forEach((el, i) => {\r\n\t\t\t\tel.removeAttribute(\"style\");\r\n\t\t\t\tconst currentWidth = getStyle(el, \"width\");\r\n\t\t\t\tif (/\\%$/.test(currentWidth) && i !== 0) {\r\n\t\t\t\t\tel.style.width = `calc(${currentWidth} + 1px)`;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}, [leftSpan, centerSpan, rightSpan]);\r\n\r\n\treturn (\r\n\t\t<div ref={wrapperElRef}>\r\n\t\t\t<Input.Group compact size={size} className={`z-select-input ${className || \"\"}`}>\r\n\t\t\t\t{leftSpan ? (\r\n\t\t\t\t\t<Col span={leftSpan}>\r\n\t\t\t\t\t\t{typeof controlCostrom.left === \"function\"\r\n\t\t\t\t\t\t\t? controlCostrom.left(_left, leftChange)\r\n\t\t\t\t\t\t\t: getControl(\"Select\", {\r\n\t\t\t\t\t\t\t\t\tvalue: _left,\r\n\t\t\t\t\t\t\t\t\tselectList,\r\n\t\t\t\t\t\t\t\t\tonChange: leftChange,\r\n\t\t\t\t\t\t\t\t\tdisabled,\r\n\t\t\t\t\t\t\t\t\tclassName: \"z-label\",\r\n\t\t\t\t\t\t\t\t\tplaceholder: leftPlaceholder,\r\n\t\t\t\t\t\t\t  })}\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t) : null}\r\n\t\t\t\t{centerSpan ? (\r\n\t\t\t\t\t<Col span={centerSpan}>\r\n\t\t\t\t\t\t{typeof controlCostrom.center === \"function\"\r\n\t\t\t\t\t\t\t? controlCostrom.center(_center, centerChange)\r\n\t\t\t\t\t\t\t: getControl(\"Input\", {\r\n\t\t\t\t\t\t\t\t\tvalue: _center,\r\n\t\t\t\t\t\t\t\t\tonChange: e => {\r\n\t\t\t\t\t\t\t\t\t\tcenterChange(e);\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tdisabled,\r\n\t\t\t\t\t\t\t\t\tclassName: \"z-value\",\r\n\t\t\t\t\t\t\t\t\tplaceholder: centerPlaceholder,\r\n\t\t\t\t\t\t\t  })}\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t) : null}\r\n\t\t\t\t{rightSpan ? (\r\n\t\t\t\t\t<Col span={rightSpan}>\r\n\t\t\t\t\t\t{typeof controlCostrom.right === \"function\"\r\n\t\t\t\t\t\t\t? controlCostrom.right(_right, rightChange)\r\n\t\t\t\t\t\t\t: getControl(\"Input\", {\r\n\t\t\t\t\t\t\t\t\tvalue: _right,\r\n\t\t\t\t\t\t\t\t\tonChange: e => {\r\n\t\t\t\t\t\t\t\t\t\trightChange(e);\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tdisabled,\r\n\t\t\t\t\t\t\t\t\tclassName: \"z-name\",\r\n\t\t\t\t\t\t\t\t\tplaceholder: rightPlaceholder,\r\n\t\t\t\t\t\t\t  })}\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t) : null}\r\n\t\t\t\t{customControls.map(item => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<Col span={item.span} key={item.key}>\r\n\t\t\t\t\t\t\t{item.render(value, item, customChange)}\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t);\r\n\t\t\t\t})}\r\n\t\t\t</Input.Group>\r\n\t\t</div>\r\n\t);\r\n});\r\nMyComponent.propTypes = propTypes;\r\nMyComponent.defaultProps = defaultProps;\r\nexport default React.memo(MyComponent);\r\n","import React, { useState, useEffect, useRef, useImperativeHandle, useCallback } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { Icon, Modal, message } from \"antd\";\r\nimport { getControl } from \"../Zform/controls\";\r\nimport { httpAjax, dataType } from \"zerod/components/zTool\";\r\nimport ZerodMainContext from \"../ZerodMainContext\";\r\nimport ZerodLayerContext from \"../ZerodLayerContext\";\r\nimport Zviewer from \"../Zviewer\";\r\nfunction getFileUids(files, key = \"uid\") {\r\n\treturn files.map(file => {\r\n\t\treturn file[key];\r\n\t});\r\n}\r\nconst propTypes = {\r\n\tconfig: PropTypes.object,\r\n\tgetUserInfo: PropTypes.func,\r\n\tgetInsertLocation: PropTypes.func,\r\n\tgetLayerModalInsertLocation: PropTypes.func,\r\n\tshowModalLoading: PropTypes.func,\r\n\tshowLayerModalLoading: PropTypes.func,\r\n\tvalue: PropTypes.array,\r\n\tonChange: PropTypes.func,\r\n};\r\nconst defaultProps = {\r\n\tgetUserInfo: function() {\r\n\t\treturn {};\r\n\t},\r\n\tgetInsertLocation: function() {\r\n\t\treturn null;\r\n\t},\r\n\tshowModalLoading: function() {\r\n\t\treturn null;\r\n\t},\r\n};\r\n/**\r\n * config\r\n * \t{\r\n * \t\turl: string //多文件上传的接口,\r\n * \t\turlMethod: string //多文件上传请求方式,\r\n * \t\turlParamName: string //上传接口的参数名,\r\n *      uploaderResponse: object //转发value接收的字段名\r\n * \t\tuserIdName: string ,// 用户id参数名\r\n *      autoUpload ：boolean //是否自动上传（是否出现确认上传按钮）\r\n *      requestMode: string  //上传接口上传模式  single(单文件) | multiple(多文件)\r\n *      isSourceFile ： boolean // onChange事件导出的value是否带着文件流数据，true时以上属性都无效，即不会调用上传接口，不会出现确认上传按钮\r\n *      fileAccept: string //上传可选的文件类型\r\n *      maxUploadLength ： number  //最大上传数量\r\n *      fileListType ： stirng  //列表展示模式  picture | picture-card\r\n *      maxMegabytes : number // 允许选择最大文件大小（M） 默认 10M\r\n * \t}\r\n */\r\n//上传文件组件(多文件)\r\nconst MyUpload = React.forwardRef(function(props, ref) {\r\n\tconst {\r\n\t\tconfig,\r\n\t\tgetUserInfo,\r\n\t\tgetInsertLocation,\r\n\t\tgetLayerModalInsertLocation,\r\n\t\tshowModalLoading,\r\n\t\tshowLayerModalLoading,\r\n\t\tvalue,\r\n\t\tonChange,\r\n\t\tfield,\r\n\t} = props;\r\n\tconst wrapperElRef = useRef(null);\r\n\tconst { fileAccept, requestMode, maxUploadLength, autoUpload, isSourceFile } = config;\r\n\tconst fileListType = config.fileListType || \"picture-card\";\r\n\tconst maxMegabytes = typeof config.maxMegabytes === \"number\" ? config.maxMegabytes : 10;\r\n\tconst isPictureCardType = fileListType === \"picture-card\";\r\n\tconst isOnlyPicture = fileAccept === \"image/*\";\r\n\tconst uploaderResponse = config.uploaderResponse || {\r\n\t\tid: \"id\",\r\n\t\tfilePath: \"filePath\",\r\n\t\tfileSuffix: \"fileSuffix\",\r\n\t\toriginalFileName: \"originalFileName\",\r\n\t};\r\n\t//是否单文件接口\r\n\tconst isSingle = requestMode === \"single\";\r\n\t//fileList：上传文件的列表数据，setTruefileList：文件数据流\r\n\tconst [fileState, setFileState] = useState({ fileList: [], setTruefileList: [] });\r\n\t//保存已上传文件的uid和服务id\r\n\tconst hasUploadDoneServerIdsRef = useRef([]);\r\n\t//过滤出未上传的文件\r\n\tconst noUploader = fileState.setTruefileList.filter(file => {\r\n\t\t// console.log(\"---ids\", hasUploadDoneServerIdsRef.current, getFileUids(hasUploadDoneServerIdsRef.current));\r\n\t\treturn !getFileUids(hasUploadDoneServerIdsRef.current).includes(file.uid);\r\n\t});\r\n\t// console.log(noUploader, hasUploadDoneServerIdsRef.current, fileState);\r\n\t//获取调用showModalLoading的第二个参数\r\n\tconst modalRef = useRef(\"\");\r\n\tuseEffect(() => {\r\n\t\tmodalRef.current =\r\n\t\t\tgetLayerModalInsertLocation && typeof getLayerModalInsertLocation === \"function\"\r\n\t\t\t\t? getLayerModalInsertLocation(wrapperElRef.current)\r\n\t\t\t\t: typeof getInsertLocation === \"function\"\r\n\t\t\t\t? getInsertLocation(wrapperElRef.current)\r\n\t\t\t\t: null;\r\n\t}, []);\r\n\tconst showLoading =\r\n\t\tshowLayerModalLoading && typeof showLayerModalLoading === \"function\"\r\n\t\t\t? showLayerModalLoading\r\n\t\t\t: typeof showModalLoading === \"function\"\r\n\t\t\t? showModalLoading\r\n\t\t\t: () => {\r\n\t\t\t\t\treturn null;\r\n\t\t\t  };\r\n\t//处理value\r\n\tuseEffect(() => {\r\n\t\tif (!Array.isArray(value) || !value.length) {\r\n\t\t\tsetFileState({\r\n\t\t\t\tfileList: [],\r\n\t\t\t\tsetTruefileList: [],\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst hasGetDetailIds = value.filter(server => {\r\n\t\t\tconst isObject = dataType.isObject(server);\r\n\t\t\tconst currentServers = getFileUids(hasUploadDoneServerIdsRef.current, \"serverId\");\r\n\r\n\t\t\tconst hasServer = currentServers.find(item =>\r\n\t\t\t\tisObject\r\n\t\t\t\t\t? item[uploaderResponse.id]\r\n\t\t\t\t\t\t? item[uploaderResponse.id] === server[uploaderResponse.id]\r\n\t\t\t\t\t\t: item[uploaderResponse.filePath] === server[uploaderResponse.filePath]\r\n\t\t\t\t\t: item === server,\r\n\t\t\t);\r\n\t\t\treturn !hasServer;\r\n\t\t});\r\n\t\tif (hasGetDetailIds.length) {\r\n\t\t\tconst files = hasGetDetailIds\r\n\t\t\t\t.filter(item => {\r\n\t\t\t\t\tconst isPic = dataType.isObject(item) ? item[uploaderResponse.filePath] : item;\r\n\t\t\t\t\tif (!isPic) {\r\n\t\t\t\t\t\tconsole.warn(\"上传控件的value缺少相关的文件地址\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn isPic;\r\n\t\t\t\t})\r\n\t\t\t\t.map(item => {\r\n\t\t\t\t\tconst isObject = dataType.isObject(item);\r\n\t\t\t\t\thasUploadDoneServerIdsRef.current.push({\r\n\t\t\t\t\t\tuid: isObject ? item[uploaderResponse.id] || item[uploaderResponse.filePath] : item,\r\n\t\t\t\t\t\tserverId: item,\r\n\t\t\t\t\t});\r\n\t\t\t\t\tif (isObject) {\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\tuid: item[uploaderResponse.id] || item[uploaderResponse.filePath],\r\n\t\t\t\t\t\t\tname: `${item[uploaderResponse.originalFileName]}.${item[uploaderResponse.fileSuffix]}`,\r\n\t\t\t\t\t\t\tstatus: \"done\",\r\n\t\t\t\t\t\t\ttype:\r\n\t\t\t\t\t\t\t\titem[uploaderResponse.fileSuffix] &&\r\n\t\t\t\t\t\t\t\t/(webp|svg|png|gif|jpg|jpeg|bmp|dpg)$/.test(item[uploaderResponse.fileSuffix])\r\n\t\t\t\t\t\t\t\t\t? \"image\"\r\n\t\t\t\t\t\t\t\t\t: \"\",\r\n\t\t\t\t\t\t\turl: item[uploaderResponse.filePath],\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\tuid: item,\r\n\t\t\t\t\t\t\tname: \"\",\r\n\t\t\t\t\t\t\tstatus: \"done\",\r\n\t\t\t\t\t\t\ttype: /\\.(webp|svg|png|gif|jpg|jpeg|bmp|dpg)$/.test(item) ? \"image\" : \"\",\r\n\t\t\t\t\t\t\turl: item,\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\tsetFileState({\r\n\t\t\t\tfileList: [...fileState.fileList, ...files],\r\n\t\t\t\tsetTruefileList: [...fileState.setTruefileList, ...files],\r\n\t\t\t});\r\n\t\t}\r\n\t}, [value]);\r\n\t//上传文件\r\n\tconst uploadAsync = () => {\r\n\t\tif (!config.url) {\r\n\t\t\tmessage.error(\"未配置上传多文件的后台地址\");\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst userinfo = getUserInfo();\r\n\t\tconst userId = userinfo && userinfo.userDO ? userinfo.userDO.id : \"\";\r\n\t\t// console.log(\"userinfo---\", userinfo);\r\n\t\tconst formData = new FormData();\r\n\t\tnoUploader.forEach(file => {\r\n\t\t\tformData.append(config.urlParamName ? config.urlParamName : \"files\", file);\r\n\t\t});\r\n\t\tshowLoading(true, modalRef.current, \"上传中...\");\r\n\t\tif (config.url)\r\n\t\t\thttpAjax(\r\n\t\t\t\tconfig.urlMethod ? config.urlMethod : \"post\",\r\n\t\t\t\t`${config.url}?${config.userIdName ? config.userIdName : \"userId\"}=${userId}`,\r\n\t\t\t\tformData,\r\n\t\t\t)\r\n\t\t\t\t.then(re => {\r\n\t\t\t\t\tconst ulploadData = isSingle ? [re.data] : re.data;\r\n\t\t\t\t\thasUploadDoneServerIdsRef.current = [\r\n\t\t\t\t\t\t...hasUploadDoneServerIdsRef.current,\r\n\t\t\t\t\t\t...ulploadData.map((server, i) => {\r\n\t\t\t\t\t\t\treturn { uid: noUploader[i].uid, serverId: server };\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\t];\r\n\t\t\t\t\tsetFileState({\r\n\t\t\t\t\t\t...fileState,\r\n\t\t\t\t\t\tfileList: fileState.fileList.map(file => {\r\n\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t...file,\r\n\t\t\t\t\t\t\t\tstatus: getFileUids(hasUploadDoneServerIdsRef.current).includes(file.uid)\r\n\t\t\t\t\t\t\t\t\t? \"done\"\r\n\t\t\t\t\t\t\t\t\t: \"undetermined\",\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\t});\r\n\t\t\t\t\tmessage.success(\"上传成功。\");\r\n\t\t\t\t\ttypeof onChange === \"function\" &&\r\n\t\t\t\t\t\tonChange(getFileUids(hasUploadDoneServerIdsRef.current, \"serverId\"));\r\n\t\t\t\t})\r\n\t\t\t\t.catch(re => {\r\n\t\t\t\t\tmessage.error(re && re.msg ? re.msg : \"上传失败。\");\r\n\t\t\t\t\t//自动上传模式，上传失败时移除列表\r\n\t\t\t\t\tif (autoUpload) {\r\n\t\t\t\t\t\tsetFileState({\r\n\t\t\t\t\t\t\tfileList: fileState.fileList.filter(file => {\r\n\t\t\t\t\t\t\t\tconst isNoUploader = noUploader.find(item => item.uid === file.uid);\r\n\t\t\t\t\t\t\t\treturn !isNoUploader;\r\n\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\tsetTruefileList: fileState.setTruefileList.filter(file => {\r\n\t\t\t\t\t\t\t\tconst isNoUploader = noUploader.find(item => item.uid === file.uid);\r\n\t\t\t\t\t\t\t\treturn !isNoUploader;\r\n\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.finally(() => {\r\n\t\t\t\t\tshowLoading(false, modalRef.current);\r\n\t\t\t\t});\r\n\t};\r\n\t//确认上传事件\r\n\tconst handleUpload = () => {\r\n\t\tif (noUploader.length) {\r\n\t\t\tuploadAsync();\r\n\t\t}\r\n\t};\r\n\t//确认上传按钮\r\n\tconst commitButton = isPictureCardType ? (\r\n\t\t<div\r\n\t\t\tclassName=\"ant-upload ant-upload-select ant-upload-select-picture-card z-float-left z-flex-items-center\"\r\n\t\t\tonClick={handleUpload}\r\n\t\t>\r\n\t\t\t<Icon type=\"check\" />\r\n\t\t\t<div>确认上传</div>\r\n\t\t</div>\r\n\t) : (\r\n\t\t<div className=\"z-liveform-upload-btn z-margin-top-10\" onClick={handleUpload}>\r\n\t\t\t<span>\r\n\t\t\t\t<Icon type=\"check\" /> 确认上传\r\n\t\t\t</span>\r\n\t\t</div>\r\n\t);\r\n\tconst uploadButtonName = isOnlyPicture ? \"选择图片\" : \"选择文件\";\r\n\t//选文件按钮\r\n\tconst uploadButton =\r\n\t\tisSingle && noUploader.length ? null : isPictureCardType ? (\r\n\t\t\t<span>\r\n\t\t\t\t<Icon type=\"upload\" /> {uploadButtonName}\r\n\t\t\t</span>\r\n\t\t) : (\r\n\t\t\t<div className=\"z-liveform-upload-btn\">\r\n\t\t\t\t<span>\r\n\t\t\t\t\t<Icon type=\"upload\" /> {uploadButtonName}\r\n\t\t\t\t</span>\r\n\t\t\t</div>\r\n\t\t);\r\n\tconst viewerRef = useRef();\r\n\tuseEffect(() => {\r\n\t\tautoUpload && !isSourceFile && handleUpload();\r\n\t}, [fileState]);\r\n\treturn (\r\n\t\t<div className=\"z-liveform-upload-wrapper z-clear-fix\" ref={wrapperElRef}>\r\n\t\t\t{/* 使用antd的上传组件 */}\r\n\t\t\t{getControl(\"Upload\", {\r\n\t\t\t\tdisabled: !!field.disabled,\r\n\t\t\t\tchildren: maxUploadLength && maxUploadLength <= fileState.fileList.length ? null : uploadButton,\r\n\t\t\t\tmultiple: false,\r\n\t\t\t\t// action: config.url,\r\n\t\t\t\tlistType: fileListType,\r\n\t\t\t\tname: \"file\",\r\n\t\t\t\tclassName: `z-liveform-upload ${fileListType === \"picture-card\" ? \"z-float-left\" : \"\"}`,\r\n\t\t\t\taccept: fileAccept !== \"all\" ? fileAccept : undefined,\r\n\t\t\t\t//onChange={this.handleUploadChange}\r\n\t\t\t\tfileList: fileState.fileList,\r\n\t\t\t\tonPreview: file => {\r\n\t\t\t\t\t// console.log(\"----\", file, fileState.fileList);\r\n\t\t\t\t\tif (file.type && !file.type.includes(\"image\")) {\r\n\t\t\t\t\t\tmessage.error(\"无法预览非图片文件\");\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tviewerRef.current && viewerRef.current.viewer.show(true);\r\n\t\t\t\t\tviewerRef.current &&\r\n\t\t\t\t\t\tviewerRef.current.viewer.view(fileState.fileList.findIndex(item => item.url === file.url));\r\n\t\t\t\t},\r\n\t\t\t\t//移除\r\n\t\t\t\tonRemove: file => {\r\n\t\t\t\t\tfunction removeFlieFromList() {\r\n\t\t\t\t\t\tconst index = fileState.fileList.findIndex(item => {\r\n\t\t\t\t\t\t\treturn item.uid === file.uid;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tconst serverIndex = hasUploadDoneServerIdsRef.current.findIndex(item => {\r\n\t\t\t\t\t\t\treturn item.uid === file.uid;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tif (serverIndex > -1) {\r\n\t\t\t\t\t\t\thasUploadDoneServerIdsRef.current.splice(serverIndex, 1);\r\n\t\t\t\t\t\t\ttypeof onChange === \"function\" &&\r\n\t\t\t\t\t\t\t\tonChange(getFileUids(hasUploadDoneServerIdsRef.current, \"serverId\"));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (index > -1) {\r\n\t\t\t\t\t\t\tfileState.fileList.splice(index, 1);\r\n\t\t\t\t\t\t\tfileState.setTruefileList.splice(index, 1);\r\n\t\t\t\t\t\t\tsetFileState({\r\n\t\t\t\t\t\t\t\tfileList: [...fileState.fileList],\r\n\t\t\t\t\t\t\t\tsetTruefileList: [...fileState.setTruefileList],\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (getFileUids(hasUploadDoneServerIdsRef.current).includes(file.uid)) {\r\n\t\t\t\t\t\tModal.confirm({\r\n\t\t\t\t\t\t\ttitle: \"此文件已上传到服务器，确定从列表中移除?\",\r\n\t\t\t\t\t\t\tcontent: \"\",\r\n\t\t\t\t\t\t\tokText: \"确定\",\r\n\t\t\t\t\t\t\tcancelText: \"取消\",\r\n\t\t\t\t\t\t\tonOk() {\r\n\t\t\t\t\t\t\t\tremoveFlieFromList();\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t// onCancel() {\r\n\t\t\t\t\t\t\t// \tconsole.log(\"Cancel\");\r\n\t\t\t\t\t\t\t// },\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tremoveFlieFromList();\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t//取消自动上传，实现手动上传\r\n\t\t\t\tbeforeUpload: file => {\r\n\t\t\t\t\t// console.log(\"--beforeload--\", file);\r\n\t\t\t\t\tconst currM = file.size / 1024 / 1024;\r\n\t\t\t\t\tif (currM > maxMegabytes) {\r\n\t\t\t\t\t\tmessage.error(`选择的文件近${currM.toFixed(2)}M,不允许上传超过${maxMegabytes}M的文件`);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tlet reader = new FileReader();\r\n\t\t\t\t\treader.readAsDataURL(file);\r\n\t\t\t\t\treader.onloadend = () => {\r\n\t\t\t\t\t\tlet setTruefileList = [];\r\n\r\n\t\t\t\t\t\tif (isSourceFile) {\r\n\t\t\t\t\t\t\tconst sourceFile = {\r\n\t\t\t\t\t\t\t\t[uploaderResponse.id]: file.uid,\r\n\t\t\t\t\t\t\t\tuid: file.uid,\r\n\t\t\t\t\t\t\t\t[uploaderResponse.filePath]: reader.result,\r\n\t\t\t\t\t\t\t\tsourceFile: file,\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\thasUploadDoneServerIdsRef.current = [\r\n\t\t\t\t\t\t\t\t...hasUploadDoneServerIdsRef.current,\r\n\t\t\t\t\t\t\t\t{ uid: file.uid, serverId: sourceFile },\r\n\t\t\t\t\t\t\t];\r\n\t\t\t\t\t\t\tsetTruefileList = [...fileState.setTruefileList, sourceFile];\r\n\t\t\t\t\t\t\ttypeof onChange === \"function\" && onChange(setTruefileList);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tsetTruefileList = [...fileState.setTruefileList, file];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tsetFileState({\r\n\t\t\t\t\t\t\tfileList: [\r\n\t\t\t\t\t\t\t\t...fileState.fileList,\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tuid: file.uid,\r\n\t\t\t\t\t\t\t\t\tname: file.name,\r\n\t\t\t\t\t\t\t\t\tstatus: \"undetermined\",\r\n\t\t\t\t\t\t\t\t\ttype: file.type,\r\n\t\t\t\t\t\t\t\t\turl: reader.result,\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\tsetTruefileList,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t};\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t},\r\n\t\t\t})}\r\n\t\t\t{noUploader.length && !autoUpload && !isSourceFile ? commitButton : null}\r\n\t\t\t{fileState.fileList.length\r\n\t\t\t\t? ReactDOM.createPortal(\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tposition: \"fixed\",\r\n\t\t\t\t\t\t\t\tvisibility: \"hidden\",\r\n\t\t\t\t\t\t\t\ttop: 0,\r\n\t\t\t\t\t\t\t\tleft: 0,\r\n\t\t\t\t\t\t\t\twidth: \"100%\",\r\n\t\t\t\t\t\t\t\ttransform: \"translate(-100%,0)\",\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Zviewer\r\n\t\t\t\t\t\t\t\turls={fileState.fileList\r\n\t\t\t\t\t\t\t\t\t.filter(item => item.type && item.type.includes(\"image\"))\r\n\t\t\t\t\t\t\t\t\t.map(item => item.url)}\r\n\t\t\t\t\t\t\t\tref={viewerRef}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>,\r\n\t\t\t\t\t\tdocument.body,\r\n\t\t\t\t  )\r\n\t\t\t\t: null}\r\n\t\t</div>\r\n\t);\r\n});\r\nMyUpload.propTypes = propTypes;\r\nMyUpload.defaultProps = defaultProps;\r\nexport default ZerodMainContext.setConsumer(ZerodLayerContext.setConsumer(React.memo(MyUpload)));\r\n","module.exports = (__webpack_require__(\"9w1k\"))(305);","import React, { useEffect, useState } from \"react\";\r\nimport { getControl } from \"../Zform/controls\";\r\nimport { dataType } from \"../zTool\";\r\nimport ZerodMainContext from \"../ZerodMainContext\";\r\nimport ZerodLayerContext from \"../ZerodLayerContext\";\r\nimport httpAjax from \"../zTool/httpAjax\";\r\nimport { message } from \"antd\";\r\n\r\nconst LoadMapIframe = React.forwardRef(function(props, ref) {\r\n\tconst { mapType, value, onChange } = props;\r\n\tuseEffect(() => {\r\n\t\tlet messageCallback = null;\r\n\t\tif (mapType === \"amap\") {\r\n\t\t\t//高德地图\r\n\t\t\tconst iframe = document.getElementById(\"addressIframe\").contentWindow;\r\n\t\t\tdocument.getElementById(\"addressIframe\").onload = function() {\r\n\t\t\t\tiframe.postMessage(\"hello\", \"https://m.amap.com/picker/\");\r\n\t\t\t};\r\n\t\t\tmessageCallback = function(event) {\r\n\t\t\t\tconst loc = event.data;\r\n\t\t\t\tconst latlng = loc.location.split(\",\");\r\n\t\t\t\tonChange &&\r\n\t\t\t\t\tonChange({\r\n\t\t\t\t\t\tname: `${loc.name}(${loc.address})`,\r\n\t\t\t\t\t\taddress: loc.address,\r\n\t\t\t\t\t\tlongitude: latlng[0],\r\n\t\t\t\t\t\tlatitude: latlng[1],\r\n\t\t\t\t\t});\r\n\t\t\t};\r\n\t\t} else if (mapType === \"qqmap\") {\r\n\t\t\t//腾讯地图\r\n\t\t\tmessageCallback = function(event) {\r\n\t\t\t\t// 接收位置信息，用户选择确认位置点后选点组件会触发该事件，回传用户的位置信息\r\n\t\t\t\tconst loc = event.data;\r\n\t\t\t\tif (loc && loc.module == \"locationPicker\") {\r\n\t\t\t\t\t//防止其他应用也会向该页面post信息，需判断module是否为'locationPicker'\r\n\t\t\t\t\tonChange &&\r\n\t\t\t\t\t\tonChange({\r\n\t\t\t\t\t\t\tname: `${loc.poiname}(${loc.poiaddress})`,\r\n\t\t\t\t\t\t\taddress: loc.poiaddress,\r\n\t\t\t\t\t\t\tlongitude: loc.latlng.lng,\r\n\t\t\t\t\t\t\tlatitude: loc.latlng.lat,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t}\r\n\t\tif (messageCallback) {\r\n\t\t\twindow.addEventListener(\"message\", messageCallback, false);\r\n\r\n\t\t\treturn () => {\r\n\t\t\t\twindow.removeEventListener(\"message\", messageCallback, false);\r\n\t\t\t};\r\n\t\t}\r\n\t}, []);\r\n\tlet url = \"\";\r\n\tlet center = \"\";\r\n\tif (dataType.isObject(value)) {\r\n\t\tcenter = `${value.longitude},${value.latitude}`;\r\n\t}\r\n\tif (mapType === \"amap\") {\r\n\t\turl = `https://m.amap.com/picker/?center=${center}&key=3d5c1c6169c64554d6f9fcca35d4abff&total=20&keywords=街道`;\r\n\t} else if (mapType === \"qqmap\") {\r\n\t\turl = `https://apis.map.qq.com/tools/locpicker?coord=${center}&search=1&type=1&key=63QBZ-B5GKV-46RPH-UCUF2-K5TUJ-OKBAK&referer=wx_map&total=20`;\r\n\t}\r\n\treturn <iframe frameBorder=\"0\" width=\"100%\" height=\"100%\" id=\"addressIframe\" src={url} />;\r\n});\r\n\r\nfunction getWebService(\r\n\twebserviceUrlDO = { urlMethod: \"post\", url: \"/form-service/webapi/geography/webService\" },\r\n\tquery,\r\n) {\r\n\treturn httpAjax(webserviceUrlDO.urlMethod, webserviceUrlDO.url, query);\r\n}\r\n\r\n//获取坐标位置详细信息\r\nconst geocoder = {\r\n\tamap: (location, webserviceUrlDO) => {\r\n\t\treturn getWebService(webserviceUrlDO, {\r\n\t\t\tserviceApi: `https://restapi.amap.com/v3/geocode/regeo`,\r\n\t\t\tquery: {\r\n\t\t\t\tkey: \"8c0945ac5a3ca41937724434563346c2\",\r\n\t\t\t\t//高德的是\"经度,纬度\"\r\n\t\t\t\tlocation: `${location.longitude},${location.latitude}`,\r\n\t\t\t},\r\n\t\t});\r\n\t},\r\n\tqqmap: (location, webserviceUrlDO) => {\r\n\t\treturn getWebService(webserviceUrlDO, {\r\n\t\t\tserviceApi: `https://apis.map.qq.com/ws/geocoder/v1`,\r\n\t\t\tquery: {\r\n\t\t\t\tkey: \"63QBZ-B5GKV-46RPH-UCUF2-K5TUJ-OKBAK\",\r\n\t\t\t\t//腾讯的是\"纬度,经度\"\r\n\t\t\t\tlocation: `${location.latitude},${location.longitude}`,\r\n\t\t\t},\r\n\t\t});\r\n\t},\r\n};\r\n\r\nexport const MapChooseAddress = React.memo(\r\n\tReact.forwardRef(function(props, ref) {\r\n\t\tconst {\r\n\t\t\tvalue,\r\n\t\t\tonChange,\r\n\t\t\tplaceholder,\r\n\t\t\tshowRightModal,\r\n\t\t\tshowModalLoading,\r\n\t\t\tshowLayerRightModal,\r\n\t\t\tshowLayerModalLoading,\r\n\t\t\tmapType,\r\n\t\t\tdisabled,\r\n\t\t\twebserviceUrlDO,\r\n\t\t} = props;\r\n\t\tconst thisType = mapType || \"qqmap\";\r\n\t\tconst [inputValue, setInputValue] = useState();\r\n\t\tuseEffect(() => {\r\n\t\t\tsetInputValue(dataType.isObject(value) ? value.name : \"\");\r\n\t\t}, [value]);\r\n\t\tconst triggerModal = showLayerRightModal || showRightModal;\r\n\t\tconst triggerModalLodaing = showLayerModalLoading || showModalLoading;\r\n\t\t// useEffect(() => {}, []);\r\n\t\tconst openMap = () => {\r\n\t\t\ttriggerModal({\r\n\t\t\t\tshow: true,\r\n\t\t\t\tmodal: \"addressModal\",\r\n\t\t\t\tscroll: false,\r\n\t\t\t\twidth: \"500px\",\r\n\t\t\t\tcontent: (\r\n\t\t\t\t\t<LoadMapIframe\r\n\t\t\t\t\t\tmapType={thisType}\r\n\t\t\t\t\t\tvalue={value}\r\n\t\t\t\t\t\tonChange={val => {\r\n\t\t\t\t\t\t\ttriggerModalLodaing(true, \"addressModal\");\r\n\t\t\t\t\t\t\tgeocoder[thisType](val, webserviceUrlDO)\r\n\t\t\t\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\t\t\t\tlet area = {};\r\n\t\t\t\t\t\t\t\t\tif (thisType === \"amap\") {\r\n\t\t\t\t\t\t\t\t\t\tconst ac = res.data.regeocode.addressComponent;\r\n\t\t\t\t\t\t\t\t\t\tarea = {\r\n\t\t\t\t\t\t\t\t\t\t\tadcode: ac.adcode,\r\n\t\t\t\t\t\t\t\t\t\t\tcitycode: ac.citycode,\r\n\t\t\t\t\t\t\t\t\t\t\tcountry: ac.country,\r\n\t\t\t\t\t\t\t\t\t\t\ttowncode: ac.towncode,\r\n\t\t\t\t\t\t\t\t\t\t\tprovince: ac.province === ac.city ? \"\" : ac.province,\r\n\t\t\t\t\t\t\t\t\t\t\tcity: ac.city,\r\n\t\t\t\t\t\t\t\t\t\t\tdistrict: ac.district,\r\n\t\t\t\t\t\t\t\t\t\t\tstreet: ac.streetNumber ? ac.streetNumber.street : \"\",\r\n\t\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t\t} else if (thisType === \"qqmap\") {\r\n\t\t\t\t\t\t\t\t\t\tconst ac = res.data.result.ad_info;\r\n\t\t\t\t\t\t\t\t\t\tarea = {\r\n\t\t\t\t\t\t\t\t\t\t\tadcode: ac.adcode, //区划编码\r\n\t\t\t\t\t\t\t\t\t\t\tcitycode: ac.city_code,\r\n\t\t\t\t\t\t\t\t\t\t\tcountry: ac.nation, //国\r\n\t\t\t\t\t\t\t\t\t\t\tprovince: ac.province === ac.city ? \"\" : ac.province, //省\r\n\t\t\t\t\t\t\t\t\t\t\tcity: ac.city, //城市\r\n\t\t\t\t\t\t\t\t\t\t\tdistrict: ac.district, //区\r\n\t\t\t\t\t\t\t\t\t\t\tstreet: ac.street, //街道\r\n\t\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tonChange && onChange({ ...val, ...area });\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t.catch(re => {\r\n\t\t\t\t\t\t\t\t\tmessage.error(re && re.msg ? re.msg : \"获取区划信息失败，请重试\");\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t.finally(() => {\r\n\t\t\t\t\t\t\t\t\ttriggerModalLodaing(false, \"addressModal\");\r\n\t\t\t\t\t\t\t\t\ttriggerModal({\r\n\t\t\t\t\t\t\t\t\t\tshow: false,\r\n\t\t\t\t\t\t\t\t\t\tmodal: \"addressModal\",\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t),\r\n\t\t\t});\r\n\t\t};\r\n\t\treturn getControl(\"Input\", {\r\n\t\t\tvalue: inputValue,\r\n\t\t\taddonAfter: (\r\n\t\t\t\t<i className=\"zero-icon zerod-address z-address-btn\" onClick={!disabled ? openMap : undefined} />\r\n\t\t\t),\r\n\t\t\tplaceholder,\r\n\t\t\tonChange(e) {\r\n\t\t\t\tif (dataType.isObject(value)) {\r\n\t\t\t\t\tvalue.name = e;\r\n\t\t\t\t\tsetInputValue(value.name);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonBlur(e) {\r\n\t\t\t\tif (dataType.isObject(value)) {\r\n\t\t\t\t\tvalue.name = e;\r\n\t\t\t\t\tonChange && onChange({ ...value });\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonFocus() {\r\n\t\t\t\tif (!dataType.isObject(value) && !disabled) {\r\n\t\t\t\t\topenMap();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t});\r\n\t}),\r\n);\r\n\r\nexport default ZerodMainContext.setConsumer(ZerodLayerContext.setConsumer(MapChooseAddress));\r\n","import React, { useState, useEffect, useRef, useImperativeHandle, useCallback } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { getControl, regExps } from \"../Zform/controls\";\r\nimport { Input } from \"antd\";\r\nconst InputGroup = Input.Group;\r\nconst regExpsList = [{ label: \"自定义\", value: \"custom\", pattern: \"\" }].concat(\r\n\tObject.keys(regExps).map(key => {\r\n\t\treturn {\r\n\t\t\t...regExps[key],\r\n\t\t\tpattern: regExps[key].pattern.toString().replace(/(^\\/|\\/$)/g, \"\"),\r\n\t\t\tvalue: key,\r\n\t\t\tlabel: regExps[key].name,\r\n\t\t};\r\n\t}),\r\n);\r\n\r\nexport default React.memo(\r\n\tReact.forwardRef(function ZauxiliaryInput(props, ref) {\r\n\t\tconst { value, onChange } = props;\r\n\t\tconst [inputValue, setInputValue] = useState(\"\");\r\n\t\tconst [selectValue, setSelectValue] = useState(\"custom\");\r\n\t\tfunction setVals(pattern) {\r\n\t\t\tconst selected = regExpsList.find(item => {\r\n\t\t\t\treturn item.pattern === pattern;\r\n\t\t\t});\r\n\t\t\tsetSelectValue(selected ? selected.value : \"custom\");\r\n\t\t\tsetInputValue(pattern);\r\n\t\t}\r\n\t\tuseEffect(() => {\r\n\t\t\tsetVals(value);\r\n\t\t}, [value]);\r\n\t\treturn (\r\n\t\t\t<InputGroup compact>\r\n\t\t\t\t{getControl(\"Input\", {\r\n\t\t\t\t\tvalue: inputValue,\r\n\t\t\t\t\tonChange(e) {\r\n\t\t\t\t\t\tsetVals(e);\r\n\t\t\t\t\t\tonChange(e);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\twidth: \"75%\",\r\n\t\t\t\t\t},\r\n\t\t\t\t})}\r\n\t\t\t\t{getControl(\"Select\", {\r\n\t\t\t\t\tvalue: selectValue,\r\n\t\t\t\t\tonChange(val) {\r\n\t\t\t\t\t\tconst selected = regExpsList.find(item => {\r\n\t\t\t\t\t\t\treturn item.value === val;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tif (selected) {\r\n\t\t\t\t\t\t\tsetInputValue(selected.pattern);\r\n\t\t\t\t\t\t\tonChange(selected.pattern);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tsetSelectValue(val);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tselectList: regExpsList,\r\n\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\twidth: \"25%\",\r\n\t\t\t\t\t},\r\n\t\t\t\t})}\r\n\t\t\t</InputGroup>\r\n\t\t);\r\n\t}),\r\n);\r\n","module.exports = (__webpack_require__(\"9w1k\"))(316);","import React, { useState, useEffect } from \"react\";\r\nimport { getControl } from \"../Zform/controls\";\r\nimport { httpAjax } from \"../zTool\";\r\n//Cascader 异步加载子节点组件\r\nconst CascaderLoader = React.forwardRef(function(props, ref) {\r\n\tconst {\r\n\t\tchangeOnSelect,\r\n\t\tselectList,\r\n\t\tselectionsUrl,\r\n\t\tselectionsQuery,\r\n\t\tselectListFieldNames,\r\n\t\toptionsChange,\r\n\t\t...others\r\n\t} = props;\r\n\tconst [options, setOptions] = useState([]);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetOptions(selectList);\r\n\t}, [selectList]);\r\n\tuseEffect(() => {\r\n\t\toptionsChange && optionsChange(options);\r\n\t}, [options]);\r\n\treturn getControl(\"Cascader\", {\r\n\t\t...others,\r\n\t\toptions,\r\n\t\tchangeOnSelect: Boolean(changeOnSelect),\r\n\t\tshowSearch: false,\r\n\t\tloadData:\r\n\t\t\tselectionsUrl && selectionsUrl.requireType === \"part\"\r\n\t\t\t\t? selectedOptions => {\r\n\t\t\t\t\t\tconst targetOption = selectedOptions[selectedOptions.length - 1];\r\n\t\t\t\t\t\ttargetOption.loading = true;\r\n\t\t\t\t\t\thttpAjax(selectionsUrl.selectionsUrlMethod, selectionsUrl.selectionsUrl, {\r\n\t\t\t\t\t\t\t...selectionsQuery,\r\n\t\t\t\t\t\t\tid: targetOption.value,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.then(re => {\r\n\t\t\t\t\t\t\t\tif (Array.isArray(re.data) && re.data.length) {\r\n\t\t\t\t\t\t\t\t\ttargetOption.children = treeDataAddKey(\r\n\t\t\t\t\t\t\t\t\t\tre.data,\r\n\t\t\t\t\t\t\t\t\t\tundefined,\r\n\t\t\t\t\t\t\t\t\t\tselectListFieldNames,\r\n\t\t\t\t\t\t\t\t\t\tfalse,\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\ttargetOption.children = null;\r\n\t\t\t\t\t\t\t\t\ttargetOption.isLeaf = true;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.catch(re => {\r\n\t\t\t\t\t\t\t\ttargetOption.children = null;\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.finally(() => {\r\n\t\t\t\t\t\t\t\ttargetOption.loading = false;\r\n\t\t\t\t\t\t\t\tsetOptions([...options]);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t  }\r\n\t\t\t\t: undefined,\r\n\t});\r\n});\r\n\r\nexport default CascaderLoader;\r\n","/*\r\n * @Author: zgt\r\n * @Date: 2019-03-29 12:10:53\r\n * @LastEditors: zgt\r\n * @LastEditTime: 2019-09-29 19:55:45\r\n * @Description: file content\r\n */\r\nimport React, { useEffect, useRef, useCallback } from \"react\";\r\nimport { dataType } from \"../zTool\";\r\nimport { Button } from \"antd\";\r\nimport linkageAction, { autoCheckedBySelected } from \"./linkageAction\";\r\nimport { pareLinkages } from \"./common\";\r\n//返回获取最新formGroups的callback\r\nexport function useGetGroupsCallback(formGroups) {\r\n\tconst groupsRef = useRef();\r\n\tuseEffect(() => {\r\n\t\tgroupsRef.current = formGroups;\r\n\t}, [formGroups]);\r\n\r\n\treturn useCallback(() => {\r\n\t\treturn groupsRef.current;\r\n\t}, [groupsRef.current]);\r\n}\r\n//返回执行linkageAction的callback\r\nexport function useLinkageCallback(formData, getGroupsFn) {\r\n\tconst doLinkage = useCallback(\r\n\t\tselfItem => {\r\n\t\t\tif (formData) {\r\n\t\t\t\tconst linkages = pareLinkages(formData.linkages);\r\n\t\t\t\tautoCheckedBySelected(linkages, getGroupsFn);\r\n\t\t\t\tlinkageAction(linkages, getGroupsFn, selfItem);\r\n\t\t\t}\r\n\t\t},\r\n\t\t[getGroupsFn, formData],\r\n\t);\r\n\treturn doLinkage;\r\n}\r\n//返回获取formGroups中非隐藏的forms的callback\r\nexport function useGetOtherFormsCallback(formGroups) {\r\n\treturn useCallback(\r\n\t\tcurrentForm => {\r\n\t\t\tconst forms = Array.isArray(formGroups)\r\n\t\t\t\t? formGroups.filter(g => {\r\n\t\t\t\t\t\tif (!g.groupRef.current) {\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tconst o = g.groupRef.current.getForm();\r\n\t\t\t\t\t\treturn currentForm !== o.form && g.groupRef.current.getShowState();\r\n\t\t\t\t  })\r\n\t\t\t\t: [];\r\n\r\n\t\t\treturn forms.map(g => g.groupRef.current.getForm().form);\r\n\t\t},\r\n\t\t[formGroups],\r\n\t);\r\n}\r\n\r\nexport function getEachFormMethod(formGroups, isAll) {\r\n\tlet subForm = isAll ? [] : null;\r\n\tfor (let index = 0; index < formGroups.length; index++) {\r\n\t\tconst g = formGroups[index];\r\n\t\tif (g.groupRef.current.getShowState()) {\r\n\t\t\tif (isAll) {\r\n\t\t\t\tsubForm.push(g.groupRef.current.getForm());\r\n\t\t\t} else {\r\n\t\t\t\tsubForm = g.groupRef.current.getForm();\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn subForm;\r\n}\r\n\r\n//返回执行formGroups中任意一个非隐藏的onSubmit的callback\r\nexport function useDoSubmitCallback(formGroups) {\r\n\treturn useCallback(\r\n\t\te => {\r\n\t\t\tconst subForm = getEachFormMethod(formGroups);\r\n\t\t\tif (subForm) {\r\n\t\t\t\tsubForm.methods.onSubmit(e);\r\n\t\t\t}\r\n\t\t},\r\n\t\t[formGroups],\r\n\t);\r\n}\r\nconst buttonType = {\r\n\t1: \"primary\",\r\n\t2: \"default\",\r\n\t3: \"dashed\",\r\n\t4: \"danger\",\r\n};\r\n//返回渲染提交按钮的函数\r\nexport function useSubmitBtn(formData, formGroups) {\r\n\tconst doSubmit = useDoSubmitCallback(formGroups);\r\n\treturn useCallback(() => {\r\n\t\treturn formData && dataType.isArray(formData.buttonList) ? (\r\n\t\t\t<div className=\"z-padding-bottom-20 z-text-center\">\r\n\t\t\t\t{formData.buttonList.map(e => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<Button key={e.value} type={buttonType[e.buttonType]} onClick={doSubmit}>\r\n\t\t\t\t\t\t\t{e.value}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t);\r\n\t\t\t\t})}\r\n\t\t\t</div>\r\n\t\t) : null;\r\n\t}, [formData, doSubmit]);\r\n}\r\n","export const linkageTypeActionName = {\r\n\t\"1\": \"禁用\",\r\n\t\"2\": \"必填\",\r\n\t\"3\": \"非必填\",\r\n\t\"4\": \"联动\",\r\n\t\"5.1\": \"组隐藏\",\r\n\t\"5.2\": \"隐藏\",\r\n\t\"6\": \"年月日\",\r\n};\r\n","/*\r\n * @Author: zgt\r\n * @Date: 2019-03-26 09:27:16\r\n * @LastEditors: zgt\r\n * @LastEditTime: 2019-10-15 14:59:29\r\n * @Description: file content\r\n */\r\nimport React from \"react\";\r\nimport linkageAction from \"./linkageAction\";\r\nimport { getControl, getOptions, regExps } from \"../Zform/controls\";\r\nimport { dataType, httpAjax } from \"../zTool\";\r\nimport ZeroUpload from \"./ZeroUpload\";\r\nimport moment from \"moment\";\r\nimport MapChooseAddress from \"./ZmapChooseAddress\";\r\nimport TreeSelectLoader from \"./TreeSelectLoader\";\r\nimport CascaderLoader from \"./CascaderLoader\";\r\n//处理默认的校验规则\r\nexport const getOptionsRules = function(e, rules = [], opt = {}) {\r\n\tconst reg = typeof e.regularExpression === \"string\" ? e.regularExpression.replace(/((^\\/)|(\\/$))/g, \"\") : \"\";\r\n\treturn getOptions({\r\n\t\t...opt,\r\n\t\trequired: e.required,\r\n\t\trequiredMsg: e.errorMsg,\r\n\t\tinitialValue: e.initialValue,\r\n\t\trules: reg\r\n\t\t\t? [\r\n\t\t\t\t\t...rules,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tpattern: reg,\r\n\t\t\t\t\t\tmessage: e.errorMsg,\r\n\t\t\t\t\t},\r\n\t\t\t  ]\r\n\t\t\t: rules,\r\n\t});\r\n};\r\n//日期/时间的格式\r\nexport const dateFormats = {\r\n\t\"YYYY-wo\": \"WeekPicker\",\r\n\tYYYY: \"YearPicker\",\r\n\t\"YYYY-MM\": \"MonthPicker\",\r\n\t\"YYYY-MM-DD\": \"DatePicker\",\r\n\t\"YYYY-MM-DD HH:mm\": \"DatePicker\",\r\n\t\"YYYY-MM-DD HH:mm:ss\": \"DatePicker\",\r\n\t\"YYYY-MM-DD h:mm a\": \"DatePicker\",\r\n\t\"YYYY-MM-DD h:mm:ss a\": \"DatePicker\",\r\n\t\"YYYY-MM-DD - YYYY-MM-DD\": \"RangePicker\",\r\n\t\"YYYY-MM-DD HH:mm - YYYY-MM-DD HH:mm\": \"RangePicker\",\r\n\t\"YYYY-MM-DD HH:mm:ss - YYYY-MM-DD HH:mm:ss\": \"RangePicker\",\r\n\t\"HH:mm\": \"TimePicker\",\r\n\t\"HH:mm:ss\": \"TimePicker\",\r\n\t\"h:mm a\": \"TimePicker\",\r\n\t\"h:mm:ss a\": \"TimePicker\",\r\n\t\"HH:mm - HH:mm\": \"TimeRange\",\r\n\t\"HH:mm:ss - HH:mm:ss\": \"TimeRange\",\r\n};\r\n//\r\nfunction docustomOnChange(e, opt, ...rest) {\r\n\tif (dataType.isObject(e.customOnChange)) {\r\n\t\tconst confun = e.customOnChange[e.fieldKey];\r\n\t\tdataType.isFunction(confun) && confun(e, e.imperative, ...rest);\r\n\t}\r\n\ttypeof opt.onChange === \"function\" && opt.onChange(...rest);\r\n}\r\nfunction treeDataAddKey(tree = [], distMap, srcMap, isLeaf) {\r\n\tconst distKey = Object.assign({ label: \"label\", value: \"value\", children: \"children\", key: \"key\" }, distMap || {});\r\n\tconst srcKey = Object.assign({ label: \"label\", value: \"value\", children: \"children\" }, srcMap || {});\r\n\treturn Array.isArray(tree)\r\n\t\t? tree.map(item => {\r\n\t\t\t\tconst ciilds = treeDataAddKey(item[srcKey.children], distKey, srcKey, isLeaf);\r\n\t\t\t\treturn {\r\n\t\t\t\t\t[distKey.label]: item[srcKey.label],\r\n\t\t\t\t\t[distKey.value]: item[srcKey.value],\r\n\t\t\t\t\t[distKey.children]: ciilds.length ? ciilds : null,\r\n\t\t\t\t\t[distKey.key]: item[srcKey.value],\r\n\t\t\t\t\tisLeaf,\r\n\t\t\t\t};\r\n\t\t  })\r\n\t\t: [];\r\n}\r\nconst defaultFieldConfig = {\r\n\tselectionsType: 1,\r\n\tselectionsUrl: {},\r\n\tselectList: [],\r\n\tselectionsQuery: {},\r\n\tselectListFieldNames: {},\r\n};\r\nfunction selectControl(controlName) {\r\n\treturn function(e = {}, linkages, getGroupsFn = () => [], opt = {}, requestQuery = {}, currentForm) {\r\n\t\tconst isAsync = opt.isAsync;\r\n\t\tdelete opt.isAsync;\r\n\t\tconst noAsync = opt.noAsync;\r\n\t\tdelete opt.noAsync;\r\n\t\tlet config = e.config || {};\r\n\t\tif (typeof e.config == \"string\") {\r\n\t\t\ttry {\r\n\t\t\t\tconfig = JSON.parse(e.config);\r\n\t\t\t} catch (e) {}\r\n\t\t}\r\n\t\tconfig = { ...defaultFieldConfig, ...config };\r\n\t\tconst { selectionsType, selectionsUrl, selectList, selectionsQuery, selectListFieldNames, ...others } = config;\r\n\t\tfunction getCurrentControl(selectList) {\r\n\t\t\tif (currentForm) {\r\n\t\t\t\t//保存已有的selectList\r\n\t\t\t\tcurrentForm.saveFieldOptions[e.fieldKey] = selectList;\r\n\t\t\t\tif (selectList.length) {\r\n\t\t\t\t\tselectList[0].selected = true;\r\n\t\t\t\t}\r\n\t\t\t\t// currentForm.saveOptionsMapKey[e.fieldKey] = selectListFieldNames;\r\n\t\t\t}\r\n\t\t\treturn getControl(controlName, {\r\n\t\t\t\tplaceholder: e.placeholder,\r\n\t\t\t\tselectList,\r\n\t\t\t\t...others,\r\n\t\t\t\t...opt,\r\n\t\t\t\tonChange: (...rest) => {\r\n\t\t\t\t\tlinkageAction(linkages, getGroupsFn, e);\r\n\t\t\t\t\tdocustomOnChange(e, opt, ...rest);\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t}\r\n\t\tlet hasAsync = false;\r\n\t\tif (!isAsync && currentForm) {\r\n\t\t\tconst currnetFormAllAsync = currentForm.getAsyncQueue();\r\n\t\t\tif (currnetFormAllAsync && currnetFormAllAsync.length) {\r\n\t\t\t\thasAsync = true;\r\n\t\t\t}\r\n\t\t}\r\n\t\t//异步类型\r\n\t\tif (selectionsType == 2 && !hasAsync && !noAsync) {\r\n\t\t\tif (!isAsync && currentForm && currentForm.saveFieldOptions[e.fieldKey]) {\r\n\t\t\t\treturn getCurrentControl(currentForm.saveFieldOptions[e.fieldKey]);\r\n\t\t\t}\r\n\t\t\treturn httpAjax(selectionsUrl.selectionsUrlMethod, selectionsUrl.selectionsUrl, {\r\n\t\t\t\t...selectionsQuery,\r\n\t\t\t\t...requestQuery,\r\n\t\t\t})\r\n\t\t\t\t.then(re => {\r\n\t\t\t\t\treturn getCurrentControl(treeDataAddKey(re.data, undefined, selectListFieldNames, undefined));\r\n\t\t\t\t})\r\n\t\t\t\t.catch(() => {\r\n\t\t\t\t\tif (currentForm) {\r\n\t\t\t\t\t\tcurrentForm.saveFieldOptions[e.fieldKey] = [];\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn getCurrentControl([]);\r\n\t\t\t\t});\r\n\t\t}\r\n\t\t//自定义选项类型\r\n\t\treturn getCurrentControl(treeDataAddKey(selectList, undefined, selectListFieldNames, undefined));\r\n\t};\r\n}\r\n\r\nconst controls = {\r\n\t//Input\r\n\t1: {\r\n\t\tgetControl(e = {}, linkages, getGroupsFn = () => [], opt = {}) {\r\n\t\t\tdelete opt.noAsync;\r\n\t\t\tlet config = e.config || {};\r\n\t\t\tif (typeof e.config == \"string\") {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconfig = JSON.parse(e.config);\r\n\t\t\t\t} catch (e) {}\r\n\t\t\t}\r\n\r\n\t\t\treturn getControl(\"Input\", {\r\n\t\t\t\tplaceholder: e.placeholder,\r\n\t\t\t\t...config,\r\n\t\t\t\t...opt,\r\n\t\t\t\tonBlur: (...rest) => {\r\n\t\t\t\t\tlinkageAction(linkages, getGroupsFn, e);\r\n\t\t\t\t},\r\n\t\t\t\tonChange: (...rest) => {\r\n\t\t\t\t\tdocustomOnChange(e, opt, ...rest);\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t},\r\n\t\tgetOptions(e, rules = []) {\r\n\t\t\tconst regType = e.regType; //regType 来自Zform/controls的regExps\r\n\t\t\treturn getOptionsRules(e, regType ? [regExps[regType], ...rules] : rules, { validateTrigger: \"onBlur\" });\r\n\t\t},\r\n\t},\r\n\t//TextArea\r\n\t2: {\r\n\t\tgetControl(e = {}, linkages, getGroupsFn = () => [], opt = {}) {\r\n\t\t\tdelete opt.noAsync;\r\n\t\t\tlet config = e.config || {};\r\n\t\t\tif (typeof e.config == \"string\") {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconfig = JSON.parse(e.config);\r\n\t\t\t\t} catch (e) {}\r\n\t\t\t}\r\n\r\n\t\t\treturn getControl(\"TextArea\", {\r\n\t\t\t\tplaceholder: e.placeholder,\r\n\t\t\t\t...config,\r\n\t\t\t\t...opt,\r\n\t\t\t\tonChange: (...rest) => {\r\n\t\t\t\t\tdocustomOnChange(e, opt, ...rest);\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t},\r\n\t\tgetOptions(e, rules = []) {\r\n\t\t\tconst regType = e.regType; //regType 来自Zform/controls的regExps\r\n\t\t\treturn getOptionsRules(e, regType ? [regExps[regType], ...rules] : rules, { validateTrigger: \"onBlur\" });\r\n\t\t},\r\n\t},\r\n\t//Select\r\n\t3: {\r\n\t\tgetControl: selectControl(\"Select\"),\r\n\t\tgetOptions(e, rules = []) {\r\n\t\t\tconst field = { ...e };\r\n\t\t\tlet config = e.config || {};\r\n\t\t\tif (typeof e.config == \"string\") {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconfig = JSON.parse(e.config);\r\n\t\t\t\t} catch (e) {}\r\n\t\t\t}\r\n\t\t\tconfig = { ...defaultFieldConfig, ...config };\r\n\t\t\tif ([\"multiple\", \"tags\"].includes(config.mode)) {\r\n\t\t\t\tfield.initialValue =\r\n\t\t\t\t\ttypeof field.initialValue === \"string\" ? field.initialValue.replace(\"，\", \",\").split(\",\") : [];\r\n\t\t\t}\r\n\t\t\treturn getOptionsRules(field, rules);\r\n\t\t},\r\n\t},\r\n\r\n\t//InputNumber\r\n\t4: {\r\n\t\tgetControl(e = {}, linkages, getGroupsFn = () => [], opt = {}) {\r\n\t\t\tdelete opt.noAsync;\r\n\t\t\tlet config = e.config || {};\r\n\t\t\tif (typeof e.config == \"string\") {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconfig = JSON.parse(e.config);\r\n\t\t\t\t} catch (e) {}\r\n\t\t\t}\r\n\r\n\t\t\treturn getControl(\"InputNumber\", {\r\n\t\t\t\tplaceholder: e.placeholder,\r\n\t\t\t\t...config,\r\n\t\t\t\t...opt,\r\n\t\t\t\tonChange: (...rest) => {\r\n\t\t\t\t\tdocustomOnChange(e, opt, ...rest);\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t},\r\n\t\tgetOptions: getOptionsRules,\r\n\t},\r\n\t//日期/时间控件\r\n\t5: {\r\n\t\tgetControl(e = {}, linkages, getGroupsFn = () => [], opt = {}) {\r\n\t\t\tdelete opt.noAsync;\r\n\t\t\tlet config = e.config || {};\r\n\t\t\tif (typeof e.config == \"string\") {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconfig = JSON.parse(e.config);\r\n\t\t\t\t} catch (e) {}\r\n\t\t\t}\r\n\r\n\t\t\tlet showTime = false;\r\n\t\t\tconfig.format = config.format ? config.format : \"\";\r\n\r\n\t\t\tlet format = config.format;\r\n\t\t\tconst setShowTime = format => {\r\n\t\t\t\tif (format.startsWith(\"YYYY\") && (format.includes(\"HH\") || format.includes(\"h\"))) {\r\n\t\t\t\t\tshowTime = {\r\n\t\t\t\t\t\tformat: format.split(\" \")[1],\r\n\t\t\t\t\t\tuse12Hours: format.includes(\"h\"),\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tif (config.format.includes(\" - \")) {\r\n\t\t\t\tformat = config.format.split(\" - \")[0];\r\n\t\t\t\t// console.log(format)\r\n\t\t\t\tsetShowTime(format);\r\n\t\t\t} else {\r\n\t\t\t\tsetShowTime(config.format);\r\n\t\t\t}\r\n\t\t\t// let defaultOpt = {};\r\n\t\t\tlet timeOpt = {\r\n\t\t\t\tshowTime,\r\n\t\t\t};\r\n\t\t\tif (dateFormats[config.format] === \"TimePicker\") {\r\n\t\t\t\ttimeOpt = { use12Hours: config.format.includes(\"h\") };\r\n\t\t\t}\r\n\r\n\t\t\treturn getControl(dateFormats[config.format], {\r\n\t\t\t\tformat,\r\n\t\t\t\tplaceholder: e.placeholder,\r\n\t\t\t\t...opt,\r\n\t\t\t\t...timeOpt,\r\n\t\t\t\t// ...defaultOpt,\r\n\t\t\t\tonChange: (...rest) => {\r\n\t\t\t\t\t// console.log(rest);\r\n\t\t\t\t\tdocustomOnChange(e, opt, ...rest);\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t},\r\n\t\tgetOptions(es, rules = []) {\r\n\t\t\tconst e = { ...es };\r\n\t\t\tlet config = e.config || {};\r\n\t\t\tif (typeof e.config == \"string\") {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconfig = JSON.parse(e.config);\r\n\t\t\t\t} catch (e) {}\r\n\t\t\t}\r\n\t\t\tconfig = { ...defaultFieldConfig, ...config };\r\n\t\t\tconfig.format = config.format ? config.format : \"\";\r\n\t\t\tconst isTimeRange = [\"RangePicker\", \"TimeRange\"].includes(dateFormats[config.format]);\r\n\t\t\tconst format = config.format.includes(\" - \") ? config.format.split(\" - \")[0] : config.format;\r\n\t\t\tif (isTimeRange) {\r\n\t\t\t\tif (e.required)\r\n\t\t\t\t\trules.push({\r\n\t\t\t\t\t\tvalidator(rule, value, callback) {\r\n\t\t\t\t\t\t\tif (Array.isArray(value) && value.length === 2) {\r\n\t\t\t\t\t\t\t\tcallback();\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tcallback(\"未填完整\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t});\r\n\t\t\t\te.initialValue =\r\n\t\t\t\t\ttypeof e.initialValue === \"string\" && e.initialValue.includes(\"-\")\r\n\t\t\t\t\t\t? e.initialValue.split(\"-\")\r\n\t\t\t\t\t\t: e.initialValue;\r\n\t\t\t\te.initialValue =\r\n\t\t\t\t\tArray.isArray(e.initialValue) && e.initialValue.length\r\n\t\t\t\t\t\t? e.initialValue.map(time => moment(time, format))\r\n\t\t\t\t\t\t: null;\r\n\t\t\t} else {\r\n\t\t\t\tif (typeof e.initialValue === \"string\") {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\te.initialValue = moment(e.initialValue, format);\r\n\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\tthrow Error(\"initialValue格式有误\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn getOptionsRules(e, rules);\r\n\t\t},\r\n\t},\r\n\t//Cascader级联\r\n\t6: {\r\n\t\tgetControl(e = {}, linkages, getGroupsFn = () => [], opt = {}, requestQuery = {}, currentForm) {\r\n\t\t\tconst isAsync = opt.isAsync;\r\n\t\t\tdelete opt.isAsync;\r\n\t\t\tconst noAsync = opt.noAsync;\r\n\t\t\tdelete opt.noAsync;\r\n\t\t\tlet config = e.config || {};\r\n\t\t\tif (typeof e.config == \"string\") {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconfig = JSON.parse(e.config);\r\n\t\t\t\t} catch (e) {}\r\n\t\t\t}\r\n\t\t\tconfig = { ...defaultFieldConfig, ...config };\r\n\t\t\tconst {\r\n\t\t\t\tselectionsType,\r\n\t\t\t\tselectionsUrl,\r\n\t\t\t\tselectList,\r\n\t\t\t\tselectionsQuery,\r\n\t\t\t\tselectListFieldNames,\r\n\t\t\t\tchangeOnSelect,\r\n\t\t\t\t...others\r\n\t\t\t} = config;\r\n\t\t\tfunction getCurrentControl(selectList) {\r\n\t\t\t\tconst newProps = {\r\n\t\t\t\t\t...others,\r\n\t\t\t\t\tchangeOnSelect,\r\n\t\t\t\t\t...opt,\r\n\t\t\t\t\tselectionsUrl,\r\n\t\t\t\t\tselectionsQuery,\r\n\t\t\t\t\tplaceholder: e.placeholder,\r\n\t\t\t\t\tselectList,\r\n\t\t\t\t\toptionsChange: options => {\r\n\t\t\t\t\t\tif (currentForm) {\r\n\t\t\t\t\t\t\t//保存已有的selectList\r\n\t\t\t\t\t\t\tcurrentForm.saveFieldOptions[e.fieldKey] = options;\r\n\t\t\t\t\t\t\t// currentForm.saveOptionsMapKey[e.fieldKey] = selectListFieldNames;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tselectListFieldNames,\r\n\t\t\t\t\tonChange: (...rest) => {\r\n\t\t\t\t\t\tlinkageAction(linkages, getGroupsFn, e);\r\n\t\t\t\t\t\tdocustomOnChange(e, opt, ...rest);\r\n\t\t\t\t\t},\r\n\t\t\t\t};\r\n\t\t\t\treturn <CascaderLoader {...newProps} />;\r\n\t\t\t}\r\n\t\t\tlet hasAsync = false;\r\n\t\t\tif (!isAsync && currentForm) {\r\n\t\t\t\tconst currnetFormAllAsync = currentForm.getAsyncQueue();\r\n\t\t\t\tif (currnetFormAllAsync && currnetFormAllAsync.length) {\r\n\t\t\t\t\thasAsync = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t//异步类型\r\n\t\t\tif (selectionsType == 2 && !hasAsync&&!noAsync) {\r\n\t\t\t\tif (currentForm && currentForm.saveFieldOptions[e.fieldKey]) {\r\n\t\t\t\t\treturn getCurrentControl(currentForm.saveFieldOptions[e.fieldKey]);\r\n\t\t\t\t}\r\n\t\t\t\treturn httpAjax(selectionsUrl.selectionsUrlMethod, selectionsUrl.selectionsUrl, {\r\n\t\t\t\t\t...selectionsQuery,\r\n\t\t\t\t\t...requestQuery,\r\n\t\t\t\t})\r\n\t\t\t\t\t.then(re => {\r\n\t\t\t\t\t\treturn getCurrentControl(\r\n\t\t\t\t\t\t\ttreeDataAddKey(\r\n\t\t\t\t\t\t\t\tre.data,\r\n\t\t\t\t\t\t\t\tundefined,\r\n\t\t\t\t\t\t\t\tselectListFieldNames,\r\n\t\t\t\t\t\t\t\tselectionsUrl.requireType !== \"part\", // false  即为分部加载\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(() => {\r\n\t\t\t\t\t\tif (currentForm) {\r\n\t\t\t\t\t\t\tcurrentForm.saveFieldOptions[e.fieldKey] = [];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn getCurrentControl([]);\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t//自定义选项类型\r\n\t\t\treturn getCurrentControl(treeDataAddKey(selectList, undefined, selectListFieldNames, true));\r\n\t\t},\r\n\t\tgetOptions: getOptionsRules,\r\n\t},\r\n\t//TreeSelect树选择\r\n\t7: {\r\n\t\tgetControl(e = {}, linkages, getGroupsFn = () => [], opt = {}, requestQuery = {}, currentForm) {\r\n\t\t\tconst isAsync = opt.isAsync;\r\n\t\t\tdelete opt.isAsync;\r\n\t\t\tconst noAsync = opt.noAsync;\r\n\t\t\tdelete opt.noAsync;\r\n\t\t\tlet config = e.config || {};\r\n\t\t\tif (typeof e.config == \"string\") {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconfig = JSON.parse(e.config);\r\n\t\t\t\t} catch (e) {}\r\n\t\t\t}\r\n\t\t\tconfig = { ...defaultFieldConfig, ...config };\r\n\t\t\tconst {\r\n\t\t\t\tselectionsType,\r\n\t\t\t\tselectionsUrl,\r\n\t\t\t\tselectList,\r\n\t\t\t\tselectionsQuery,\r\n\t\t\t\tselectListFieldNames,\r\n\t\t\t\t...others\r\n\t\t\t} = config;\r\n\t\t\tfunction getCurrentControl(selectList) {\r\n\t\t\t\tconst newProps = {\r\n\t\t\t\t\t...others,\r\n\t\t\t\t\t...opt,\r\n\t\t\t\t\tselectionsUrl,\r\n\t\t\t\t\tselectionsQuery,\r\n\t\t\t\t\tplaceholder: e.placeholder,\r\n\t\t\t\t\tselectList,\r\n\t\t\t\t\toptionsChange: options => {\r\n\t\t\t\t\t\tif (currentForm) {\r\n\t\t\t\t\t\t\t//保存已有的selectList\r\n\t\t\t\t\t\t\tcurrentForm.saveFieldOptions[e.fieldKey] = options;\r\n\t\t\t\t\t\t\tcurrentForm.saveOptionsMapKey[e.fieldKey] = {\r\n\t\t\t\t\t\t\t\tlabel: \"title\",\r\n\t\t\t\t\t\t\t\tvalue: \"value\",\r\n\t\t\t\t\t\t\t\tchildren: \"children\",\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tselectListFieldNames,\r\n\t\t\t\t\tonChange: (...rest) => {\r\n\t\t\t\t\t\tlinkageAction(linkages, getGroupsFn, e);\r\n\t\t\t\t\t\tdocustomOnChange(e, opt, ...rest);\r\n\t\t\t\t\t},\r\n\t\t\t\t};\r\n\t\t\t\treturn <TreeSelectLoader {...newProps} />;\r\n\t\t\t}\r\n\t\t\tlet hasAsync = false;\r\n\t\t\tif (!isAsync && currentForm) {\r\n\t\t\t\tconst currnetFormAllAsync = currentForm.getAsyncQueue();\r\n\t\t\t\tif (currnetFormAllAsync && currnetFormAllAsync.length) {\r\n\t\t\t\t\thasAsync = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t//异步类型\r\n\t\t\tif (selectionsType == 2 && !hasAsync&&!noAsync) {\r\n\t\t\t\tif (currentForm && currentForm.saveFieldOptions[e.fieldKey]) {\r\n\t\t\t\t\treturn getCurrentControl(currentForm.saveFieldOptions[e.fieldKey]);\r\n\t\t\t\t}\r\n\t\t\t\treturn httpAjax(selectionsUrl.selectionsUrlMethod, selectionsUrl.selectionsUrl, {\r\n\t\t\t\t\t...selectionsQuery,\r\n\t\t\t\t\t...requestQuery,\r\n\t\t\t\t})\r\n\t\t\t\t\t.then(re => {\r\n\t\t\t\t\t\treturn getCurrentControl(\r\n\t\t\t\t\t\t\ttreeDataAddKey(\r\n\t\t\t\t\t\t\t\tre.data,\r\n\t\t\t\t\t\t\t\t{ label: \"title\", value: \"value\", children: \"children\", key: \"key\" },\r\n\t\t\t\t\t\t\t\tselectListFieldNames,\r\n\t\t\t\t\t\t\t\tselectionsUrl.requireType !== \"part\", // false  即为分部加载\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(() => {\r\n\t\t\t\t\t\tif (currentForm) {\r\n\t\t\t\t\t\t\tcurrentForm.saveFieldOptions[e.fieldKey] = [];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn getCurrentControl([]);\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t//自定义选项类型\r\n\t\t\treturn getCurrentControl(\r\n\t\t\t\ttreeDataAddKey(\r\n\t\t\t\t\tselectList,\r\n\t\t\t\t\t{ label: \"title\", value: \"value\", children: \"children\", key: \"key\" },\r\n\t\t\t\t\tselectListFieldNames,\r\n\t\t\t\t),\r\n\t\t\t);\r\n\t\t},\r\n\t\tgetOptions: getOptionsRules,\r\n\t},\r\n\t//Checkbox.Group\r\n\t8: {\r\n\t\tgetControl: selectControl(\"Checkbox.Group\"),\r\n\t\tgetOptions(e, rules = []) {\r\n\t\t\tconst field = { ...e };\r\n\t\t\tfield.initialValue =\r\n\t\t\t\ttypeof field.initialValue === \"string\" ? field.initialValue.replace(\"，\", \",\").split(\",\") : [];\r\n\t\t\treturn getOptionsRules(field, rules);\r\n\t\t},\r\n\t},\r\n\t//Radio.Group\r\n\t9: {\r\n\t\tgetControl: selectControl(\"Radio.Group\"),\r\n\t\tgetOptions: getOptionsRules,\r\n\t},\r\n\t//Switch\r\n\t10: {\r\n\t\tgetControl(e = {}, linkages, getGroupsFn = () => [], opt = {}) {\r\n\t\t\tdelete opt.noAsync;\r\n\t\t\tlet config = e.config || {};\r\n\t\t\tif (typeof e.config == \"string\") {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconfig = JSON.parse(e.config);\r\n\t\t\t\t} catch (e) {}\r\n\t\t\t}\r\n\r\n\t\t\treturn getControl(\"Switch\", {\r\n\t\t\t\tplaceholder: e.placeholder,\r\n\t\t\t\t...config,\r\n\t\t\t\t...opt,\r\n\t\t\t\tonChange: (...rest) => {\r\n\t\t\t\t\tdocustomOnChange(e, opt, ...rest);\r\n\t\t\t\t\tlinkageAction(linkages, getGroupsFn, e);\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t},\r\n\t\tgetOptions(e, rules = []) {\r\n\t\t\te.initialValue = dataType.isString(e.initialValue) ? Number(e.initialValue) : e.initialValue;\r\n\t\t\treturn getOptionsRules(e, rules, { valuePropName: \"checked\" });\r\n\t\t},\r\n\t},\r\n\t//Upload\r\n\t11: {\r\n\t\tgetControl(e = {}, linkages, getGroupsFn = () => [], opt = {}, requestQuery = {}) {\r\n\t\t\tdelete opt.noAsync;\r\n\t\t\tlet config = e.config || {};\r\n\t\t\tif (typeof e.config == \"string\") {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconfig = JSON.parse(e.config);\r\n\t\t\t\t} catch (e) {}\r\n\t\t\t}\r\n\t\t\tconfig = { ...defaultFieldConfig, ...config };\r\n\t\t\treturn <ZeroUpload config={config} field={e} />;\r\n\t\t},\r\n\t\tgetOptions(e, rules = []) {\r\n\t\t\tlet config = e.config || {};\r\n\t\t\tif (typeof e.config == \"string\") {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconfig = JSON.parse(e.config);\r\n\t\t\t\t} catch (e) {}\r\n\t\t\t}\r\n\t\t\tconfig = { ...defaultFieldConfig, ...config };\r\n\t\t\tconst newRules = [\r\n\t\t\t\t{\r\n\t\t\t\t\tvalidator(rule, value, callback) {\r\n\t\t\t\t\t\tif (Array.isArray(value)) {\r\n\t\t\t\t\t\t\tif (!value.length) {\r\n\t\t\t\t\t\t\t\treturn callback(\"未上传任何文件\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (config.minUploadLength && config.minUploadLength > value.length) {\r\n\t\t\t\t\t\t\t\treturn callback(`最少上传${config.minUploadLength}个`);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn callback();\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t];\r\n\r\n\t\t\treturn getOptionsRules(e, newRules.concat(rules));\r\n\t\t},\r\n\t},\r\n\t//ColorPicker\r\n\t12: {\r\n\t\tgetControl(e = {}, linkages, getGroupsFn = () => [], opt = {}, requestQuery = {}) {\r\n\t\t\tdelete opt.noAsync;\r\n\t\t\tlet config = e.config || {};\r\n\t\t\tif (typeof e.config == \"string\") {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconfig = JSON.parse(e.config);\r\n\t\t\t\t} catch (e) {}\r\n\t\t\t}\r\n\t\t\tconfig = { ...defaultFieldConfig, ...config };\r\n\t\t\treturn getControl(\"ColorPicker\", {\r\n\t\t\t\t...config,\r\n\t\t\t\t...opt,\r\n\t\t\t\tonChange: (...rest) => {\r\n\t\t\t\t\te.currentSaturability = rest[1] ? rest[1].hsv.s : 0;\r\n\t\t\t\t\t// console.log(\"color-change\", rest[1]);\r\n\t\t\t\t\tdocustomOnChange(e, opt, ...rest);\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t},\r\n\t\tgetOptions(e, rules = []) {\r\n\t\t\tlet config = e.config || {};\r\n\t\t\tif (typeof e.config == \"string\") {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconfig = JSON.parse(e.config);\r\n\t\t\t\t} catch (e) {}\r\n\t\t\t}\r\n\t\t\tconfig = { ...defaultFieldConfig, ...config };\r\n\t\t\tif (config.minSaturability > 0) {\r\n\t\t\t\trules.push({\r\n\t\t\t\t\tvalidator(rule, value, callback) {\r\n\t\t\t\t\t\tconst currentSaturability = e.currentSaturability;\r\n\t\t\t\t\t\tif (currentSaturability && config.minSaturability > currentSaturability) {\r\n\t\t\t\t\t\t\treturn callback(e.errorMsg ? e.errorMsg : `饱和度不能小于${config.minSaturability * 100}%`);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn callback();\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\treturn getOptionsRules(e, rules);\r\n\t\t},\r\n\t},\r\n\t//地图选点\r\n\t13: {\r\n\t\tgetControl(e = {}, linkages, getGroupsFn = () => [], opt = {}) {\r\n\t\t\tdelete opt.noAsync;\r\n\t\t\tlet config = e.config || {};\r\n\t\t\tif (typeof e.config == \"string\") {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconfig = JSON.parse(e.config);\r\n\t\t\t\t} catch (e) {}\r\n\t\t\t}\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<MapChooseAddress\r\n\t\t\t\t\t{...{\r\n\t\t\t\t\t\tplaceholder: e.placeholder,\r\n\t\t\t\t\t\t...config,\r\n\t\t\t\t\t\t...opt,\r\n\t\t\t\t\t\tonChange: (...rest) => {\r\n\t\t\t\t\t\t\tlinkageAction(linkages, getGroupsFn, e);\r\n\t\t\t\t\t\t\tdocustomOnChange(e, opt, ...rest);\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t);\r\n\t\t},\r\n\t\tgetOptions(e, rules = []) {\r\n\t\t\trules.push({\r\n\t\t\t\tvalidator(rule, value, callback) {\r\n\t\t\t\t\tif (dataType.isObject(value)) {\r\n\t\t\t\t\t\tif (!/^.{10,}/.test(value.name)) {\r\n\t\t\t\t\t\t\treturn callback(\"地址名称不能少于10个字符\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn callback();\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t\treturn getOptionsRules(e, rules);\r\n\t\t},\r\n\t},\r\n\t//自定义占位\r\n\t14: {\r\n\t\tgetControl(e = {}, linkages, getGroupsFn = () => [], opt = {}) {\r\n\t\t\tif (dataType.isObject(e.customControlRender)) {\r\n\t\t\t\tconst confun = e.customControlRender[e.fieldKey];\r\n\t\t\t\tif (dataType.isFunction(confun)) {\r\n\t\t\t\t\treturn confun({ field: e, linkages, getGroupsFn, linkageAction });\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn <div className=\"z-form-control-placeholder\">自定义区域</div>;\r\n\t\t},\r\n\t\tgetOptions: getOptionsRules,\r\n\t},\r\n\t//文书配置\r\n\t20: {\r\n\t\tgetControl(e = {}, linkages, getGroupsFn = () => [], opt = {}) {\r\n\t\t\tdelete opt.noAsync;\r\n\t\t\tlet config = e.config || {};\r\n\t\t\tif (typeof e.config == \"string\") {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconfig = JSON.parse(e.config);\r\n\t\t\t\t} catch (e) {}\r\n\t\t\t}\r\n\r\n\t\t\treturn getControl(\"Input\", {\r\n\t\t\t\tplaceholder: e.placeholder,\r\n\t\t\t\t...config,\r\n\t\t\t\t...opt,\r\n\t\t\t\tonBlur: (...rest) => {\r\n\t\t\t\t\tlinkageAction(linkages, getGroupsFn, e);\r\n\t\t\t\t},\r\n\t\t\t\tonChange: (...rest) => {\r\n\t\t\t\t\tdocustomOnChange(e, opt, ...rest);\r\n\t\t\t\t},\r\n\t\t\t\tdisabled: true,\r\n\t\t\t});\r\n\t\t},\r\n\t\tgetOptions(e, rules = []) {\r\n\t\t\tconst regType = e.regType; //regType 来自Zform/controls的regExps\r\n\t\t\treturn getOptionsRules(e, regType ? [regExps[regType], ...rules] : rules);\r\n\t\t},\r\n\t},\r\n};\r\nexport default controls;\r\n","import React from \"react\";\r\nimport { Tag } from \"antd\";\r\nimport { linkageTypeActionName } from \"../liveCanstant\";\r\n\r\nfunction srcControlRemark(srcControl, srcValues) {\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Tag color=\"volcano\">{srcControl ? srcControl.label : \"未选控件\"}</Tag>\r\n\t\t\t<span>的值：</span>\r\n\t\t\t{srcValues.map(item => (\r\n\t\t\t\t<Tag color=\"#2db7f5\" key={item.label}>\r\n\t\t\t\t\t{item.label}\r\n\t\t\t\t</Tag>\r\n\t\t\t))}\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport function linkRemark1({ srcControl, srcValues, distControls, linkageType }={}) {\r\n\treturn (\r\n\t\t<span>\r\n\t\t\t{srcControlRemark(srcControl, srcValues)}\r\n\t\t\t<span className=\"z-margin-right-5\">联动</span>\r\n\t\t\t{distControls.map(item => (\r\n\t\t\t\t<Tag color=\"magenta\" key={item.label}>\r\n\t\t\t\t\t{item.label}\r\n\t\t\t\t</Tag>\r\n\t\t\t))}\r\n\t\t\t<span>{linkageTypeActionName[linkageType]}</span>\r\n\t\t</span>\r\n\t);\r\n}\r\n\r\nexport function linkRemark2({ srcControl, srcValues, distControl, distValues } = {}) {\r\n\treturn (\r\n\t\t<span>\r\n\t\t\t{srcControlRemark(srcControl, srcValues)}\r\n\t\t\t<span className=\"z-margin-right-5\">联动</span>\r\n\t\t\t<Tag color=\"volcano\">{distControl ? distControl.label : \"未选控件\"}</Tag>\r\n\t\t\t<span>可选项：</span>\r\n\t\t\t{distValues.map(item => (\r\n\t\t\t\t<Tag color=\"#2db7f5\" key={item.label}>\r\n\t\t\t\t\t{item.label}\r\n\t\t\t\t</Tag>\r\n\t\t\t))}\r\n\t\t</span>\r\n\t);\r\n}\r\n\r\nexport function linkRemark3({ srcControls, distControls } = {}, { remmak1, remmak2 } = {}) {\r\n\treturn (\r\n\t\t<span>\r\n\t\t\t<span>{remmak1}</span>\r\n\t\t\t{srcControls.map(item => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Tag color=\"volcano\" key={item.label}>\r\n\t\t\t\t\t\t{item.label}\r\n\t\t\t\t\t</Tag>\r\n\t\t\t\t);\r\n\t\t\t})}\r\n\t\t\t<span className=\"z-margin-right-5\">{remmak2}</span>\r\n\t\t\t{distControls.map(item => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Tag color=\"volcano\" key={item.label}>\r\n\t\t\t\t\t\t{item.label}\r\n\t\t\t\t\t</Tag>\r\n\t\t\t\t);\r\n\t\t\t})}\r\n\t\t</span>\r\n\t);\r\n}\r\nexport function linkRemark4({ srcControls, distControls } = {}, { remmak1, remmak2 } = {}) {\r\n\treturn (\r\n\t\t<span>\r\n\t\t\t{srcControls.map(item => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Tag color=\"volcano\" key={item.label}>\r\n\t\t\t\t\t\t{item.label}\r\n\t\t\t\t\t</Tag>\r\n\t\t\t\t);\r\n\t\t\t})}\r\n\t\t\t<span className=\"z-margin-right-5\">{remmak1}</span>\r\n\t\t\t{distControls.map(item => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Tag color=\"volcano\" key={item.label}>\r\n\t\t\t\t\t\t{item.label}\r\n\t\t\t\t\t</Tag>\r\n\t\t\t\t);\r\n\t\t\t})}\r\n\t\t\t<span>{remmak2}</span>\r\n\t\t</span>\r\n\t);\r\n}\r\n","import React, { useState, useEffect, useRef, useImperativeHandle, useCallback } from \"react\";\r\n// import { getControl, getOptions } from \"../../Zform/controls\";\r\nimport { Row, Col, Tag, Icon, Tooltip } from \"antd\";\r\nimport { linkageTypeActionName } from \"../liveCanstant\";\r\nfunction ValueLinkConfigured(props, ref) {\r\n\tconst { linkageType, onRemove } = props;\r\n\tconst [configured, setConfigured] = useState([]);\r\n\tuseImperativeHandle(ref, () => {\r\n\t\treturn {\r\n\t\t\tgetCurrentConfigured() {\r\n\t\t\t\treturn configured;\r\n\t\t\t},\r\n\t\t\tsetConfigured,\r\n\t\t};\r\n\t});\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{configured.map((c,index) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Row gutter={16} key={c.srcValue} type=\"flex\" className=\"z-link-configured\">\r\n\t\t\t\t\t\t<Col span={6}>\r\n\t\t\t\t\t\t\t<div className=\"z-flex-space-between\">\r\n\t\t\t\t\t\t\t\t<Tag color=\"#2db7f5\">{c.valueLabel}</Tag>\r\n\t\t\t\t\t\t\t\t<span>{linkageTypeActionName[linkageType]}</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col span={14}>\r\n\t\t\t\t\t\t\t{c.fields.map(item => {\r\n\t\t\t\t\t\t\t\tif (Array.isArray(item.options)) {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<div key={item.fieldKey}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Tag color=\"magenta\">{item.label}</Tag>\r\n\t\t\t\t\t\t\t\t\t\t\t<span>可选的选项：</span>\r\n\t\t\t\t\t\t\t\t\t\t\t{item.options.map(opt => {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Tag key={opt.value} color=\"#2db7f5\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{opt.label}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<Tag color=\"magenta\" key={item.fieldKey ? item.fieldKey : item.groupName}>\r\n\t\t\t\t\t\t\t\t\t\t{item.fieldKey ? item.label : item.groupName}\r\n\t\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col span={4}>\r\n\t\t\t\t\t\t\t<Tooltip placement=\"top\" title=\"移除\">\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclassName=\"z-live-tool-item delete all-border small\"\r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\ttypeof onRemove === \"function\" && onRemove(c,index);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Icon type=\"delete\" />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t);\r\n\t\t\t})}\r\n\t\t\t{!configured.length ? <p className=\"z-text-center\">无配置</p> : null}\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default React.memo(React.forwardRef(ValueLinkConfigured));\r\n","import React from \"react\";\r\nimport { ZliveForm } from \"zerod\";\r\nimport HOC from \"@/HOC/load-HOC.js\";\r\nconst { AmdDocHOC, AshowDemoHOC } = HOC;\r\nimport doc from \"zerod/components/ZliveForm/doc.md\";\r\nimport formData from \"./formData\";\r\n// import linkages from \"./linkages\";\r\nimport { Button } from \"antd\";\r\nexport default AmdDocHOC(doc, {\r\n\tdemo0: function() {\r\n\t\tclass Myjavascript extends React.PureComponent {\r\n\t\t\tformData = { ...formData };\r\n\t\t\tonSave = newFormData => {\r\n\t\t\t\tconsole.log(newFormData);\r\n\t\t\t};\r\n\t\t\trender() {\r\n\t\t\t\treturn <ZliveForm formData={this.formData} onSave={this.onSave} />;\r\n\t\t\t}\r\n\t\t}\r\n\t\tconst Dom = AshowDemoHOC(<Myjavascript />, true);\r\n\t\treturn <Dom />;\r\n\t},\r\n\tdemo1: function() {\r\n\t\tclass Myjavascript extends React.PureComponent {\r\n\t\t\tstate = {\r\n\t\t\t\tformValue: {\r\n\t\t\t\t\tbusId: \"ee351e47c614415385fd7eb09a2c6358\",\r\n\t\t\t\t\tcontactName: \"李三66\",\r\n\t\t\t\t\tproblemNo: \"201908190002\",\r\n\t\t\t\t\tistName: \"【201908190002】问题登记\",\r\n\t\t\t\t\tregisterProblemDescription: \"待定\",\r\n\t\t\t\t\tcaseTypeLabel: \"殡葬管理\",\r\n\t\t\t\t\tinitiatorName: \"admin\",\r\n\t\t\t\t\tremark: \"纷纷\",\r\n\t\t\t\t\tinitiatorId: \"admin\",\r\n\t\t\t\t\tregisterPictures: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tid: 5377,\r\n\t\t\t\t\t\t\toriginalFileName: \"234646s74vk3ttzteclwkc\",\r\n\t\t\t\t\t\t\tfileName: \"2019/08/19/16/aa0a3722857c4172993e90838f0a6246\",\r\n\t\t\t\t\t\t\tfileSuffix: \"jpg\",\r\n\t\t\t\t\t\t\tfilePath: \"http://172.16.8.35:19004/2019/08/19/16/aa0a3722857c4172993e90838f0a6246.jpg\",\r\n\t\t\t\t\t\t\tfileSize: 288618,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t],\r\n\t\t\t\t\tcaseReasonCode: \"A0114003\",\r\n\t\t\t\t\tproblemOriginCodeLabel: \"新闻媒体曝光\",\r\n\t\t\t\t\tcaseType: \"A0114\",\r\n\t\t\t\t\tproblemAddress: {\r\n\t\t\t\t\t\tname: \"南山区政府(广东省深圳市南山区桃园路2号南山区委大楼)\",\r\n\t\t\t\t\t\taddress: \"广东省深圳市南山区桃园路2号南山区委大楼\",\r\n\t\t\t\t\t\tlongitude: 113.93041,\r\n\t\t\t\t\t\tlatitude: 22.53332,\r\n\t\t\t\t\t\tadcode: \"440305\",\r\n\t\t\t\t\t\tcitycode: \"156440300\",\r\n\t\t\t\t\t\tcountry: \"中国\",\r\n\t\t\t\t\t\tprovince: \"广东省\",\r\n\t\t\t\t\t\tcity: \"深圳市\",\r\n\t\t\t\t\t\tdistrict: \"南山区\",\r\n\t\t\t\t\t},\r\n\t\t\t\t\tproblemOriginCode: \"C0203\",\r\n\t\t\t\t\tcaseReasonCodeLabel: \"未经批准从事殡葬服务业务\",\r\n\t\t\t\t\tcontactPhone: \"1342166188\",\r\n\t\t\t\t\tbusStatus: \"101\",\r\n\t\t\t\t\tdispatchTag: \"2\",\r\n\t\t\t\t\tdispatchTagLabel: \"巡查员\",\r\n\t\t\t\t\treceiveUserAccount: \"FSADFSD\",\r\n\t\t\t\t\treceiveUserAccountLabel: \"FDASFS-未分组\",\r\n\t\t\t\t\tbusStatusName: \"待核实\",\r\n\t\t\t\t},\r\n\t\t\t};\r\n\t\t\tformData = { ...formData };\r\n\t\t\tonSubmit = values => {\r\n\t\t\t\tconsole.log(values);\r\n\t\t\t\treturn Promise.resolve();\r\n\t\t\t};\r\n\t\t\tcomponentDidMount() {\r\n\t\t\t\t// setTimeout(() => {\r\n\t\t\t\t// \tthis.setState({\r\n\t\t\t\t// \t\tformValue:{\r\n\t\t\t\t// \t\t\tdogName:\"8888\"\r\n\t\t\t\t// \t\t}\r\n\t\t\t\t// \t})\r\n\t\t\t\t// }, 2000);\r\n\t\t\t}\r\n\t\t\trender() {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div className=\"z-padding-15\">\r\n\t\t\t\t\t\t<ZliveForm.FormViewer\r\n\t\t\t\t\t\t\tformValues={this.state.formValue}\r\n\t\t\t\t\t\t\tformData={this.formData}\r\n\t\t\t\t\t\t\tonSubmit={this.onSubmit}\r\n\t\t\t\t\t\t\tmomentFormat={true}\r\n\t\t\t\t\t\t\tsubmitBtnRender={submit => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<div className=\"z-text-center\">\r\n\t\t\t\t\t\t\t\t\t\t<Button type=\"primary\" onClick={submit}>\r\n\t\t\t\t\t\t\t\t\t\t\t提交数据\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t}\r\n\t\tconst Dom = AshowDemoHOC(<Myjavascript />, true);\r\n\t\treturn <Dom />;\r\n\t},\r\n\tdemo2: function() {\r\n\t\tclass Myjavascript extends React.PureComponent {\r\n\t\t\trender() {\r\n\t\t\t\treturn <span />;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn <Myjavascript />;\r\n\t},\r\n});\r\n","import React, { useState, useEffect, useRef, useImperativeHandle, useCallback } from \"react\";\r\nimport ReactDom from \"react-dom\";\r\n// import Zform from \"../Zform\";\r\n// import { getControl, getOptions } from \"../../Zform/controls\";\r\nimport { Tag, Modal } from \"antd\";\r\nimport ZerodMainContext from \"../../ZerodMainContext\";\r\nimport Ztabs from \"../../Ztabs\";\r\nimport { ZcascaderItemGroup } from \"../../Zcascader\";\r\nimport ValueLinkControl from \"./ValueLinkControl\";\r\nimport ValueLinkConfigured from \"./ValueLinkConfigured\";\r\nimport IDLinkagesConfigured from \"./IDLinkagesConfigured\";\r\nconst linkageTypes = [\r\n\t{\r\n\t\ttab: \"单选/多选控制控件禁用\",\r\n\t\tkey: \"1\",\r\n\t\tactive: true,\r\n\t},\r\n\t{\r\n\t\ttab: \"单选/多选控制控件必填\",\r\n\t\tkey: \"2\",\r\n\t},\r\n\t{\r\n\t\ttab: \"单选/多选控制控件非必填\",\r\n\t\tkey: \"3\",\r\n\t},\r\n\t{\r\n\t\ttab: \"单选/多选控制选项\",\r\n\t\tkey: \"4\",\r\n\t},\r\n\t{\r\n\t\ttab: \"单选/多选控制组隐藏\",\r\n\t\tkey: \"5.1\",\r\n\t},\r\n\t{\r\n\t\ttab: \"单选/多选控制控件隐藏\",\r\n\t\tkey: \"5.2\",\r\n\t},\r\n\t{\r\n\t\ttab: \"身份证取出生年月日\",\r\n\t\tkey: \"6\",\r\n\t},\r\n\t{\r\n\t\ttab: \"单选联动其他控件异步选项\",\r\n\t\tkey: \"7\",\r\n\t},\r\n\t{\r\n\t\ttab: \"地图选点取行政区划\",\r\n\t\tkey: \"8\",\r\n\t},\r\n];\r\nconst itemKeys = {\r\n\tname: \"tab\",\r\n\tid: \"key\",\r\n};\r\n// const propTypes = {};\r\nconst defaultProps = {\r\n\t//默认的linkages\r\n\tdefaultValue: [],\r\n};\r\n\r\nfunction LinkageConfig(props) {\r\n\tconst { getInsertLocation, showRightModal, newFormData, defaultValue, onChange } = props;\r\n\tconst wrapperRef = useRef(null);\r\n\tconst [tabPanes, setTabPanes] = useState([\r\n\t\t{\r\n\t\t\ttab: \"联动列表\",\r\n\t\t\tkey: \"1\",\r\n\t\t\tcontent: null,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttab: \"联动配置\",\r\n\t\t\tkey: \"2\",\r\n\t\t\tcontent: null,\r\n\t\t},\r\n\t]);\r\n\tconst [tabKey, setTabKey] = useState(\"1\");\r\n\tconst [linkageTypesState, setLinkageTypes] = useState(linkageTypes);\r\n\tconst curentLinkTypeRef = useRef(linkageTypesState.find(item => item.active));\r\n\tconst objRef = useRef(null);\r\n\tconst defaultLinkagesRef = useRef(defaultValue);\r\n\tconst [insetLocaltion, setInsetLocaltion] = useState();\r\n\tuseEffect(() => {\r\n\t\t// 首先得获取wrapperRef.current元素所在得位置\r\n\t\tconst insetLocaltion = getInsertLocation(wrapperRef.current);\r\n\t\tlet parEl = wrapperRef.current;\r\n\t\twhile (parEl && !parEl.dataset.zgt_modal) {\r\n\t\t\tparEl = parEl.parentElement;\r\n\t\t}\r\n\t\tif (parEl) {\r\n\t\t\tobjRef.current = parEl.querySelector(\"#ZpageHeaderBox\");\r\n\t\t}\r\n\t\tsetInsetLocaltion(insetLocaltion);\r\n\t}, []);\r\n\tconst onItemClick = useCallback((e, item, i, props) => {\r\n\t\tsetLinkageTypes(\r\n\t\t\tlinkageTypesState.map(l => {\r\n\t\t\t\tconst active = l.key === item.data.key;\r\n\t\t\t\tif (active) {\r\n\t\t\t\t\tcurentLinkTypeRef.current = item.data;\r\n\t\t\t\t}\r\n\t\t\t\treturn { ...l, active };\r\n\t\t\t}),\r\n\t\t);\r\n\t}, []);\r\n\t//当前选择的控件\r\n\tconst [currentControl, setCurrentControl] = useState({});\r\n\t//取ValueLinkConfigured提供的属性\r\n\tconst configuredRef = useRef(null);\r\n\tuseEffect(() => {\r\n\t\tif (Array.isArray(defaultLinkagesRef.current) && [\"6\", \"7\", \"8\"].includes(curentLinkTypeRef.current.key)) {\r\n\t\t\tconst IDconfigured = defaultLinkagesRef.current.filter(age => {\r\n\t\t\t\treturn age.linkageType === curentLinkTypeRef.current.key;\r\n\t\t\t});\r\n\t\t\tconfiguredRef.current && configuredRef.current.setConfigured(IDconfigured);\r\n\t\t} else {\r\n\t\t\tconfiguredRef.current && configuredRef.current.setConfigured([]);\r\n\t\t}\r\n\t}, [curentLinkTypeRef.current.key]);\r\n\r\n\tconst onRemove = (currentConf, currentIndex) => {\r\n\t\tModal.confirm({\r\n\t\t\ttitle: \"是否确认移除这条配置?\",\r\n\t\t\tokText: \"确定\",\r\n\t\t\tcancelText: \"取消\",\r\n\t\t\tonOk() {\r\n\t\t\t\tconst currentConfigured = configuredRef.current.getCurrentConfigured();\r\n\t\t\t\tconst currentLinkageType = curentLinkTypeRef.current.key;\r\n\t\t\t\tlet ageIndex = -1;\r\n\t\t\t\tconst getageIndex = currentKey => {\r\n\t\t\t\t\treturn defaultLinkagesRef.current.findIndex(item => {\r\n\t\t\t\t\t\treturn item.linkageType === currentLinkageType && item.src.fieldKey === currentKey;\r\n\t\t\t\t\t});\r\n\t\t\t\t};\r\n\t\t\t\tif ([\"6\", \"7\", \"8\"].includes(currentLinkageType)) {\r\n\t\t\t\t\tageIndex = getageIndex(currentConf.src.fieldKey);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tageIndex = getageIndex(currentConf.srcKey);\r\n\t\t\t\t}\r\n\t\t\t\tif (ageIndex > -1) {\r\n\t\t\t\t\tcurrentConfigured.splice(currentIndex, 1);\r\n\t\t\t\t\tconst newConfigs = [...currentConfigured];\r\n\t\t\t\t\tconfiguredRef.current.setConfigured(newConfigs);\r\n\t\t\t\t\tif ([\"6\", \"7\", \"8\"].includes(currentLinkageType)) {\r\n\t\t\t\t\t\tdefaultLinkagesRef.current.splice(ageIndex, 1);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tdefaultLinkagesRef.current[ageIndex].dist = newConfigs;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdefaultLinkagesRef.current = [...defaultLinkagesRef.current];\r\n\t\t\t\t\tonChange && onChange(defaultLinkagesRef.current);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<section ref={wrapperRef} className=\"z-linkage-config\">\r\n\t\t\t{objRef.current\r\n\t\t\t\t? ReactDom.createPortal(\r\n\t\t\t\t\t\t<div className=\"z-linkage-tab\">\r\n\t\t\t\t\t\t\t<Ztabs\r\n\t\t\t\t\t\t\t\ttabPanes={tabPanes}\r\n\t\t\t\t\t\t\t\tactiveKey={tabKey}\r\n\t\t\t\t\t\t\t\tonChange={key => {\r\n\t\t\t\t\t\t\t\t\tsetTabKey(key);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>,\r\n\t\t\t\t\t\tobjRef.current,\r\n\t\t\t\t  )\r\n\t\t\t\t: null}\r\n\t\t\t{tabKey === \"1\" ? (\r\n\t\t\t\t<section className=\"z-panel\">\r\n\t\t\t\t\t<div className=\"z-panel-body z-text-center\">未完待续</div>\r\n\t\t\t\t</section>\r\n\t\t\t) : null}\r\n\t\t\t{tabKey === \"2\" ? (\r\n\t\t\t\t<section>\r\n\t\t\t\t\t<div className=\"z-padding-15\">\r\n\t\t\t\t\t\t<div className=\"z-panel\">\r\n\t\t\t\t\t\t\t<div className=\"z-panel-body z-padding-bottom-0-important\">\r\n\t\t\t\t\t\t\t\t<ZcascaderItemGroup\r\n\t\t\t\t\t\t\t\t\tlabel=\"联动类型\"\r\n\t\t\t\t\t\t\t\t\titemData={linkageTypesState}\r\n\t\t\t\t\t\t\t\t\titemKeys={itemKeys}\r\n\t\t\t\t\t\t\t\t\tonItemClick={onItemClick}\r\n\t\t\t\t\t\t\t\t\tautoExpanded={true}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<ValueLinkControl\r\n\t\t\t\t\t\t\t\t\tnewFormData={newFormData}\r\n\t\t\t\t\t\t\t\t\tlinkageType={curentLinkTypeRef.current.key}\r\n\t\t\t\t\t\t\t\t\tonSrcSelected={control => {\r\n\t\t\t\t\t\t\t\t\t\tlet existLinkage = null;\r\n\t\t\t\t\t\t\t\t\t\tif (Array.isArray(defaultLinkagesRef.current)) {\r\n\t\t\t\t\t\t\t\t\t\t\texistLinkage = defaultLinkagesRef.current.find(age => {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tage.linkageType === curentLinkTypeRef.current.key &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tage.src.fieldKey === control.fieldKey\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tconfiguredRef.current.setConfigured(existLinkage ? [...existLinkage.dist] : []);\r\n\t\t\t\t\t\t\t\t\t\tsetCurrentControl(control);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tonOk={(links, other) => {\r\n\t\t\t\t\t\t\t\t\t\t// if(curentLinkTypeRef.current.key === \"6\"){\r\n\r\n\t\t\t\t\t\t\t\t\t\t// }\r\n\r\n\t\t\t\t\t\t\t\t\t\t//转成linkage\r\n\t\t\t\t\t\t\t\t\t\tlet linkage = {\r\n\t\t\t\t\t\t\t\t\t\t\tlinkageType: curentLinkTypeRef.current.key,\r\n\t\t\t\t\t\t\t\t\t\t\tname: curentLinkTypeRef.current.tab,\r\n\t\t\t\t\t\t\t\t\t\t\tsrc: null,\r\n\t\t\t\t\t\t\t\t\t\t\tdist: null,\r\n\t\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t\t\tif (links.srcControl) {\r\n\t\t\t\t\t\t\t\t\t\t\tlinkage.src = {\r\n\t\t\t\t\t\t\t\t\t\t\t\tfieldKey: links.srcControl.fieldKey,\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel: links.srcControl.label,\r\n\t\t\t\t\t\t\t\t\t\t\t\tfieldType: links.srcControl.fieldType,\r\n\t\t\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tlet linkages = [];\r\n\t\t\t\t\t\t\t\t\t\tif ([\"1\", \"2\", \"3\", \"5.2\"].includes(curentLinkTypeRef.current.key)) {\r\n\t\t\t\t\t\t\t\t\t\t\tlinkage.dist = links.srcValues.map(val => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tconst fields = links.distControls.map(d => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfieldKey: d.fieldKey,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel: d.label,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfieldType: d.fieldType,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsrcKey: linkage.src.fieldKey,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsrcValue: val.value,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalueLabel: val.label,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfields,\r\n\t\t\t\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t} else if ([\"4\"].includes(curentLinkTypeRef.current.key)) {\r\n\t\t\t\t\t\t\t\t\t\t\tlinkage.dist = links.srcValues.map(val => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tconst fields = [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfieldKey: links.distControl.fieldKey,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel: links.distControl.label,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfieldType: links.distControl.fieldType,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\toptions: links.distValues.map(dv => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn { label: dv.label, value: dv.value };\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t];\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsrcKey: linkage.src.fieldKey,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsrcValue: val.value,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalueLabel: val.label,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfields,\r\n\t\t\t\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t} else if ([\"5.1\"].includes(curentLinkTypeRef.current.key)) {\r\n\t\t\t\t\t\t\t\t\t\t\tlinkage.dist = links.srcValues.map(val => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tconst fields = links.distControls.map(d => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tgroupId: d.id,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tgroupName: d.label,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsrcKey: linkage.src.fieldKey,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsrcValue: val.value,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalueLabel: val.label,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfields,\r\n\t\t\t\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t} else if ([\"6\", \"7\", \"8\"].includes(curentLinkTypeRef.current.key)) {\r\n\t\t\t\t\t\t\t\t\t\t\tconst asyncParamName =\r\n\t\t\t\t\t\t\t\t\t\t\t\tcurentLinkTypeRef.current.key === \"7\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t? other.asyncParamName\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t: undefined;\r\n\t\t\t\t\t\t\t\t\t\t\tconst regionName =\r\n\t\t\t\t\t\t\t\t\t\t\t\tcurentLinkTypeRef.current.key === \"8\" ? other.regionName : undefined;\r\n\t\t\t\t\t\t\t\t\t\t\tlinkages = links.srcControls.map(l => {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t...linkage,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsrc: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfieldKey: l.fieldKey,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel: l.label,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfieldType: l.fieldType,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tasyncParamName,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tregionName,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdist: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfields: links.distControls.map(d => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfieldKey: d.fieldKey,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfieldType: d.fieldType,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel: d.label,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tasyncParamName,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tregionName,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\t//查找配置的选项中是否存在，存在就替换，不存在就追加\r\n\t\t\t\t\t\t\t\t\t\tif (Array.isArray(linkage.dist) && linkage.dist.length) {\r\n\t\t\t\t\t\t\t\t\t\t\tconst currentConfigured = configuredRef.current.getCurrentConfigured();\r\n\t\t\t\t\t\t\t\t\t\t\tlinkage.dist.forEach(di => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tconst existIndex = currentConfigured.findIndex(con => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn con.srcValue === di.srcValue;\r\n\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (existIndex > -1) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tconst newFields = [];\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcurrentConfigured[existIndex].fields.forEach(f => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst hasFieldindex = di.fields.findIndex(df => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(df.fieldKey && df.fieldKey === f.fieldKey) ||\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(df.groupName && df.groupName === f.groupName)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (hasFieldindex > -1) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnewFields.push(di.fields[hasFieldindex]);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdi.fields.splice(hasFieldindex, 1);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnewFields.push(f);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdi.fields = [...newFields, ...di.fields];\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcurrentConfigured.splice(existIndex, 1, di);\r\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcurrentConfigured.push(di);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\tlinkage.dist = [...currentConfigured];\r\n\t\t\t\t\t\t\t\t\t\t\tconfiguredRef.current.setConfigured([...currentConfigured]);\r\n\t\t\t\t\t\t\t\t\t\t\t//新的linkages\r\n\t\t\t\t\t\t\t\t\t\t\tlet existLinkageIndex = -1;\r\n\t\t\t\t\t\t\t\t\t\t\tif (Array.isArray(defaultLinkagesRef.current)) {\r\n\t\t\t\t\t\t\t\t\t\t\t\texistLinkageIndex = defaultLinkagesRef.current.findIndex(age => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tage.linkageType === linkage.linkageType &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tage.src.fieldKey === linkage.src.fieldKey\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tif (existLinkageIndex > -1) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tdefaultLinkagesRef.current.splice(existLinkageIndex, 1, linkage);\r\n\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\tdefaultLinkagesRef.current.push(linkage);\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t\t\t\t\tArray.isArray(linkages) &&\r\n\t\t\t\t\t\t\t\t\t\t\tlinkages.length &&\r\n\t\t\t\t\t\t\t\t\t\t\tArray.isArray(defaultLinkagesRef.current)\r\n\t\t\t\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\t\t\t\tlinkages.forEach(linkage => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tconst hasAgeIndex = defaultLinkagesRef.current.findIndex(age => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tage.linkageType === linkage.linkageType &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tage.src.fieldKey === linkage.src.fieldKey\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (hasAgeIndex > -1) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultLinkagesRef.current.splice(hasAgeIndex, 1, linkage);\r\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultLinkagesRef.current.push(linkage);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\tconst IDconfigured = defaultLinkagesRef.current.filter(age => {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn age.linkageType === curentLinkTypeRef.current.key;\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\tconfiguredRef.current.setConfigured(IDconfigured);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tdefaultLinkagesRef.current = [...defaultLinkagesRef.current];\r\n\t\t\t\t\t\t\t\t\t\tonChange && onChange(defaultLinkagesRef.current);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tonBack={() => {\r\n\t\t\t\t\t\t\t\t\t\tshowRightModal({\r\n\t\t\t\t\t\t\t\t\t\t\tshow: false,\r\n\t\t\t\t\t\t\t\t\t\t\tmodal: insetLocaltion,\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"z-panel-heading\">\r\n\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t{currentControl.label ? <Tag color=\"volcano\">{currentControl.label}</Tag> : null}\r\n\t\t\t\t\t\t\t\t\t已配置的选项\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"z-panel-body\">\r\n\t\t\t\t\t\t\t\t{[\"6\", \"7\", \"8\"].includes(curentLinkTypeRef.current.key) ? (\r\n\t\t\t\t\t\t\t\t\t<IDLinkagesConfigured ref={configuredRef} onRemove={onRemove} />\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<ValueLinkConfigured\r\n\t\t\t\t\t\t\t\t\t\tlinkageType={curentLinkTypeRef.current.key}\r\n\t\t\t\t\t\t\t\t\t\tref={configuredRef}\r\n\t\t\t\t\t\t\t\t\t\tonRemove={onRemove}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</section>\r\n\t\t\t) : null}\r\n\t\t</section>\r\n\t);\r\n}\r\nLinkageConfig.defaultProps = defaultProps;\r\nexport default React.memo(ZerodMainContext.setConsumer(LinkageConfig));\r\n","import React, { useState, useEffect, useRef, useImperativeHandle, useCallback } from \"react\";\r\nimport { Icon, Input, Tooltip } from \"antd\";\r\nimport { getControl, getOptions } from \"../Zform/controls\";\r\nexport default React.memo(function GroupNameEdit(props) {\r\n\tconst { value, onChange } = props;\r\n\tconst [inputValue, setInputValue] = useState();\r\n\tconst [edited, setEdited] = useState(false);\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{!edited ? <span>{value}</span> : null}\r\n\t\t\t{edited ? (\r\n\t\t\t\t<div className=\"z-display-inline-block\" style={{ width: \"180px\" }}>\r\n\t\t\t\t\t{getControl(\"Input\", {\r\n\t\t\t\t\t\tsize: \"small\",\r\n\t\t\t\t\t\tvalue: inputValue,\r\n\t\t\t\t\t\tonChange: value => {\r\n\t\t\t\t\t\t\tsetInputValue(value);\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t})}\r\n\t\t\t\t</div>\r\n\t\t\t) : null}\r\n\t\t\t{edited ? (\r\n\t\t\t\t<Tooltip placement=\"top\" title=\"取消\">\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"z-live-tool-item all-border small delete z-margin-left-10\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tsetEdited(false);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Icon type=\"close\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Tooltip>\r\n\t\t\t) : null}\r\n\t\t\t{edited ? (\r\n\t\t\t\t<Tooltip placement=\"top\" title=\"确定\">\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"z-live-tool-item all-border small z-margin-left-10\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tconst returner = typeof onChange === \"function\" && onChange(inputValue);\r\n\t\t\t\t\t\t\tif (returner) {\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tsetEdited(false);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Icon type=\"check\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Tooltip>\r\n\t\t\t) : null}\r\n\t\t\t{!edited ? (\r\n\t\t\t\t<Tooltip placement=\"top\" title=\"修改组名\">\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"z-live-tool-item all-border small z-margin-left-10\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tsetEdited(true);\r\n\t\t\t\t\t\t\tsetInputValue(value);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Icon type=\"form\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Tooltip>\r\n\t\t\t) : null}\r\n\t\t</>\r\n\t);\r\n});\r\n","var map = {\n\t\"./AmdDocHOC/index.jsx\": \"pnNO\",\n\t\"./AshowDemoHOC/index.jsx\": \"+fre\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"jjl2\";","import React, { useState, useEffect } from \"react\";\r\nimport { getControl } from \"../Zform/controls\";\r\nimport { httpAjax, itemsFromTree } from \"../zTool\";\r\n//treeSelect 异步加载子节点组件\r\nconst TreeSelectLoader = React.forwardRef(function(props, ref) {\r\n\tconst { selectList, selectionsUrl, selectionsQuery, selectListFieldNames, optionsChange, ...others } = props;\r\n\tconst [options, setOptions] = useState([]);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetOptions(selectList);\r\n\t}, [selectList]);\r\n\tuseEffect(() => {\r\n\t\toptionsChange && optionsChange(options);\r\n\t}, [options]);\r\n\treturn getControl(\"TreeSelect\", {\r\n\t\t...others,\r\n\t\ttreeData: options,\r\n\t\tshowSearch: false,\r\n\t\ttreeDefaultExpandAll: false,\r\n\t\tallowClear: true,\r\n\t\tloadData:\r\n\t\t\tselectionsUrl && selectionsUrl.requireType === \"part\"\r\n\t\t\t\t? treeNode => {\r\n\t\t\t\t\t\t// console.log(treeNode);\r\n\t\t\t\t\t\tif (treeNode.props.isLeaf) {\r\n\t\t\t\t\t\t\treturn Promise.resolve();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn httpAjax(selectionsUrl.selectionsUrlMethod, selectionsUrl.selectionsUrl, {\r\n\t\t\t\t\t\t\t...selectionsQuery,\r\n\t\t\t\t\t\t\tid: treeNode.props.value,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.then(re => {\r\n\t\t\t\t\t\t\t\titemsFromTree({\r\n\t\t\t\t\t\t\t\t\ttree: options,\r\n\t\t\t\t\t\t\t\t\tsourceItem: { value: treeNode.props.value },\r\n\t\t\t\t\t\t\t\t\tkeyObj: { id: \"value\", children: \"children\" },\r\n\t\t\t\t\t\t\t\t\taction({ tree, currentItem, item, index, keyObj }) {\r\n\t\t\t\t\t\t\t\t\t\tif (Array.isArray(re.data) && re.data.length) {\r\n\t\t\t\t\t\t\t\t\t\t\tcurrentItem.children = treeDataAddKey(\r\n\t\t\t\t\t\t\t\t\t\t\t\tre.data,\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel: \"title\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"value\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tchildren: \"children\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey: \"key\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\tselectListFieldNames,\r\n\t\t\t\t\t\t\t\t\t\t\t\tfalse,\r\n\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\tcurrentItem.children = null;\r\n\t\t\t\t\t\t\t\t\t\t\tcurrentItem.isLeaf = true;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.finally(() => {\r\n\t\t\t\t\t\t\t\tsetOptions([...options]);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t  }\r\n\t\t\t\t: undefined,\r\n\t});\r\n});\r\nexport default TreeSelectLoader;\r\n","/*\r\n * @Author: zgt\r\n * @Date: 2019-05-18 14:14:29\r\n * @LastEditors: zgt\r\n * @LastEditTime: 2019-10-12 15:55:32\r\n * @Description: file content\r\n */\r\nimport React from \"react\";\r\nimport { dataType } from \"../zTool\";\r\nimport controls from \"./controls\";\r\n\r\nexport const regionNames = [\r\n\t{ label: \"省份\", value: \"province\" },\r\n\t{ label: \"城市\", value: \"city\" },\r\n\t{ label: \"区\", value: \"district\" },\r\n\t{ label: \"街道\", value: \"street\" },\r\n\t{ label: \"省市\", value: \"province,city\" },\r\n\t{ label: \"省市区\", value: \"province,city,district\" },\r\n\t{ label: \"省市区街道\", value: \"province,city,district,street\" },\r\n];\r\n\r\n//以 \"seq\" 字段排序\r\nfunction sortList(o1, o2) {\r\n\tconst v1 = o1.hasOwnProperty(\"seq\") ? o1[\"seq\"] : 0;\r\n\tconst v2 = o2.hasOwnProperty(\"seq\") ? o2[\"seq\"] : 0;\r\n\treturn v1 - v2;\r\n}\r\n\r\nexport function pareLinkages(linkages) {\r\n\tif (Array.isArray(linkages)) {\r\n\t\treturn linkages;\r\n\t} else if (typeof linkages === \"string\" && /^\\[.+/.test(linkages)) {\r\n\t\treturn JSON.parse(linkages);\r\n\t}\r\n\treturn [];\r\n}\r\n//单个formItem\r\nexport function getFormItem({\r\n\tfield,\r\n\tgroup,\r\n\tlinkage,\r\n\tgetGroupsFn,\r\n\timperative,\r\n\tcustomOnChange,\r\n\tcustomFormRules,\r\n\tcustomControlRender,\r\n\tnoAsync,\r\n}) {\r\n\tconst getRules = customFormRules ? customFormRules[field.fieldKey] : null;\r\n\t\r\n\tconst newField = {\r\n\t\t...field,\r\n\t\tgroupId: group.id,\r\n\t\tseq: field.seq,\r\n\t\tkey: field.fieldKey,\r\n\t\tlabel: field.label,\r\n\t\tspan: field.span ? field.span : 8,\r\n\t\tlabelFocused: [5, 8, 9, 10, 11, 14].includes(field.fieldType),\r\n\t\timperative,\r\n\t\tcustomOnChange,\r\n\t\tcustomControlRender: field.fieldType === 14 ? customControlRender : undefined,\r\n\t};\r\n\tif (!customControlRender && field.fieldType === 14) {\r\n\t\tnewField.isFormItem = true;\r\n\t}\r\n\tnewField.options = controls[field.fieldType].getOptions(\r\n\t\tnewField,\r\n\t\ttypeof getRules === \"function\" ? getRules(newField, imperative) : [],\r\n\t);\r\n\r\n\tnewField.render = currentForm => {\r\n\t\treturn controls[newField.fieldType].getControl(\r\n\t\t\tnewField,\r\n\t\t\tlinkage,\r\n\t\t\tgetGroupsFn,\r\n\t\t\t{ disabled: field.disabled ,noAsync},\r\n\t\t\tundefined,\r\n\t\t\tcurrentForm,\r\n\t\t);\r\n\t};\r\n\treturn newField;\r\n}\r\n//从item.formFieldInfoList生成Zform的items\r\nexport function getGroupItem(opt = {}) {\r\n\tconst { group, labelLayout } = opt;\r\n\tconst formItems = group.formFieldInfoList.map(field => {\r\n\t\treturn getFormItem({\r\n\t\t\tfield,\r\n\t\t\t...opt,\r\n\t\t});\r\n\t});\r\n\tformItems.sort(sortList);\r\n\treturn {\r\n\t\tadditive: group.additive, //添加状态\r\n\t\tgroupRef: React.createRef(),\r\n\t\tseq: group.seq,\r\n\t\tid: group.id,\r\n\t\tname: group.name,\r\n\t\tformItems,\r\n\t\tlabelLayout,\r\n\t};\r\n}\r\n//从formData生成group数据\r\nexport function translateGroups({\r\n\tformData,\r\n\tgetGroupsFn,\r\n\tlinkage,\r\n\timperative,\r\n\tcustomOnChange,\r\n\tcustomFormRules,\r\n\tcustomControlRender,\r\n\tnoAsync,\r\n}) {\r\n\tif (dataType.isObject(formData) && Array.isArray(formData.sectionList)) {\r\n\t\tconst groups = formData.sectionList.map(group => {\r\n\t\t\treturn getGroupItem({\r\n\t\t\t\tgroup,\r\n\t\t\t\tlinkage: linkage ? pareLinkages(formData.linkages) : null,\r\n\t\t\t\tgetGroupsFn,\r\n\t\t\t\timperative,\r\n\t\t\t\tcustomOnChange: customOnChange || formData.customOnChange,\r\n\t\t\t\tcustomFormRules: customFormRules || formData.customFormRules,\r\n\t\t\t\tcustomControlRender: customControlRender || formData.customControlRender,\r\n\t\t\t\tlabelLayout: formData.labelLayout,\r\n\t\t\t\tnoAsync,\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tgroups.sort(sortList);\r\n\t\treturn groups;\r\n\t} else {\r\n\t\treturn [];\r\n\t}\r\n}\r\n//移除linkageRef对应fieldKey的联动配置\r\nexport function removeSomeLinkage(linkageRef, fieldKey) {\r\n\tlet hasRemoveAge = false;\r\n\tlinkageRef.current = linkageRef.current.filter(age => {\r\n\t\tconst unlikeness = age.src[\"fieldKey\"] !== fieldKey;\r\n\t\tif (unlikeness) {\r\n\t\t\tage.dist.forEach(d => {\r\n\t\t\t\td.fields = d.fields.filter(f => {\r\n\t\t\t\t\tconst unlikeness = f[\"fieldKey\"] !== fieldKey;\r\n\t\t\t\t\tif (!hasRemoveAge && !unlikeness) {\r\n\t\t\t\t\t\thasRemoveAge = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn unlikeness;\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t\tif (!hasRemoveAge && !unlikeness) {\r\n\t\t\thasRemoveAge = true;\r\n\t\t}\r\n\t\treturn unlikeness;\r\n\t});\r\n\treturn hasRemoveAge;\r\n}\r\n","module.exports = (__webpack_require__(\"9w1k\"))(366);","import React, { useState, useEffect, useRef, useImperativeHandle, useCallback } from \"react\";\r\nimport { Icon, Tooltip } from \"antd\";\r\n\r\nexport default React.memo(function InsertGroupBtns(props) {\r\n\tconst { onInsertUp, onInsertDown } = props;\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Tooltip placement=\"top\" title=\"向上插入一组\">\r\n\t\t\t\t<div className=\"z-live-tool-item all-border move small z-margin-right-10\" onClick={onInsertUp}>\r\n\t\t\t\t\t<Icon type=\"arrow-up\" className=\"z-group-insert\"/>\r\n\t\t\t\t</div>\r\n\t\t\t</Tooltip>\r\n\t\t\t<Tooltip placement=\"top\" title=\"向下插入一组\">\r\n\t\t\t\t<div className=\"z-live-tool-item all-border move small z-margin-right-10\" onClick={onInsertDown}>\r\n\t\t\t\t\t<Icon type=\"arrow-down\"  className=\"z-group-insert\"/>\r\n\t\t\t\t</div>\r\n\t\t\t</Tooltip>\r\n\t\t</>\r\n\t);\r\n});\r\n","import React, { useState, useEffect, useRef, useImperativeHandle, useCallback } from \"react\";\r\n// import { getControl, getOptions } from \"../../Zform/controls\";\r\nimport { Row, Col, Tag, Tooltip, Icon } from \"antd\";\r\nimport { regionNames } from \"../common\";\r\nfunction IDLinkagesConfigured(props, ref) {\r\n\tconst { onRemove } = props;\r\n\tconst [configured, setConfigured] = useState([]);\r\n\tuseImperativeHandle(ref, () => {\r\n\t\treturn {\r\n\t\t\tgetCurrentConfigured() {\r\n\t\t\t\treturn configured;\r\n\t\t\t},\r\n\t\t\tsetConfigured,\r\n\t\t};\r\n\t});\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{configured.map((c, index) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Row gutter={16} key={c.linkageType + c.src.fieldKey} type=\"flex\" className=\"z-link-configured\">\r\n\t\t\t\t\t\t<Col span={6}>\r\n\t\t\t\t\t\t\t{c.linkageType === \"6\" ? <span>身份证输入控件：</span> : null}\r\n\t\t\t\t\t\t\t<Tag color=\"#2db7f5\">{c.src.label}</Tag>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col span={14}>\r\n\t\t\t\t\t\t\t<span>{c.linkageType === \"6\" ? \"出生年月日接收控件：\" : \"联动控件：\"}</span>\r\n\t\t\t\t\t\t\t{c.dist.map(d => {\r\n\t\t\t\t\t\t\t\treturn d.fields.map(item => {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<Tag color=\"magenta\" key={item.fieldKey}>\r\n\t\t\t\t\t\t\t\t\t\t\t{item.label}\r\n\t\t\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t{c.asyncParamName ? (\r\n\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t请求选项，其参数名：<Tag color=\"red\">{c.asyncParamName}</Tag>\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t{c.regionName ? (\r\n\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t内容是：\r\n\t\t\t\t\t\t\t\t\t<Tag color=\"red\">{regionNames.find(item => item.value === c.regionName).label}</Tag>\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col span={4}>\r\n\t\t\t\t\t\t\t<Tooltip placement=\"top\" title=\"移除\">\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclassName=\"z-live-tool-item delete all-border small\"\r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\ttypeof onRemove === \"function\" && onRemove(c, index);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Icon type=\"delete\" />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t);\r\n\t\t\t})}\r\n\t\t\t{!configured.length ? <p className=\"z-text-center\">无配置</p> : null}\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default React.memo(React.forwardRef(IDLinkagesConfigured));\r\n","module.exports = (__webpack_require__(\"9w1k\"))(438);","module.exports = (__webpack_require__(\"9w1k\"))(329);","module.exports = (__webpack_require__(\"9w1k\"))(363);","module.exports = (__webpack_require__(\"9w1k\"))(497);","module.exports = (__webpack_require__(\"9w1k\"))(371);"],"sourceRoot":""}