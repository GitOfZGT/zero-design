{"version":3,"sources":["webpack:///./node_modules/zerod/components/zTool/index.js","webpack:///./node_modules/zerod/components/zTool/httpAjax.js","webpack:///./node_modules/zerod/components/ZerodRootContext.js","webpack:///./node_modules/zerod/components/ZappHOC/index.jsx","webpack:///./node_modules/zerod/components/zTool/Promise-extend.js","webpack:///./node_modules/zerod/components/ZappHOC/style.scss","webpack:///./node_modules/zerod/components/ZpureComponent.jsx","webpack:///./node_modules/zerod-ztool/index.js","webpack:///./node_modules/zerod/components/zTool/ResizeSensor.js"],"names":["httpAjax","Ajax","isChrome","userAgent","window","navigator","indexOf","IScrollInstance","el","opt","defaultopt","Object","assign","disableMouse","disablePointer","disableTouch","bounce","click","scrollX","scrollY","mouseWheel","preventDefault","bindToWrapper","eventPassthrough","scrollbars","interactiveScrollbars","shrinkScrollbars","momentum","mouseWheelSpeed","invertWheelDirection","ztool","dataTypeTest","IScroll","BuildScroll","nextScrollToTop","refresh","scroll","scrollTo","console","log","callbackWare","useCustomScroll","x","y","on","name","callback","scrollfunc","push","off","length","index","splice","scrollLeft","Math","abs","scrollTop","_initEvents","destroy","e","forEach","ware","style","overflow","canscroll","timer","wheelhandle","scrollElement","target","includes","getStyle","parentElement","contains","bindingWheelScroll","scrollDisableWheel","wrapperHeight","scrollerHeight","stopPropagation","clearTimeout","setTimeout","wrapper","addEventListener","scrollEnd","onWheel","delta","deltaY","wheelDeltaY","clientHeight","scrollHeight","listenDivSizeChange","scrollFun","ResizeSensor","IntroInstance","loadFileList","then","introJs","intro","setOptions","nextLabel","prevLabel","doneLabel","skipLabel","disableInteraction","showProgress","exitOnOverlayClick","showStepNumbers","showBullets","exitOnEsc","mergeConfig","defaultConfig","theConfig","deepCopy","zTool","formatNumber","str","t","toString","GenNonDuplicateID","randomLength","id","Number","random","substr","Date","now","getAuth","token","key","md5Key","md5Token","element","Base64","encode","getChannel","Auth","uuid","date","year","getFullYear","month","getMonth","day","getDate","hour","getHours","minute","getMinutes","second","getSeconds","Msecond","getUTCMilliseconds","tmp","signature","getHeaders","userinfo","JSON","parse","localStorage","getItem","userDO","method","url","query","config","noCallback","basePath","process","BASE_NAME","replace","msgAlert","globalMsgError","alert","headers","prototype","call","toLowerCase","params","data","location","Promise","resolve","keys","map","join","P","axios","promise","reject","result","code","msg","catch","re","response","newResult","message","status","error","path","defaultValue","context","React","createContext","Provider","Consumer","setConsumer","ChildComponent","value","props","forwardedRef","ZpureComponent","moment","locale","fistLoad","hasPaceWatch","Pace","isAppPortal","restart","ZappHOC","pageConfig","rootRoutes","footerLinks","footerCopyright","routerType","responseKeys","listType","list","totalCount","totalPage","App","routes","item","i","redirect","to","exact","component","Router","BrowserRouter","HashRouter","zh_CN","done","onFulfilled","onRejected","reason","finally","constructor","diff_Prev_Next","prev","next","dataType","isObject","propsKeys","should","isFunction","test","nextProps","nextState","state","Component","classcodes","loadFile","newUrl","protos","FileIsExt","ThisType","GetFileType","fileObj","document","createElement","src","href","type","rel","onload","onreadystatechange","readyState","getElementsByTagName","appendChild","lasindex","lastIndexOf","FileArray","_url","len","_files","isSequence","split","LoadedCount","shift","isServer","SPECIAL_CHARS_REGEXP","MOZ_HACK_REGEXP","ieVersion","documentMode","trim","string","camelCase","_","separator","letter","offset","toUpperCase","hasListenerEvents","onNoRepeatEvent","event","handler","hasBanded","attachEvent","removeEventListener","detachEvent","once","fn","listener","apply","arguments","hasClass","cls","Error","classList","className","addClass","curClass","classes","j","clsName","add","removeClass","remove","styleName","filters","opacity","currentStyle","computed","defaultView","getComputedStyle","setStyle","prop","hasOwnProperty","filter","isNaN","firstWordToUpperCase","L","data_types","array","object","number","boolean","null","undefined","function","symbol","set","Map","regExp","json","types","hasType","search","deepCopyObject","obj","newobj","getTime","deepCopyArray","newarray","arrayFilterFn","property","itemtype","hasItem","arrayFilterBy","concat","formatDate","time","format","ft","newdate","addZero","setTimes","fts","newTime","timeFtsLen","EetoString","num","reg","arr","zerod","exec","filterQuery","permissiveKys","newQuery","parseQueryString","isUrl","searchurl","reg_url","reg_para","arr_url","ret","str_para","checkDevices","global","accMul","arg1","arg2","m","s1","s2","digitUppercase","n","fraction","digit","unit","s","floor","p","startHttpReg","isHttpStart","formatterMapKey","mapKey","parentPath","notParPath","iconClass","children","newData","parPath","Array","isArray","itemsFromTree","tree","sourceItem","keyObj","action","parentItem","condition","finished","currentItem","removeItemFromTree","replaceItemFromTree","pushItemToTree","unshiftItemToTree","unshift","insertBeforeItemFromTree","insertAfterItemFromTree","isWhiteColor","turnMapKeys","srcMapKeys","label","distMapKeys","extands","valueToString","includesSourceItem","newItem","turnLabelOrValue","toDist","dist","parValueArr","newValueArr","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","forEachElement","elements","elementsType","isCollectionTyped","jQuery","Elements","getElementSize","getBoundingClientRect","width","offsetWidth","height","offsetHeight","rect","round","EventQueue","q","ev","newQueue","attachResizeEvent","resized","resizedAttached","resizeSensor","dir","styleChild","cssText","innerHTML","position","getPropertyValue","expand","childNodes","expandChild","shrink","dirty","rafId","newWidth","newHeight","size","lastWidth","lastHeight","reset","invisible","saveDisplay","display","resetSensor","onResized","onScroll","addEvent","cb","elem","detach","removeChild"],"mappings":"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","file":"static/js/5.4ebfda1f88e76a2e3e19.js","sourcesContent":["/*\r\n * @Author: zgt\r\n * @Date: 2018-08-21 10:59:31\r\n * @LastEditors: zgt\r\n * @LastEditTime: 2019-09-30 09:46:08\r\n * @Description: file content\r\n */\r\nimport IScroll from \"iscroll\";\r\n// import moment from \"moment\";\r\nimport Ajax from \"./httpAjax\";\r\nimport debounce from \"lodash/debounce\";\r\nimport ResizeSensor from \"./ResizeSensor\";\r\nimport merge from \"lodash/merge\";\r\nexport const httpAjax = Ajax;\r\nexport {\r\n\tgetStyle,\r\n\tsetStyle,\r\n\thasClass,\r\n\taddClass,\r\n\tremoveClass,\r\n\ton,\r\n\toff,\r\n\tonce,\r\n\tdataTypeTest,\r\n\tdeepCopyObject,\r\n\tdeepCopyArray,\r\n\tdeepCopy,\r\n\tformatDate,\r\n\tGenNonDuplicateID,\r\n\tarrayFilterBy,\r\n\tEetoString,\r\n\tonNoRepeatEvent,\r\n\tfilterQuery,\r\n\tparseQueryString,\r\n\tformatterMapKey,\r\n\tisUrl,\r\n\tcheckDevices,\r\n\tloadFileList,\r\n\tdataType,\r\n\tfirstWordToUpperCase,\r\n\tremoveItemFromTree,\r\n\treplaceItemFromTree,\r\n\tinsertBeforeItemFromTree,\r\n\tinsertAfterItemFromTree,\r\n\tpushItemToTree,\r\n\titemsFromTree,\r\n\tunshiftItemToTree,\r\n\tisWhiteColor,\r\n\tturnMapKeys,\r\n\tturnLabelOrValue,\r\n} from \"zerod-ztool\";\r\nimport ztool from \"zerod-ztool\";\r\n//\r\nfunction isChrome() {\r\n\tconst userAgent = window.navigator.userAgent;\r\n\treturn userAgent.indexOf(\"Chrome\") > -1;\r\n}\r\n//生成IScroll 滚动条实例\r\nexport const IScrollInstance = function(el, opt) {\r\n\tlet defaultopt = Object.assign(\r\n\t\t{\r\n\t\t\tdisableMouse: true,\r\n\t\t\tdisablePointer: true,\r\n\t\t\tdisableTouch: false,\r\n\t\t\tbounce: false, //当滚动条符合边界时，它会执行一个小的反弹动画\r\n\t\t\tclick: false, //要覆盖原生滚动，iScroll必须禁止某些默认浏览器行为，例如鼠标单击。如果您希望应用程序响应click事件，则必须将此选项显式设置为true。请注意，建议使用自定义tap事件\r\n\t\t\tscrollX: false, //启用横向滚动\r\n\t\t\tscrollY: true, //启用纵向滚动\r\n\t\t\tmouseWheel: true, //启用滚轮\r\n\t\t\tpreventDefault: false,\r\n\t\t\tbindToWrapper: false, //的move事件通常是结合于文件而不是滚动容器。当您将光标/手指移出包装器时，滚动会继续进行。这通常是您想要的，但您也可以将move事件绑定到包装器本身。一旦指针离开容器，滚动就会停止。\r\n\t\t\teventPassthrough: false, //有时您希望保留原生垂直滚动但能够添加水平iScroll（可能是旋转木马）。将此设置为true\r\n\t\t\tscrollbars: false, //显示滚动条，自定义滚动条样式：scrollbars选项'custom'\r\n\t\t\tinteractiveScrollbars: true, //滚动条可拖动\r\n\t\t\tshrinkScrollbars: \"scale\", //当滚动到边界之外时，滚动条会缩小一小部分。'clip'和'scale'\r\n\t\t\tmomentum: true, //您可以打开/关闭用户快速在屏幕上轻弹时执行的动量动画。关闭它可以大大提高性能。\r\n\t\t\tmouseWheelSpeed: 10,\r\n\t\t\tinvertWheelDirection: false, //激活鼠标滚轮支持时有意义，在这种情况下它只是反转滚动方向。（即向下滚动，反之亦然）。\r\n\t\t},\r\n\t\tztool.dataTypeTest(opt) === \"object\" ? opt : {},\r\n\t);\r\n\treturn new IScroll(el, defaultopt);\r\n};\r\n//更新iscroll\r\nexport const BuildScroll = function(el, opt) {\r\n\tthis.nextScrollToTop = false;\r\n\tthis.refresh =debounce(() =>{\r\n\t\tif (this.nextScrollToTop) {\r\n\t\t\tthis.scroll.scrollTo(0, 0, 200);\r\n\t\t\tthis.nextScrollToTop = false;\r\n\t\t}\r\n\t\tthis.scroll.refresh();\r\n\t\tconsole.log(\"scrollRefresh\")\r\n\t},60);\r\n\tthis.callbackWare = [];\r\n\tif (isChrome() && !opt.useCustomScroll) {\r\n\t\tthis.scroll = {\r\n\t\t\tx: 0,\r\n\t\t\ty: 0,\r\n\t\t\ton: (name, callback) => {\r\n\t\t\t\tif (name === \"scrollEnd\") {\r\n\t\t\t\t\tztool.on(el, \"scroll\", this.scrollfunc);\r\n\t\t\t\t\tthis.callbackWare.push(callback);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\toff: (name, callback) => {\r\n\t\t\t\tif (name === \"scrollEnd\") {\r\n\t\t\t\t\tif (!this.callbackWare.length) {\r\n\t\t\t\t\t\tztool.off(el, \"scroll\", this.scrollfunc);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconst index = this.callbackWare.indexOf(callback);\r\n\t\t\t\t\t\tif (index > -1) {\r\n\t\t\t\t\t\t\tthis.callbackWare.splice(index, 1);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tscrollTo: (x, y) => {\r\n\t\t\t\ttypeof x === \"number\" && ((el.scrollLeft = Math.abs(x)), (this.scroll.x = Math.abs(x)));\r\n\t\t\t\ttypeof y === \"number\" && ((el.scrollTop = Math.abs(y)), (this.scroll.y = Math.abs(y)));\r\n\t\t\t},\r\n\t\t\trefresh() {},\r\n\t\t\t_initEvents() {},\r\n\t\t\tdestroy: () => {\r\n\t\t\t\t// zTool.off(el, \"mouseenter\", this.showScroll);\r\n\t\t\t\t// zTool.off(el, \"mouseleave\", this.hideScroll);\r\n\t\t\t},\r\n\t\t};\r\n\t\tthis.scrollfunc = e => {\r\n\t\t\tthis.scroll.x = -el.scrollLeft;\r\n\t\t\tthis.scroll.y = -el.scrollTop;\r\n\t\t\tthis.callbackWare.forEach(ware => {\r\n\t\t\t\ttypeof ware === \"function\" && ware(e);\r\n\t\t\t});\r\n\t\t};\r\n\t\t// this.showScroll = () => {\r\n\t\t// \tel.style.overflow = \"auto\";\r\n\t\t// };\r\n\t\t// this.hideScroll = () => {\r\n\t\t// \tel.style.overflow = \"hidden\";\r\n\t\t// };\r\n\t\t// zTool.on(el, \"mouseenter\", this.showScroll);\r\n\t\t// zTool.on(el, \"mouseleave\", this.hideScroll);\r\n\t\tel.style.overflow = \"auto\";\r\n\t} else {\r\n\t\tthis.scroll = IScrollInstance(el, opt);\r\n\t\t// console.log(this.scroll);\r\n\t\t//解决嵌套滚动条滚动问题\r\n\t\tlet canscroll = false;\r\n\t\tlet timer = null;\r\n\t\tconst wheelhandle = e => {\r\n\t\t\tlet scrollElement = e.target;\r\n\t\t\twhile (\r\n\t\t\t\tscrollElement &&\r\n\t\t\t\tscrollElement !== el &&\r\n\t\t\t\t![\"auto\", \"scroll\"].includes(ztool.getStyle(scrollElement, \"overflow-y\"))\r\n\t\t\t) {\r\n\t\t\t\tscrollElement = scrollElement.parentElement;\r\n\t\t\t}\r\n\t\t\tif (scrollElement && el.contains(scrollElement)) {\r\n\t\t\t\tif (!scrollElement.bindingWheelScroll) {\r\n\t\t\t\t\tscrollDisableWheel(scrollElement,opt);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (this.scroll.wrapperHeight - this.scroll.y !== this.scroll.scrollerHeight && this.scroll.y !== 0) {\r\n\t\t\t\te.stopPropagation();\r\n\t\t\t\tcanscroll = true;\r\n\t\t\t} else {\r\n\t\t\t\tif (canscroll) {\r\n\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t}\r\n\t\t\t\tclearTimeout(timer);\r\n\t\t\t\ttimer = setTimeout(() => {\r\n\t\t\t\t\tcanscroll = false;\r\n\t\t\t\t}, 320);\r\n\t\t\t}\r\n\t\t};\r\n\t\tthis.scroll.wrapper.addEventListener(\"wheel\", wheelhandle, false);\r\n\t\tthis.scroll.wrapper.addEventListener(\"mousewheel\", wheelhandle, false);\r\n\t\tthis.scroll.wrapper.addEventListener(\"DOMMouseScroll\", wheelhandle, false);\r\n\t\tthis.scroll.wrapper.addEventListener(\r\n\t\t\t\"mouseover\",\r\n\t\t\t() => {\r\n\t\t\t\tcanscroll = true;\r\n\t\t\t},\r\n\t\t\tfalse,\r\n\t\t);\r\n\t}\r\n};\r\n//\r\nexport const scrollDisableWheel = function(el, opt = {}) {\r\n\tif (isChrome() && !opt.useCustomScroll) return;\r\n\tel.bindingWheelScroll = true;\r\n\tlet scrollEnd = true;\r\n\tlet onWheel = e => {\r\n\t\tconst delta = e.deltaY ? e.deltaY : -e.wheelDeltaY;\r\n\t\tif ((delta > 0 && el.scrollTop + el.clientHeight < el.scrollHeight) || (delta < 0 && el.scrollTop > 0)) {\r\n\t\t\tscrollEnd = false;\r\n\t\t}\r\n\t\tif (!scrollEnd) e.stopPropagation();\r\n\t};\r\n\tztool.on(el, \"wheel\", onWheel);\r\n\tztool.on(el, \"mousewheel\", onWheel);\r\n\tztool.on(el, \"DOMMouseScroll\", onWheel);\r\n\tztool.on(el, \"scroll\", e => {\r\n\t\tscrollEnd = el.scrollTop + el.clientHeight >= el.scrollHeight || el.scrollTop === 0;\r\n\t});\r\n};\r\n//监听盒子（div）尺寸变化\r\nexport const listenDivSizeChange = function(el, scrollFun, opt = {}) {\r\n\tif (isChrome() && !opt.useCustomScroll) return;\r\n\tnew ResizeSensor(el, debounce(scrollFun, 60));\r\n};\r\n\r\n//生成 引导提示 introjs的实例，注意的是：此函数返回promise 需要在then((intro)>{})拿introjs的实例\r\nexport const IntroInstance = function(opt) {\r\n\t//异步加载相关文件\r\n\treturn ztool\r\n\t\t.loadFileList([\r\n\t\t\t\"./static/introJs/introjs.min.css\",\r\n\t\t\t\"./static/introJs/themes/introjs-flattener.css\",\r\n\t\t\t\"./static/introJs/intro.min.js\",\r\n\t\t])\r\n\t\t.then(() => {\r\n\t\t\tif (window.introJs) {\r\n\t\t\t\tconst intro = window.introJs();\r\n\t\t\t\tintro.setOptions(\r\n\t\t\t\t\tObject.assign(\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tnextLabel: \"下一个\",\r\n\t\t\t\t\t\t\tprevLabel: \"上一个\",\r\n\t\t\t\t\t\t\tdoneLabel: \"没有下一个，关闭\",\r\n\t\t\t\t\t\t\tskipLabel: \"关闭\",\r\n\t\t\t\t\t\t\tdisableInteraction: true, //是否让element可点击\r\n\t\t\t\t\t\t\tshowProgress: true, //进度条\r\n\t\t\t\t\t\t\texitOnOverlayClick: false, //是否点击遮罩层关闭\r\n\t\t\t\t\t\t\tshowStepNumbers: true, //是否显示步骤数字\r\n\t\t\t\t\t\t\tshowBullets: true, //是否显示步骤圆点\r\n\t\t\t\t\t\t\t// showButtons:true,\r\n\t\t\t\t\t\t\texitOnEsc: false,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\topt,\r\n\t\t\t\t\t),\r\n\t\t\t\t);\r\n\t\t\t\treturn intro;\r\n\t\t\t}\r\n\t\t});\r\n};\r\n\r\n// 合并defaultConfig的属性生成新的config\r\nexport const mergeConfig = (defaultConfig, theConfig) => {\r\n\tif (ztool.dataTypeTest(defaultConfig) === \"object\" && ztool.dataTypeTest(theConfig) === \"object\") {\r\n\t\treturn merge(ztool.deepCopy(defaultConfig), theConfig);\r\n\t}\r\n};\r\n\r\nexport const zTool = {\r\n\t...ztool,\r\n\tBuildScroll,\r\n\tIScrollInstance,\r\n\tscrollDisableWheel,\r\n\tIntroInstance,\r\n\tlistenDivSizeChange,\r\n\tmergeConfig,\r\n\thttpAjax,\r\n};\r\nexport default zTool;\r\n","/*\r\n * @Author: zgt\r\n * @Date: 2019-04-10 15:11:45\r\n * @LastEditors: zgt\r\n * @LastEditTime: 2019-10-09 15:57:11\r\n * @Description: file content\r\n */\r\nimport \"./Promise-extend.js\";\r\nimport axios from \"axios\";\r\nimport uuidv4 from \"uuid/v4\";\r\nimport { Base64 } from \"js-base64\";\r\nimport md5 from \"blueimp-md5\";\r\n\r\nfunction formatNumber(str, t = 2) {\r\n\tstr = str.toString();\r\n\twhile (str.length < t) {\r\n\t\tstr = \"0\" + str;\r\n\t}\r\n\treturn str;\r\n}\r\n//随机产生不重复id\r\nfunction GenNonDuplicateID(randomLength = 8) {\r\n\tlet id = Number(\r\n\t\tMath.random()\r\n\t\t\t.toString()\r\n\t\t\t.substr(3, randomLength) + Date.now(),\r\n\t).toString();\r\n\treturn id;\r\n}\r\n//生成与后台协定的 X-Auth-Info\r\nfunction getAuth(token = \"123\") {\r\n\tconst key = GenNonDuplicateID().toString();\r\n\tconst md5Key = md5(key);\r\n\tconst md5Token = md5(token);\r\n\tlet str = \"\";\r\n\tfor (let index = 0; index < md5Key.length; index += 2) {\r\n\t\tconst element = md5Key[index];\r\n\t\tstr += element;\r\n\t}\r\n\treturn `${md5Token},${key},${Base64.encode(`${md5Token}${str}`)}`;\r\n}\r\n//生成与后台协定的 X-Channel-Info\r\nfunction getChannel(Auth) {\r\n\tconst uuid = uuidv4();\r\n\t// console.log(\"uuid\", uuid);\r\n\tconst date = new Date();\r\n\tconst year = date.getFullYear();\r\n\tconst month = date.getMonth() + 1;\r\n\tconst day = date.getDate();\r\n\tconst hour = date.getHours();\r\n\tconst minute = date.getMinutes();\r\n\tconst second = date.getSeconds();\r\n\tconst Msecond = date.getUTCMilliseconds();\r\n\tconst str = `${year}${formatNumber(month)}${formatNumber(day)}${formatNumber(hour)}${formatNumber(\r\n\t\tminute,\r\n\t)}${formatNumber(second)}${formatNumber(Msecond, 3)}`;\r\n\t// console.log(\"timer\", str);\r\n\tconst tmp = `${uuid},${str},${md5(Auth)}`;\r\n\tconst signature = Base64.encode(tmp);\r\n\treturn `${uuid},${str},${signature}`;\r\n}\r\n\r\nfunction getHeaders() {\r\n\tlet userinfo = {};\r\n\ttry {\r\n\t\tuserinfo = JSON.parse(localStorage.getItem(\"main_save_userInfo\"));\r\n\t} catch (e) {}\r\n\tif (userinfo && userinfo.token) {\r\n\t\tconst Auth = getAuth(userinfo.token);\r\n\t\treturn {\r\n\t\t\t\"X-Token\": userinfo.token,\r\n\t\t\t\"X-Auth-Info\": Auth,\r\n\t\t\t\"X-Channel-Info\": getChannel(Auth),\r\n\t\t\t\"X-UserId\": userinfo.userDO ? userinfo.userDO.id : \"\",\r\n\t\t};\r\n\t}\r\n\treturn null;\r\n}\r\n\r\n// import {const_notification} from '../constant';\r\n/**\r\n *\r\n * @param {string} method //get || post || put    .....\r\n * @param {string} url\r\n * @param {object} query //接口参数，key，value 对应\r\n * @param {object} config //可配置请求头等，请看下面的config注释\r\n */\r\nfunction httpAjax(method, url, query, config, noCallback) {\r\n\t//来自环境变量的basepath\r\n\tconst basePath = process && process.env && process.env.BASE_NAME ? process.env.BASE_NAME.replace(/\\/$/, \"\") : \"\";\r\n\turl = basePath + url;\r\n\t//请求错误弹出提示框方法\r\n\tconst msgAlert = typeof window.globalMsgError === \"function\" ? window.globalMsgError : window.alert;\r\n\tconfig = config ? config : {};\r\n\tconst headers = getHeaders();\r\n\tif (headers) {\r\n\t\tconfig = {\r\n\t\t\t...config,\r\n\t\t\theaders: {\r\n\t\t\t\t...(Object.prototype.toString.call(config.headers) == \"[object Object]\" ? config.headers : {}),\r\n\t\t\t\t...headers,\r\n\t\t\t},\r\n\t\t};\r\n\t}\r\n\tmethod = method.toLowerCase(); //转小写\r\n\tswitch (method) {\r\n\t\tcase \"get\":\r\n\t\t\t//将get||delete请求传参处理成与post传参方式一致\r\n\t\t\tconfig = Object.assign(config, { params: query });\r\n\t\t\tbreak;\r\n\t\tcase \"delete\":\r\n\t\t\tconfig = Object.assign(config, { data: query });\r\n\t\t\tbreak;\r\n\t\tcase \"location\":\r\n\t\t\twindow.location.assign(url);\r\n\t\t\treturn;\r\n\t\tcase \"url\":\r\n\t\t\treturn url;\r\n\t\tcase \"url-promise\":\r\n\t\t\treturn Promise.resolve(url);\r\n\t\tcase \"post-params\":\r\n\t\t\tmethod = \"post\";\r\n\t\t\tquery =\r\n\t\t\t\ttypeof query == \"string\"\r\n\t\t\t\t\t? query\r\n\t\t\t\t\t: Object.keys(query)\r\n\t\t\t\t\t\t\t.map(key => {\r\n\t\t\t\t\t\t\t\treturn `${key}=${query[key]}`;\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.join(\"&\");\r\n\t\t\tbreak;\r\n\t}\r\n\tlet P = null;\r\n\tswitch (method) {\r\n\t\tcase \"get\":\r\n\t\t\tP = axios[method](url, config);\r\n\t\t\tbreak;\r\n\t\tcase \"delete\":\r\n\t\t\tP = axios[method](url, config);\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\tP = axios[method](url, query, config);\r\n\t}\r\n\tlet promise = noCallback\r\n\t\t? P\r\n\t\t: new Promise((resolve, reject) => {\r\n\t\t\t\tP &&\r\n\t\t\t\t\tP.then(result => {\r\n\t\t\t\t\t\tif (result.data && (result.data.code === -1 || result.data.code === 500)) {\r\n\t\t\t\t\t\t\tconst msg = result.data.msg || result.data.data || \"请求错误\";\r\n\t\t\t\t\t\t\tmsgAlert(msg);\r\n\t\t\t\t\t\t\treject(result.data);\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (result.data && result.data.code == 403403) {\r\n\t\t\t\t\t\t\tmsgAlert(result.data.msg ? result.data.msg : \"用户未登录或身份已过期\");\r\n\t\t\t\t\t\t\treject(result.data);\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// 后台请求返回的code=0是操作成功\r\n\t\t\t\t\t\tresult.data && result.data.code === 0 ? resolve(result.data) : reject(result.data);\r\n\t\t\t\t\t}).catch(result => {\r\n\t\t\t\t\t\tconst re = result.response && result.response.data ? result.response.data : {};\r\n\t\t\t\t\t\tconst newResult = {\r\n\t\t\t\t\t\t\tmsg: re.message,\r\n\t\t\t\t\t\t\tmsg: re.message,\r\n\t\t\t\t\t\t\tstatus: re.status,\r\n\t\t\t\t\t\t\terror: re.error,\r\n\t\t\t\t\t\t\tpath: re.path,\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tif (newResult.msg || newResult.error) {\r\n\t\t\t\t\t\t\tmsgAlert(newResult.msg || newResult.error);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treject(newResult);\r\n\t\t\t\t\t});\r\n\t\t  });\r\n\treturn promise;\r\n}\r\nexport default httpAjax;\r\n// axios.interceptors.response.use(\r\n// \tfunction(response) {\r\n//         return Promise.reject(response.data);\r\n// \t\t// return response.data.code === 0 ? response.data : Promise.reject(response.data);\r\n// \t},\r\n// \tfunction(error) {\r\n//         console.log(error)\r\n// \t\t// Do something with response error\r\n// \t\treturn error;\r\n// \t},\r\n// );\r\n\r\n/* axios.request(config)\r\naxios.get(url[, config])\r\naxios.delete(url[, config])\r\naxios.head(url[, config])\r\naxios.post(url[, data[, config]])\r\naxios.put(url[, data[, config]])\r\naxios.patch(url[, data[, config]]) */\r\n\r\n//config\r\n/* {\r\n    //请求的接口，在请求的时候，如axios.get(url,config);这里的url会覆盖掉config中的url\r\n    url: '/user',\r\n\r\n    // 请求方法，同上\r\n    method: 'get', // default\r\n    // 基础url前缀\r\n    baseURL: 'https://some-domain.com/api/',\r\n\r\n\r\n    transformRequest: [function (data) {\r\n      // 这里可以在发送请求之前对请求数据做处理，比如form-data格式化等，这里可以使用开头引入的Qs（这个模块在安装axios的时候就已经安装了，不需要另外安装）\r\n  　　data = Qs.stringify({});\r\n      return data;\r\n    }],\r\n\r\n    transformResponse: [function (data) {\r\n      // 这里提前处理返回的数据\r\n\r\n      return data;\r\n    }],\r\n\r\n    // 请求头信息\r\n    headers: {'X-Requested-With': 'XMLHttpRequest'},\r\n\r\n    //parameter参数\r\n    params: {\r\n      ID: 12345\r\n    },\r\n\r\n    //post参数，使用axios.post(url,{},config);如果没有额外的也必须要用一个空对象，否则会报错\r\n    data: {\r\n      firstName: 'Fred'\r\n    },\r\n\r\n    //设置超时时间\r\n    timeout: 1000,\r\n    //返回数据类型\r\n    responseType: 'json', // default\r\n\r\n\r\n  } */\r\n","import React from \"react\";\r\nimport ZpureComponent from \"./ZpureComponent\";\r\nconst defaultValue = {};\r\nconst context = React.createContext(defaultValue);//创建上下文\r\nconst { Provider, Consumer } = context;\r\n//提供启用上下文的方法\r\nconst setConsumer = ChildComponent => {\r\n\treturn class ContextConsumer extends ZpureComponent {\r\n\t\trender() {\r\n\t\t\treturn <Consumer>{value => <ChildComponent {...this.props} {...value} ref={this.props.forwardedRef}/>}</Consumer>;\r\n\t\t}\r\n\t};\r\n};\r\nexport default {\r\n\tname: \"ZerodRootContext\",//上下文名称（必需）\r\n\tProvider,\r\n\tConsumer,\r\n\tsetConsumer,\r\n};\r\n","import React from \"react\";\r\nimport ZpureComponent from \"../ZpureComponent\";\r\nimport { BrowserRouter, HashRouter, Route, Redirect, Switch } from \"react-router-dom\";\r\nimport { ConfigProvider } from \"antd\";\r\nimport zh_CN from \"antd/lib/locale-provider/zh_CN\";\r\nimport moment from \"moment\";\r\nimport \"moment/locale/zh-cn\";\r\nmoment.locale(\"zh-cn\");\r\nimport ZerodRootContext from \"../ZerodRootContext\";\r\nimport { mergeConfig } from \"../zTool\";\r\nimport \"./style.scss\";\r\nlet fistLoad = true;\r\nfunction hasPaceWatch() {\r\n\tif (window.Pace && fistLoad) {\r\n\t\tfistLoad = false;\r\n\t\twindow.addEventListener(\r\n\t\t\t\"hashchange\",\r\n\t\t\t() => {\r\n\t\t\t\t!window.isAppPortal && window.Pace && window.Pace.restart();\r\n\t\t\t},\r\n\t\t\tfalse,\r\n\t\t);\r\n\t}\r\n}\r\nfunction ZappHOC(pageConfig) {\r\n\tlet defaultConfig = {\r\n\t\trootRoutes: [],\r\n\t\tfooterLinks: null,\r\n\t\tfooterCopyright: null,\r\n\t\trouterType: \"history\",\r\n\t\tresponseKeys: {\r\n\t\t\tlistType: {\r\n\t\t\t\tlist: \"list\",\r\n\t\t\t\ttotalCount: \"totalCount\",\r\n\t\t\t\ttotalPage: \"totalPage\",\r\n\t\t\t},\r\n\t\t},\r\n\t};\r\n\t// console.log(dataType.isObject(pageConfig),pageConfig);\r\n\tdefaultConfig = mergeConfig(defaultConfig, pageConfig);\r\n\tif (defaultConfig.routerType == \"hash\") {\r\n\t\thasPaceWatch();\r\n\t}\r\n\tconsole.log(process.env);\r\n\tclass App extends ZpureComponent {\r\n\t\tconfig = defaultConfig;\r\n\t\troutes = this.config.rootRoutes.map((item, i) => {\r\n\t\t\treturn item.redirect ? (\r\n\t\t\t\t<Route key={i} exact path={item.path} render={() => <Redirect to={item.to} />} />\r\n\t\t\t) : (\r\n\t\t\t\t<Route key={i} exact={item.exact} path={item.path} component={item.component} />\r\n\t\t\t);\r\n\t\t});\r\n\t\trender() {\r\n\t\t\tconst Router = this.config.routerType === \"history\" ? BrowserRouter : HashRouter;\r\n\t\t\treturn (\r\n\t\t\t\t<ConfigProvider locale={zh_CN}>\r\n\t\t\t\t\t<ZerodRootContext.Provider\r\n\t\t\t\t\t\tvalue={{\r\n\t\t\t\t\t\t\tfooterLinks: this.config.footerLinks,\r\n\t\t\t\t\t\t\tfooterCopyright: this.config.footerCopyright,\r\n\t\t\t\t\t\t\tresponseKeys: this.config.responseKeys,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Router basename={process && process.env && process.env.BASE_NAME ? process.env.BASE_NAME : \"\"}>\r\n\t\t\t\t\t\t\t<>{this.routes}</>\r\n\t\t\t\t\t\t</Router>\r\n\t\t\t\t\t</ZerodRootContext.Provider>\r\n\t\t\t\t</ConfigProvider>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\treturn App;\r\n}\r\nexport default ZappHOC;\r\n","// const promise = new Promise(function(resolve, reject) {\r\n//     // ... some code\r\n  \r\n//     if (/* 异步操作成功 */){\r\n//       resolve(value);\r\n//     } else {\r\n//       reject(error);\r\n//     }\r\n//   });\r\n// Promise.prototype.then() \r\n// Promise.prototype.catch()\r\n// Promise.race()\r\n// Promise.resolve()\r\n// Promise.reject()\r\n\r\n// Promise除了以上原生自带的方法外，我们还可以扩展一些很有用的方法\r\n// Promise 对象的回调链，不管以then方法或catch方法结尾，要是最后一个方法抛出错误，都有可能无法捕捉到（因为 Promise 内部的错误不会冒泡到全局）。因此，我们可以提供一个done方法，总是处于回调链的尾端，保证抛出任何可能出现的错误。\r\nPromise.prototype.done = function (onFulfilled, onRejected) {\r\n    this.then(onFulfilled, onRejected)\r\n      .catch(function (reason) {\r\n        // 抛出一个全局错误\r\n        setTimeout(() => { throw reason }, 0);\r\n      });\r\n  };\r\n//   finally方法用于指定不管 Promise 对象最后状态如何，都会执行的操作。它与done方法的最大区别，它接受一个普通的回调函数作为参数，该函数不管怎样都必须执行。\r\nPromise.prototype.finally = function (callback) {\r\n    let P = this.constructor;\r\n    return this.then(\r\n      value  => P.resolve(callback()).then(() => value),\r\n      reason => P.resolve(callback()).then(() => { throw reason })\r\n    );\r\n  };","// extracted by mini-css-extract-plugin","import React from \"react\";\r\nimport { dataType } from \"./zTool\";\r\n\r\nfunction diff_Prev_Next(prev, next) {\r\n\tif (!dataType.isObject(prev) || !dataType.isObject(next)) return true;\r\n\tconst propsKeys = Object.keys(next);\r\n\tlet should = false;\r\n\tfor (let index = 0; index < propsKeys.length; index++) {\r\n\t\tconst key = propsKeys[index];\r\n\t\tif (prev[key] !== next[key] || (dataType.isFunction(next[key]) && !/^(on|export)[A-Z]{1}[\\w\\-]*$/.test(key))) {\r\n\t\t\tshould = true;\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\treturn should;\r\n}\r\nexport class ZpureComponent extends React.Component {\r\n\tshouldComponentUpdate(nextProps, nextState) {\r\n\t\tif (diff_Prev_Next(this.props, nextProps)) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tif (diff_Prev_Next(this.state, nextState)) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n}\r\n\r\nexport default ZpureComponent;\r\n","/*\r\n * @Author: zgt\r\n * @Date: 2019-06-24 11:04:00\r\n * @LastEditors: zgt\r\n * @LastEditTime: 2019-09-07 15:48:07\r\n * @Description: file content\r\n */\r\n/*加载一批文件，_files:文件路径数组,可包括js,css,less文件,isSequence 是否按数组的顺序加载*/\r\nexport const loadFileList = (function() {\r\n  /* 已加载文件缓存列表,用于判断文件是否已加载过，若已加载则不再次加载*/\r\n  let classcodes = [];\r\n  /*加载JS文件,url:文件路径*/\r\n  const loadFile = function(url) {\r\n    let newUrl = \"\";\r\n    let protos = null;\r\n    if (dataTypeTest(url) === \"object\") {\r\n      newUrl = url.url;\r\n      protos = url.protos;\r\n    } else {\r\n      newUrl = url;\r\n    }\r\n    if (!FileIsExt(classcodes, newUrl)) {\r\n      var ThisType = GetFileType(newUrl);\r\n      var fileObj = null;\r\n      if (ThisType == \".js\" || ThisType == \"http\") {\r\n        fileObj = document && document.createElement(\"script\");\r\n        fileObj.src = newUrl;\r\n      } else if (ThisType == \".css\") {\r\n        fileObj = document && document.createElement(\"link\");\r\n        fileObj.href = newUrl;\r\n        fileObj.type = \"text/css\";\r\n        fileObj.rel = \"stylesheet\";\r\n      } else if (ThisType == \".less\") {\r\n        fileObj = document && document.createElement(\"link\");\r\n        fileObj.href = newUrl;\r\n        fileObj.type = \"text/css\";\r\n        fileObj.rel = \"stylesheet/less\";\r\n      }\r\n      if (dataTypeTest(protos) === \"object\" && fileObj) {\r\n        Object.keys(protos).forEach(key => {\r\n          fileObj[key] = protos[key];\r\n        });\r\n      }\r\n      if (fileObj)\r\n        return new Promise(function(resolve, reject) {\r\n          fileObj.onload = fileObj.onreadystatechange = function() {\r\n            if (\r\n              !this.readyState ||\r\n              \"loaded\" === this.readyState ||\r\n              \"complete\" === this.readyState\r\n            ) {\r\n              // success();\r\n              classcodes.push(newUrl);\r\n              resolve();\r\n            }\r\n          };\r\n          document &&\r\n            document.getElementsByTagName(\"head\")[0].appendChild(fileObj);\r\n        });\r\n      else return Promise.resolve();\r\n    } else {\r\n      return Promise.resolve();\r\n    }\r\n  };\r\n  /*获取文件类型,后缀名，小写*/\r\n  const GetFileType = function(url) {\r\n    if (url != null && url.length > 0) {\r\n      const lasindex = url.lastIndexOf(\".\");\r\n      if (lasindex > -1) {\r\n        return url.substr(url.lastIndexOf(\".\")).toLowerCase();\r\n      } else if (/^(http:|https:)/.test(url)) {\r\n        return \"http\";\r\n      }\r\n    }\r\n    return \"\";\r\n  };\r\n  /*文件是否已加载*/\r\n  const FileIsExt = function(FileArray, _url) {\r\n    if (FileArray != null && FileArray.length > 0) {\r\n      var len = FileArray.length;\r\n      for (var i = 0; i < len; i++) {\r\n        if (FileArray[i] == _url) {\r\n          return true;\r\n        }\r\n      }\r\n    }\r\n    return false;\r\n  };\r\n  return function(_files, isSequence) {\r\n    var FileArray = [];\r\n    if (dataTypeTest(_files) === \"array\") {\r\n      FileArray = _files;\r\n    } else if (dataTypeTest(_files) === \"string\") {\r\n      /*如果文件列表是字符串，则用,切分成数组*/\r\n      FileArray = _files.split(\",\");\r\n    }\r\n    if (FileArray != null && FileArray.length > 0) {\r\n      var LoadedCount = 0;\r\n      if (isSequence) {\r\n        //依次加载\r\n        return new Promise(function(resolve, reject) {\r\n          const len = FileArray.length;\r\n          let P = loadFile(FileArray.shift());\r\n          for (var i = 0; i < len - 1; i++) {\r\n            const url = FileArray[i];\r\n            P = P.then(function() {\r\n              LoadedCount++;\r\n              return loadFile(url);\r\n            });\r\n          }\r\n          P.then(function() {\r\n            LoadedCount++;\r\n            if (LoadedCount === len) {\r\n              resolve();\r\n            }\r\n          });\r\n        });\r\n      } else {\r\n        //非依次加载\r\n        return new Promise(function(resolve, reject) {\r\n          const len = FileArray.length;\r\n          for (var i = 0; i < len; i++) {\r\n            const url = FileArray[i];\r\n            loadFile(url).then(function() {\r\n              LoadedCount++;\r\n              if (LoadedCount === len) {\r\n                resolve();\r\n              }\r\n            });\r\n          }\r\n        });\r\n      }\r\n    } else {\r\n      return Promise.reject();\r\n    }\r\n  };\r\n})();\r\n// import Vue from 'vue';\r\n\r\n// const isServer = Vue.prototype.$isServer;\r\nconst isServer = false;\r\nconst SPECIAL_CHARS_REGEXP = /([\\:\\-\\_]+(.))/g;\r\nconst MOZ_HACK_REGEXP = /^moz([A-Z])/;\r\nconst ieVersion = isServer ? 0 : Number(document ? document.documentMode : 0);\r\n\r\n/* 去掉字符串首尾空格 */\r\nconst trim = function(string) {\r\n  return (string || \"\").replace(/^[\\s\\uFEFF]+|[\\s\\uFEFF]+$/g, \"\");\r\n};\r\n/* istanbul ignore next */\r\nconst camelCase = function(name) {\r\n  return name\r\n    .replace(SPECIAL_CHARS_REGEXP, function(_, separator, letter, offset) {\r\n      return offset ? letter.toUpperCase() : letter;\r\n    })\r\n    .replace(MOZ_HACK_REGEXP, \"Moz$1\");\r\n};\r\n//绑定不重复的事件\r\nconst hasListenerEvents = [];\r\nexport const onNoRepeatEvent = function(element, event, handler) {\r\n  let hasBanded = null;\r\n  let index = 0;\r\n  for (let i = 0; i < hasListenerEvents.length; i++) {\r\n    const item = hasListenerEvents[i];\r\n    if (item.element == element && item.event == event) {\r\n      hasBanded = item;\r\n      index = i;\r\n      break;\r\n    }\r\n  }\r\n  if (hasBanded) {\r\n    off(hasBanded.element, hasBanded.event, hasBanded.handler);\r\n    on(element, event, handler);\r\n    hasListenerEvents.splice(index, 1, { element, event, handler });\r\n  } else {\r\n    on(element, event, handler);\r\n    hasListenerEvents.push({ element, event, handler });\r\n  }\r\n};\r\n/* 绑定事件on(element, event, handler) */\r\nexport const on = (function() {\r\n  if (!isServer && document && document.addEventListener) {\r\n    return function(element, event, handler) {\r\n      if (element && event && handler) {\r\n        element.addEventListener(event, handler, false);\r\n      }\r\n    };\r\n  } else {\r\n    return function(element, event, handler) {\r\n      if (element && event && handler) {\r\n        element.attachEvent(\"on\" + event, handler);\r\n      }\r\n    };\r\n  }\r\n})();\r\n\r\n/* 绑定事件off(element, event, handler) */\r\nexport const off = (function() {\r\n  if (!isServer && document && document.removeEventListener) {\r\n    return function(element, event, handler) {\r\n      if (element && event) {\r\n        element.removeEventListener(event, handler, false);\r\n      }\r\n    };\r\n  } else {\r\n    return function(element, event, handler) {\r\n      if (element && event) {\r\n        element.detachEvent(\"on\" + event, handler);\r\n      }\r\n    };\r\n  }\r\n})();\r\n\r\n/* 绑定一次性事件one(element, event, handler) */\r\nexport const once = function(el, event, fn) {\r\n  var listener = function() {\r\n    if (fn) {\r\n      fn.apply(this, arguments);\r\n    }\r\n    off(el, event, listener);\r\n  };\r\n  on(el, event, listener);\r\n};\r\n\r\n/* 是否存在某个样式类名 */\r\nexport function hasClass(el, cls) {\r\n  if (!el || !cls) return false;\r\n  if (cls.indexOf(\" \") !== -1)\r\n    throw new Error(\"className should not contain space.\");\r\n  if (el.classList) {\r\n    return el.classList.contains(cls);\r\n  } else {\r\n    return (\" \" + el.className + \" \").indexOf(\" \" + cls + \" \") > -1;\r\n  }\r\n}\r\n\r\n/* 添加className */\r\nexport function addClass(el, cls) {\r\n  if (!el) return;\r\n  var curClass = el.className;\r\n  var classes = (cls || \"\").split(\" \");\r\n\r\n  for (var i = 0, j = classes.length; i < j; i++) {\r\n    var clsName = classes[i];\r\n    if (!clsName) continue;\r\n\r\n    if (el.classList) {\r\n      el.classList.add(clsName);\r\n    } else {\r\n      if (!hasClass(el, clsName)) {\r\n        curClass += \" \" + clsName;\r\n      }\r\n    }\r\n  }\r\n  if (!el.classList) {\r\n    el.className = curClass;\r\n  }\r\n}\r\n\r\n/* 移除className */\r\nexport function removeClass(el, cls) {\r\n  if (!el || !cls) return;\r\n  var classes = cls.split(\" \");\r\n  var curClass = \" \" + el.className + \" \";\r\n\r\n  for (var i = 0, j = classes.length; i < j; i++) {\r\n    var clsName = classes[i];\r\n    if (!clsName) continue;\r\n\r\n    if (el.classList) {\r\n      el.classList.remove(clsName);\r\n    } else {\r\n      if (hasClass(el, clsName)) {\r\n        curClass = curClass.replace(\" \" + clsName + \" \", \" \");\r\n      }\r\n    }\r\n  }\r\n  if (!el.classList) {\r\n    el.className = trim(curClass);\r\n  }\r\n}\r\n\r\n/* 获取某个元素的某个样式 */\r\nexport const getStyle =\r\n  ieVersion < 9\r\n    ? function(element, styleName) {\r\n        if (isServer) return;\r\n        if (!element || !styleName) return null;\r\n        styleName = camelCase(styleName);\r\n        if (styleName === \"float\") {\r\n          styleName = \"styleFloat\";\r\n        }\r\n        try {\r\n          switch (styleName) {\r\n            case \"opacity\":\r\n              try {\r\n                return element.filters.item(\"alpha\").opacity / 100;\r\n              } catch (e) {\r\n                return 1.0;\r\n              }\r\n            default:\r\n              return element.style[styleName] || element.currentStyle\r\n                ? element.currentStyle[styleName]\r\n                : null;\r\n          }\r\n        } catch (e) {\r\n          return element.style[styleName];\r\n        }\r\n      }\r\n    : function(element, styleName) {\r\n        if (isServer) return;\r\n        if (!element || !styleName) return null;\r\n        styleName = camelCase(styleName);\r\n        if (styleName === \"float\") {\r\n          styleName = \"cssFloat\";\r\n        }\r\n        try {\r\n          var computed =\r\n            document && document.defaultView.getComputedStyle(element, \"\");\r\n          return element.style[styleName] || computed\r\n            ? computed[styleName]\r\n            : null;\r\n        } catch (e) {\r\n          return element.style[styleName];\r\n        }\r\n      };\r\n\r\n/* 给某个元素设置 style */\r\nexport function setStyle(element, styleName, value) {\r\n  if (!element || !styleName) return;\r\n\r\n  if (typeof styleName === \"object\") {\r\n    for (var prop in styleName) {\r\n      if (styleName.hasOwnProperty(prop)) {\r\n        setStyle(element, prop, styleName[prop]);\r\n      }\r\n    }\r\n  } else {\r\n    styleName = camelCase(styleName);\r\n    if (styleName === \"opacity\" && ieVersion < 9) {\r\n      element.style.filter = isNaN(value)\r\n        ? \"\"\r\n        : \"alpha(opacity=\" + value * 100 + \")\";\r\n    } else {\r\n      element.style[styleName] = value;\r\n    }\r\n  }\r\n}\r\n//首字母大写\r\nexport const firstWordToUpperCase = function(str) {\r\n  return str.toLowerCase().replace(/( |^)[a-z]/g, L => L.toUpperCase());\r\n};\r\nconst data_types = {\r\n  array: \"[object Array]\",\r\n  object: \"[object Object]\",\r\n  string: \"[object String]\",\r\n  number: \"[object Number]\",\r\n  boolean: \"[object Boolean]\",\r\n  null: \"[object Null]\",\r\n  undefined: \"[object Undefined]\",\r\n  function: \"[object Function]\",\r\n  date: \"[object Date]\",\r\n  symbol: \"[object Symbol]\",\r\n  set: \"[object Set]\",\r\n  Map: \"[object Map]\",\r\n  regExp: \"[object RegExp]\",\r\n  json: \"[object JSON]\", //JSON对象\r\n  promise: \"[object Promise]\", //Promise对象\r\n  element: /HTML\\w+Element/g\r\n};\r\n// 包含isArray,isObject,isString,isPromise等等\r\nexport const dataType = {};\r\nObject.keys(data_types).forEach(key => {\r\n  dataType[\"is\" + firstWordToUpperCase(key)] = function(item) {\r\n    return dataTypeTest(item) === key;\r\n  };\r\n});\r\n//检测数据类型 ，返回对应数据类型的名称\r\nexport const dataTypeTest = function(item) {\r\n  const types = Object.keys(data_types);\r\n  let hasType = null;\r\n  const value = Object.prototype.toString.call(item);\r\n  for (let index = 0; index < types.length; index++) {\r\n    const key = types[index];\r\n    if (\r\n      value === data_types[key] ||\r\n      (Object.prototype.toString.call(data_types[key]) === \"[object RegExp]\" &&\r\n        value.search(data_types[key]) > -1)\r\n    ) {\r\n      hasType = key;\r\n      break;\r\n    }\r\n  }\r\n  return hasType;\r\n};\r\n//深度复制对象\r\nexport const deepCopyObject = function(obj) {\r\n  if (!obj || dataTypeTest(obj) !== \"object\") return {};\r\n  // return JSON.parse(JSON.stringify(obj));\r\n  let newobj = {};\r\n  for (var key in obj) {\r\n    var type = dataTypeTest(obj[key]);\r\n    switch (type) {\r\n      case \"string\":\r\n      case \"null\":\r\n      case \"number\":\r\n      case \"undefined\":\r\n      case \"function\":\r\n      case \"boolean\":\r\n      case \"symbol\":\r\n      case \"set\":\r\n      case \"map\":\r\n      case \"json\":\r\n      case \"promise\":\r\n      case \"regExp\":\r\n      case \"element\":\r\n        newobj[key] = obj[key];\r\n        break;\r\n      case \"date\":\r\n        newobj[key] = obj[key].getTime();\r\n        break;\r\n      case \"array\":\r\n        newobj[key] = deepCopyArray(obj[key]);\r\n        break;\r\n      case \"object\":\r\n        newobj[key] = deepCopyObject(obj[key]);\r\n        break;\r\n    }\r\n  }\r\n\r\n  return newobj;\r\n};\r\n//深度复制数组\r\nexport const deepCopyArray = function(array) {\r\n  if (!array || dataTypeTest(array) !== \"array\") return [];\r\n  // return JSON.parse(JSON.stringify(array));\r\n  var newarray = [];\r\n  for (var i = 0; i < array.length; i++) {\r\n    var item = array[i];\r\n    var type = dataTypeTest(item);\r\n    switch (type) {\r\n      case \"string\":\r\n      case \"null\":\r\n      case \"number\":\r\n      case \"undefined\":\r\n      case \"function\":\r\n      case \"boolean\":\r\n      case \"symbol\":\r\n      case \"set\":\r\n      case \"map\":\r\n      case \"json\":\r\n      case \"promise\":\r\n      case \"regExp\":\r\n      case \"element\":\r\n        newarray.push(item);\r\n        break;\r\n      case \"date\":\r\n        newarray.push(item.getTime());\r\n        break;\r\n      case \"array\":\r\n        newarray.push(deepCopyArray(item));\r\n        break;\r\n      case \"object\":\r\n        newarray.push(deepCopyObject(item));\r\n        break;\r\n    }\r\n  }\r\n  return newarray;\r\n};\r\n//深度复制数组/对象\r\nexport const deepCopy = function(value) {\r\n  switch (dataTypeTest(value)) {\r\n    case \"object\":\r\n      return deepCopyObject(value);\r\n    case \"array\":\r\n      return deepCopyArray(value);\r\n    default:\r\n      return value;\r\n  }\r\n};\r\n//根据条件过滤数组，只能过滤两种情况：一、数组里面全是对象，二、数组里面全是字符串或者其他类型的\r\nconst arrayFilterFn = function(array, property) {\r\n  const type = dataTypeTest(property);\r\n  return array.filter(item => {\r\n    const itemtype = dataTypeTest(item);\r\n    if (itemtype === \"object\" && type === \"object\") {\r\n      let hasItem = false;\r\n      Object.keys(property).forEach(el => {\r\n        hasItem = item[el] === property[el];\r\n      });\r\n      return hasItem;\r\n    } else {\r\n      return item === property;\r\n    }\r\n  });\r\n};\r\n//用法一如：var arr=[{name:\"水果\",value:1},{name:\"蔬菜\",value:2}] ,arrayFilterBy(arr,{value:2})得到[{name:\"蔬菜\",value:2}]\r\n//用法二如：var arr=[1,2,3,2,4,3,5,3]   arrayFilterBy(arr,3)得到 [3,3,3]\r\n//用法三如：var arr=[{name:\"水果\",value:1},{name:\"蔬菜\",value:2},{name:\"草莓\",value:4}] ,arrayFilterBy(arr,[{value:2},{value:4}])得到[{name:\"蔬菜\",value:2},{name:\"草莓\",value:4}]\r\n//用法四如：var arr=[1,2,3,2,4,3,5,3]   arrayFilterBy(arr,[3,2])得到 [3,3,3,2,2]\r\nexport const arrayFilterBy = function(array, property) {\r\n  //property可以是{name:'zgt'}或者'zgt'\r\n  if (!array || dataTypeTest(array) !== \"array\") return [];\r\n  const type = dataTypeTest(property);\r\n  if (type === \"array\") {\r\n    let newarray = [];\r\n    property.forEach(item => {\r\n      newarray = newarray.concat(arrayFilterFn(array, item));\r\n    });\r\n    return newarray;\r\n  } else {\r\n    return arrayFilterFn(array, property);\r\n  }\r\n};\r\n//格式时间 支持时间戳转yyyy-MM-dd HH:mm:ss格式\r\n//支持时间戳转 yyyy-mm-dd格式 ，支持yyyy/mm/dd转yyyy-mm-dd，不支持yyyy-mm-dd转yyyy/mm/dd\r\nexport const formatDate = function(time, format) {\r\n  if (!time) return \"\";\r\n  let date = dataTypeTest(time) === \"date\" ? time : new Date(time);\r\n  let ft = trim(format || \"yyyy-MM-dd HH:mm:ss\").split(\" \");\r\n  let newdate = \"\";\r\n  let symbol = \"-\";\r\n  if (!ft[0]) return;\r\n  if (/[-]+/.test(ft[0]) && !/[/]+/.test(ft[0])) {\r\n    symbol = \"-\";\r\n  } else if (!/[-]+/.test(ft[0]) && /[/]+/.test(ft[0])) {\r\n    symbol = \"/\";\r\n  } else if (/[:]+/.test(ft[0])) {\r\n    symbol = \":\";\r\n  }\r\n  let addZero = function(value) {\r\n    if (Number(value) < 10) {\r\n      return \"0\" + value;\r\n    } else {\r\n      return value;\r\n    }\r\n  };\r\n  let setTimes = function(fts, symbol) {\r\n    let newTime = \"\";\r\n    let timeFtsLen = fts.split(\":\").length;\r\n    switch (timeFtsLen) {\r\n      case 1:\r\n        newTime += addZero(date.getHours());\r\n        break;\r\n      case 2:\r\n        newTime +=\r\n          addZero(date.getHours()) + symbol + addZero(date.getMinutes());\r\n        break;\r\n      default:\r\n        newTime +=\r\n          addZero(date.getHours()) +\r\n          symbol +\r\n          addZero(date.getMinutes()) +\r\n          symbol +\r\n          addZero(date.getSeconds());\r\n        break;\r\n    }\r\n    return newTime;\r\n  };\r\n\r\n  if (symbol === \":\") {\r\n    newdate += setTimes(ft[0], symbol);\r\n  } else {\r\n    let timeFtsLen = ft[0].split(symbol).length;\r\n    switch (timeFtsLen) {\r\n      case 1:\r\n        newdate += date.getFullYear();\r\n        break;\r\n      case 2:\r\n        newdate += date.getFullYear() + symbol + addZero(date.getMonth() + 1);\r\n        break;\r\n      default:\r\n        newdate +=\r\n          date.getFullYear() +\r\n          symbol +\r\n          addZero(date.getMonth() + 1) +\r\n          symbol +\r\n          addZero(date.getDate());\r\n        break;\r\n    }\r\n\r\n    if (ft[1]) {\r\n      symbol = \":\";\r\n      newdate += \" \";\r\n      newdate += setTimes(ft[1], symbol);\r\n    }\r\n  }\r\n  return newdate;\r\n};\r\n\r\n//随机产生不重复id\r\nexport const GenNonDuplicateID = function(randomLength = 8) {\r\n  let id = Number(\r\n    Math.random()\r\n      .toString()\r\n      .substr(3, randomLength) + Date.now()\r\n  ).toString();\r\n  return id;\r\n};\r\n//科学计数法转 字符串\r\n//如 6.5E8 得 \"650000000\"\r\n//如 6.5e-7得 \"0.65000000\"\r\nexport const EetoString = num => {\r\n  var str = num.toString();\r\n  var reg = /^((\\d+.\\d+)|(\\d+))([Ee])([\\-]?\\d+)$/;\r\n  var arr,\r\n    len,\r\n    zerod = \"\";\r\n\r\n  /*6e7或6e+7 都会自动转换数值*/\r\n  if (!reg.test(str)) {\r\n    return num;\r\n  } else {\r\n    /*6e-7 需要手动转换*/\r\n    arr = reg.exec(str);\r\n    len = Math.abs(arr[5]) - 1;\r\n    for (var i = 0; i < len; i++) {\r\n      zerod += \"0\";\r\n    }\r\n    return \"0.\" + zerod + (arr[2] ? arr[1] : arr[3]).replace(\".\", \"\");\r\n  }\r\n};\r\n// 过滤一个对象中有用的的属性，permissiveKys是允许的属性名数组\r\nexport function filterQuery(permissiveKys, query) {\r\n  const newQuery = {};\r\n  Object.keys(query).forEach(key => {\r\n    if (permissiveKys.includes(key)) {\r\n      newQuery[key] = query[key];\r\n    }\r\n  });\r\n  return newQuery;\r\n}\r\n//将url问号参数转成map对象\r\nexport const parseQueryString = function(url) {\r\n  if (isUrl(url)) {\r\n    const searchurl = url.split(\"?\");\r\n    url = searchurl.length > 1 ? \"?\" + searchurl[1] : searchurl[0];\r\n  }\r\n  var reg_url = /^\\?([\\w\\W]+)$/;\r\n  var reg_para = /([^&=]+)=([\\w\\W]*?)(&|$|#)/g,\r\n    arr_url = reg_url.exec(url),\r\n    ret = {};\r\n  if (arr_url && arr_url[1]) {\r\n    var str_para = arr_url[1],\r\n      result;\r\n    while ((result = reg_para.exec(str_para)) != null) {\r\n      ret[result[1]] = result[2];\r\n    }\r\n  }\r\n  return ret;\r\n};\r\n//检测移动端设备\r\n\r\nexport const checkDevices = function() {\r\n  const userAgent = global.navigator.userAgent;\r\n  if (/Android/i.test(userAgent)) {\r\n    return \"android\";\r\n  } else if (/iPhone|iPad|iPod/i.test(userAgent)) {\r\n    return \"ios\";\r\n  } else if (/WindowsWechat/i.test(userAgent)) {\r\n    return \"WindowsWechat\";\r\n  } else if (/MicroMessenger/i.test(userAgent)) {\r\n    return \"MicroMessenger\";\r\n  }\r\n  // const inAndroid = /Android/i.test(userAgent)\r\n  // const inIOS = /iPhone|iPad|iPod/i.test(userAgent)\r\n  // const inMicroMessenger = /MicroMessenger/i.test(userAgent)\r\n  // const inWindowsWechat = /WindowsWechat/i.test(userAgent)\r\n};\r\n\r\n//新增\r\n\r\n// export function fixedZero(val) {\r\n// \treturn val * 1 < 10 ? `0${val}` : val;\r\n// }\r\n\r\n// export function getTimeDistance(type) {\r\n// \tconst now = new Date();\r\n// \tconst oneDay = 1000 * 60 * 60 * 24;\r\n\r\n// \tif (type === \"today\") {\r\n// \t\tnow.setHours(0);\r\n// \t\tnow.setMinutes(0);\r\n// \t\tnow.setSeconds(0);\r\n// \t\treturn [moment(now), moment(now.getTime() + (oneDay - 1000))];\r\n// \t}\r\n\r\n// \tif (type === \"week\") {\r\n// \t\tlet day = now.getDay();\r\n// \t\tnow.setHours(0);\r\n// \t\tnow.setMinutes(0);\r\n// \t\tnow.setSeconds(0);\r\n\r\n// \t\tif (day === 0) {\r\n// \t\t\tday = 6;\r\n// \t\t} else {\r\n// \t\t\tday -= 1;\r\n// \t\t}\r\n\r\n// \t\tconst beginTime = now.getTime() - day * oneDay;\r\n\r\n// \t\treturn [moment(beginTime), moment(beginTime + (7 * oneDay - 1000))];\r\n// \t}\r\n\r\n// \tif (type === \"month\") {\r\n// \t\tconst year = now.getFullYear();\r\n// \t\tconst month = now.getMonth();\r\n// \t\tconst nextDate = moment(now).add(1, \"months\");\r\n// \t\tconst nextYear = nextDate.year();\r\n// \t\tconst nextMonth = nextDate.month();\r\n\r\n// \t\treturn [\r\n// \t\t\tmoment(`${year}-${fixedZero(month + 1)}-01 00:00:00`),\r\n// \t\t\tmoment(moment(`${nextYear}-${fixedZero(nextMonth + 1)}-01 00:00:00`).valueOf() - 1000),\r\n// \t\t];\r\n// \t}\r\n\r\n// \tif (type === \"year\") {\r\n// \t\tconst year = now.getFullYear();\r\n\r\n// \t\treturn [moment(`${year}-01-01 00:00:00`), moment(`${year}-12-31 23:59:59`)];\r\n// \t}\r\n// }\r\n\r\n// export function getPlainNode(nodeList, parentPath = \"\") {\r\n// \tconst arr = [];\r\n// \tnodeList.forEach((node) => {\r\n// \t\tconst item = node;\r\n// \t\titem.path = `${parentPath}/${item.path || \"\"}`.replace(/\\/+/g, \"/\");\r\n// \t\titem.exact = true;\r\n// \t\tif (item.children && !item.component) {\r\n// \t\t\tarr.push(...getPlainNode(item.children, item.path));\r\n// \t\t} else {\r\n// \t\t\tif (item.children && item.component) {\r\n// \t\t\t\titem.exact = false;\r\n// \t\t\t}\r\n// \t\t\tarr.push(item);\r\n// \t\t}\r\n// \t});\r\n// \treturn arr;\r\n// }\r\n\r\nfunction accMul(arg1, arg2) {\r\n  let m = 0;\r\n  const s1 = arg1.toString();\r\n  const s2 = arg2.toString();\r\n  m += s1.split(\".\").length > 1 ? s1.split(\".\")[1].length : 0;\r\n  m += s2.split(\".\").length > 1 ? s2.split(\".\")[1].length : 0;\r\n  return (Number(s1.replace(\".\", \"\")) * Number(s2.replace(\".\", \"\"))) / 10 ** m;\r\n}\r\n\r\nexport function digitUppercase(n) {\r\n  const fraction = [\"角\", \"分\"];\r\n  const digit = [\"零\", \"壹\", \"贰\", \"叁\", \"肆\", \"伍\", \"陆\", \"柒\", \"捌\", \"玖\"];\r\n  const unit = [[\"元\", \"万\", \"亿\"], [\"\", \"拾\", \"佰\", \"仟\", \"万\"]];\r\n  let num = Math.abs(n);\r\n  let s = \"\";\r\n  fraction.forEach((item, index) => {\r\n    s += (digit[Math.floor(accMul(num, 10 * 10 ** index)) % 10] + item).replace(\r\n      /零./,\r\n      \"\"\r\n    );\r\n  });\r\n  s = s || \"整\";\r\n  num = Math.floor(num);\r\n  for (let i = 0; i < unit[0].length && num > 0; i += 1) {\r\n    let p = \"\";\r\n    for (let j = 0; j < unit[1].length && num > 0; j += 1) {\r\n      p = digit[num % 10] + unit[1][j] + p;\r\n      num = Math.floor(num / 10);\r\n    }\r\n    s = p.replace(/(零.)*零$/, \"\").replace(/^$/, \"零\") + unit[0][i] + s;\r\n  }\r\n\r\n  return s\r\n    .replace(/(零.)*零元/, \"元\")\r\n    .replace(/(零.)+/g, \"零\")\r\n    .replace(/^整$/, \"零元整\");\r\n}\r\n\r\n/* eslint no-useless-escape:0 */\r\nconst reg = /(((^https?:(?:\\/\\/)?)(?:[-;:&=\\+\\$,\\w]+@)?[A-Za-z0-9.-]+(?::\\d+)?|(?:www.|[-;:&=\\+\\$,\\w]+@)[A-Za-z0-9.-]+)((?:\\/[\\+~%\\/.\\w-_]*)?\\??(?:[-\\+=&;%@.\\w_]*)#?(?:[\\w\\?\\=\\&]*))?)$/;\r\n\r\nexport function isUrl(path) {\r\n  return reg.test(path);\r\n}\r\nconst startHttpReg = /^(http:|https:)[\\w\\?\\&\\.\\#\\%\\*\\@\\$\\!\\~\\/]*/;\r\nexport function isHttpStart(path) {\r\n  return startHttpReg.test(path);\r\n}\r\n\r\n// 将从后台获取的导航数据转成route的需要的key\r\nexport function formatterMapKey(\r\n  data,\r\n  mapKey = {},\r\n  parentPath = \"/\",\r\n  notParPath = false\r\n) {\r\n  // const notParPath = typeof parentPath == \"boolean\" && !parentPath;\r\n  mapKey = Object.assign(\r\n    {\r\n      iconClass: \"iconClass\",\r\n      path: \"path\",\r\n      name: \"name\",\r\n      children: \"children\"\r\n    },\r\n    mapKey ? mapKey : {}\r\n  );\r\n  return data.map(item => {\r\n    let path = item[mapKey.path];\r\n    if (!notParPath && !isHttpStart(path))\r\n      path = parentPath + path.replace(/^\\/*/, \"\");\r\n    const newData = {\r\n      ...item,\r\n      iconClass:\r\n        item[mapKey.iconClass] !== undefined\r\n          ? item[mapKey.iconClass]\r\n          : \"smile-o\",\r\n      path,\r\n      parPath: parentPath.replace(/\\/$/, \"\"),\r\n      name: item[mapKey.name]\r\n    };\r\n    if (Array.isArray(item[mapKey.children]) && item[mapKey.children].length) {\r\n      newData[mapKey.children] = formatterMapKey(\r\n        item[mapKey.children],\r\n        mapKey,\r\n        `${path}/`,\r\n        notParPath\r\n      );\r\n    }\r\n    return newData;\r\n  });\r\n}\r\n\r\nexport function itemsFromTree({\r\n  tree,\r\n  sourceItem,\r\n  item,\r\n  keyObj,\r\n  action,\r\n  parentItem,\r\n  condition\r\n}) {\r\n  let finished = false;\r\n  keyObj = dataType.isObject(keyObj)\r\n    ? keyObj\r\n    : { id: \"id\", children: \"children\" };\r\n  for (let index = 0; index < tree.length; index++) {\r\n    const currentItem = tree[index];\r\n    if (\r\n      dataType.isFunction(condition)\r\n        ? condition(currentItem[keyObj.id], sourceItem[keyObj.id])\r\n        : currentItem[keyObj.id] === sourceItem[keyObj.id]\r\n    ) {\r\n      dataType.isFunction(action) &&\r\n        action({ tree, currentItem, item, index, keyObj, parentItem });\r\n      finished = true;\r\n    } else if (Array.isArray(currentItem[keyObj.children])) {\r\n      finished = itemsFromTree({\r\n        tree: currentItem[keyObj.children],\r\n        sourceItem,\r\n        item,\r\n        keyObj,\r\n        action,\r\n        parentItem: currentItem\r\n      });\r\n    }\r\n    if (finished) break;\r\n  }\r\n  return finished;\r\n}\r\n/**\r\n *用于移除json中一项数据\r\n *\r\n * @export\r\n * @param {object} obj { tree:array, sourceItem:object, keyObj:{id:\"id\",children:\"children\"} }\r\n * @returns\r\n */\r\nexport function removeItemFromTree(obj) {\r\n  // { tree, sourceItem, keyObj }\r\n  const newobj = deepCopy(obj);\r\n  newobj.action = function({ tree, currentItem, index, keyObj }) {\r\n    tree.splice(index, 1);\r\n  };\r\n  if (itemsFromTree(newobj)) {\r\n    return newobj.tree;\r\n  }\r\n}\r\n/**\r\n *用item数据替换json中一项sourceItem数据\r\n *\r\n * @export\r\n * @param {object} obj { tree:array, sourceItem:object,item:object, keyObj:{id:\"id\",children:\"children\"} }\r\n * @returns\r\n */\r\nexport function replaceItemFromTree(obj) {\r\n  const newobj = deepCopy(obj);\r\n  newobj.action = function({ tree, currentItem, item, index, keyObj }) {\r\n    tree.splice(index, 1, item);\r\n  };\r\n  if (itemsFromTree(newobj)) {\r\n    return newobj.tree;\r\n  }\r\n}\r\n/**\r\n *用于json中某项sourceItem数据的children末端添加一项item数据\r\n *\r\n * @export\r\n * @param {object} obj { tree:array, sourceItem:object,item:object, keyObj:{id:\"id\",children:\"children\"} }\r\n * @returns\r\n */\r\nexport function pushItemToTree(obj) {\r\n  const newobj = deepCopy(obj);\r\n  newobj.action = function({ tree, currentItem, item, index, keyObj }) {\r\n    if (!Array.isArray(currentItem[keyObj.children])) {\r\n      currentItem[keyObj.children] = [];\r\n    }\r\n    currentItem[keyObj.children].push(item);\r\n  };\r\n  if (itemsFromTree(newobj)) {\r\n    return newobj.tree;\r\n  }\r\n}\r\n/**\r\n *用于json中某项sourceItem数据的children头端添加一项item数据\r\n *\r\n * @export\r\n * @param {object} obj { tree:array, sourceItem:object,item:object, keyObj:{id:\"id\",children:\"children\"} }\r\n * @returns\r\n */\r\nexport function unshiftItemToTree(obj) {\r\n  const newobj = deepCopy(obj);\r\n  newobj.action = function({ tree, currentItem, item, index, keyObj }) {\r\n    if (!Array.isArray(currentItem[keyObj.children])) {\r\n      currentItem[keyObj.children] = [];\r\n    }\r\n    currentItem[keyObj.children].unshift(item);\r\n  };\r\n  if (itemsFromTree(newobj)) {\r\n    return newobj.tree;\r\n  }\r\n}\r\n/**\r\n *用于将一项item数据插入在json中某项sourceItem数据之前\r\n *\r\n * @export\r\n * @param {object} obj { tree:array, sourceItem:object,item:object, keyObj:{id:\"id\",children:\"children\"} }\r\n * @returns\r\n */\r\nexport function insertBeforeItemFromTree(obj) {\r\n  const newobj = deepCopy(obj);\r\n  newobj.action = function({ tree, currentItem, item, index, keyObj }) {\r\n    tree.splice(index, 0, item);\r\n  };\r\n  if (itemsFromTree(newobj)) {\r\n    return newobj.tree;\r\n  }\r\n}\r\n/**\r\n *用于将一项item数据插入在json中某项sourceItem数据之后\r\n *\r\n * @export\r\n * @param {object} obj { tree:array, sourceItem:object,item:object, keyObj:{id:\"id\",children:\"children\"} }\r\n * @returns\r\n */\r\nexport function insertAfterItemFromTree(obj) {\r\n  const newobj = deepCopy(obj);\r\n  newobj.action = function({ tree, currentItem, item, index, keyObj }) {\r\n    tree.splice(index + 1, 0, item);\r\n  };\r\n  if (itemsFromTree(newobj)) {\r\n    return newobj.tree;\r\n  }\r\n}\r\n//判断是白色颜色值\r\nexport function isWhiteColor(str) {\r\n  return (\r\n    typeof str === \"string\" &&\r\n    (str.search(/^\\#(f{3}$|f{6}$)/i) > -1 ||\r\n      str.search(/^rgb(a)?\\(255,255,255/) > -1)\r\n  );\r\n}\r\n\r\n/**\r\n * @description: 转换tree数据的键名\r\n * @param tree {array}\r\n * @param srcMapKeys {object} 默认 { label: \"label\", value: \"value\", children: \"children\" },\r\n * @param distMapKeys {object} 默认 { label: \"label\", value: \"value\", children: \"children\" }\r\n * @param extands {object} 默认 {}  可以在tree中加入定义的字段\r\n * @param valueToString {boolean} 默认 false 是否把 value (有可能是数字) 转成 string 类型的\r\n * @param includesSourceItem {boolean} 默认 true  除了label，value字段，是否保留tree中的其他字段\r\n * @return: newTree\r\n */\r\nexport function turnMapKeys(\r\n  tree,\r\n  srcMapKeys = { label: \"label\", value: \"value\", children: \"children\" },\r\n  distMapKeys = { label: \"label\", value: \"value\", children: \"children\" },\r\n  extands = {},\r\n  valueToString = false,\r\n  includesSourceItem = true\r\n) {\r\n  return Array.isArray(tree)\r\n    ? tree.map(item => {\r\n        const children = item[srcMapKeys.children];\r\n        const sourceItem = includesSourceItem ? item : {};\r\n        delete sourceItem[srcMapKeys.children];\r\n        const newItem = {\r\n          ...sourceItem,\r\n          [distMapKeys.label]: item[srcMapKeys.label],\r\n          [distMapKeys.value]:\r\n            valueToString &&\r\n            item[srcMapKeys.value] !== null &&\r\n            item[srcMapKeys.value] !== undefined\r\n              ? item[srcMapKeys.value].toString()\r\n              : item[srcMapKeys.value],\r\n          ...extands\r\n        };\r\n        if (children) {\r\n          newItem[distMapKeys.children] = turnMapKeys(\r\n            children,\r\n            srcMapKeys,\r\n            distMapKeys,\r\n            valueToString,\r\n            includesSourceItem\r\n          );\r\n        }\r\n        return newItem;\r\n      })\r\n    : [];\r\n}\r\n/**\r\n * @description:\r\n * @param tree {array}\r\n * @param value {string|array|number}\r\n * @param toDist {object}  默认 ： { src: \"value\", dist: \"label\" }  意思》将value值取tree对应的 label\r\n * @return: newValueArr\r\n */\r\nexport function turnLabelOrValue(\r\n  tree,\r\n  value,\r\n  toDist = { src: \"value\", dist: \"label\" },\r\n  parValueArr\r\n) {\r\n  const newValueArr = parValueArr || [];\r\n  if (Array.isArray(tree)) {\r\n    tree.forEach(item => {\r\n      if (Array.isArray(value)) {\r\n        const index = value.indexOf(item[toDist.src]);\r\n        if (index > -1 && !newValueArr[index]) {\r\n          newValueArr[index] = item[toDist.dist];\r\n        }\r\n      } else if (value === item[toDist.src]) {\r\n        newValueArr[0] = item[toDist.dist];\r\n      }\r\n      if (item.children) {\r\n        turnLabelOrValue(item.children, value, toDist, newValueArr);\r\n      }\r\n    });\r\n  }\r\n  return Array.isArray(value) ? newValueArr : newValueArr[0];\r\n}\r\n\r\nexport const zTool = {\r\n  getStyle,\r\n  setStyle,\r\n  hasClass,\r\n  addClass,\r\n  removeClass,\r\n  on,\r\n  off,\r\n  once,\r\n  dataTypeTest,\r\n  deepCopyObject,\r\n  deepCopyArray,\r\n  deepCopy,\r\n  formatDate,\r\n  GenNonDuplicateID,\r\n  arrayFilterBy,\r\n  EetoString,\r\n  onNoRepeatEvent,\r\n  filterQuery,\r\n  parseQueryString,\r\n  formatterMapKey,\r\n  isUrl,\r\n  checkDevices,\r\n  loadFileList,\r\n  dataType,\r\n  firstWordToUpperCase,\r\n  removeItemFromTree,\r\n  replaceItemFromTree,\r\n  pushItemToTree,\r\n  itemsFromTree,\r\n  isWhiteColor,\r\n  turnMapKeys,\r\n  turnLabelOrValue\r\n};\r\nexport default zTool;\r\n","'use strict';\r\n\r\nexport const ResizeSensor=(function() {\r\n\r\n    // Make sure it does not throw in a SSR (Server Side Rendering) situation\r\n    if (typeof window === \"undefined\") {\r\n        return null;\r\n    }\r\n    // Only used for the dirty checking, so the event callback count is limited to max 1 call per fps per sensor.\r\n    // In combination with the event based resize sensor this saves cpu time, because the sensor is too fast and\r\n    // would generate too many unnecessary events.\r\n    var requestAnimationFrame = window.requestAnimationFrame ||\r\n        window.mozRequestAnimationFrame ||\r\n        window.webkitRequestAnimationFrame ||\r\n        function (fn) {\r\n            return window.setTimeout(fn, 20);\r\n        };\r\n\r\n    /**\r\n     * Iterate over each of the provided element(s).\r\n     *\r\n     * @param {HTMLElement|HTMLElement[]} elements\r\n     * @param {Function}                  callback\r\n     */\r\n    function forEachElement(elements, callback){\r\n        var elementsType = Object.prototype.toString.call(elements);\r\n        var isCollectionTyped = ('[object Array]' === elementsType\r\n            || ('[object NodeList]' === elementsType)\r\n            || ('[object HTMLCollection]' === elementsType)\r\n            || ('[object Object]' === elementsType)\r\n            || ('undefined' !== typeof jQuery && elements instanceof jQuery) //jquery\r\n            || ('undefined' !== typeof Elements && elements instanceof Elements) //mootools\r\n        );\r\n        var i = 0, j = elements.length;\r\n        if (isCollectionTyped) {\r\n            for (; i < j; i++) {\r\n                callback(elements[i]);\r\n            }\r\n        } else {\r\n            callback(elements);\r\n        }\r\n    }\r\n\r\n    /**\r\n    * Get element size\r\n    * @param {HTMLElement} element\r\n    * @returns {Object} {width, height}\r\n    */\r\n    function getElementSize(element) {\r\n        if (!element.getBoundingClientRect) {\r\n            return {\r\n                width: element.offsetWidth,\r\n                height: element.offsetHeight\r\n            }\r\n        }\r\n\r\n        var rect = element.getBoundingClientRect();\r\n        return {\r\n            width: Math.round(rect.width),\r\n            height: Math.round(rect.height)\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Class for dimension change detection.\r\n     *\r\n     * @param {Element|Element[]|Elements|jQuery} element\r\n     * @param {Function} callback\r\n     *\r\n     * @constructor\r\n     */\r\n    var ResizeSensor = function(element, callback) {\r\n        /**\r\n         *\r\n         * @constructor\r\n         */\r\n        function EventQueue() {\r\n            var q = [];\r\n            this.add = function(ev) {\r\n                q.push(ev);\r\n            };\r\n\r\n            var i, j;\r\n            this.call = function() {\r\n                for (i = 0, j = q.length; i < j; i++) {\r\n                    q[i].call();\r\n                }\r\n            };\r\n\r\n            this.remove = function(ev) {\r\n                var newQueue = [];\r\n                for(i = 0, j = q.length; i < j; i++) {\r\n                    if(q[i] !== ev) newQueue.push(q[i]);\r\n                }\r\n                q = newQueue;\r\n            };\r\n\r\n            this.length = function() {\r\n                return q.length;\r\n            }\r\n        }\r\n\r\n        /**\r\n         *\r\n         * @param {HTMLElement} element\r\n         * @param {Function}    resized\r\n         */\r\n        function attachResizeEvent(element, resized) {\r\n            if (!element) return;\r\n            if (element.resizedAttached) {\r\n                element.resizedAttached.add(resized);\r\n                return;\r\n            }\r\n\r\n            element.resizedAttached = new EventQueue();\r\n            element.resizedAttached.add(resized);\r\n\r\n            element.resizeSensor = document.createElement('div');\r\n            element.resizeSensor.dir = 'ltr';\r\n            element.resizeSensor.className = 'resize-sensor';\r\n            var style = 'position: absolute; left: -10px; top: -10px; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;';\r\n            var styleChild = 'position: absolute; left: 0; top: 0; transition: 0s;';\r\n\r\n            element.resizeSensor.style.cssText = style;\r\n            element.resizeSensor.innerHTML =\r\n                '<div class=\"resize-sensor-expand\" style=\"' + style + '\">' +\r\n                    '<div style=\"' + styleChild + '\"></div>' +\r\n                '</div>' +\r\n                '<div class=\"resize-sensor-shrink\" style=\"' + style + '\">' +\r\n                    '<div style=\"' + styleChild + ' width: 200%; height: 200%\"></div>' +\r\n                '</div>';\r\n            element.appendChild(element.resizeSensor);\r\n\r\n            var position = window.getComputedStyle(element).getPropertyValue('position');\r\n            if ('absolute' !== position && 'relative' !== position && 'fixed' !== position) {\r\n                element.style.position = 'relative';\r\n            }\r\n\r\n            var expand = element.resizeSensor.childNodes[0];\r\n            var expandChild = expand.childNodes[0];\r\n            var shrink = element.resizeSensor.childNodes[1];\r\n            var dirty, rafId, newWidth, newHeight;\r\n            var size = getElementSize(element);\r\n            var lastWidth = size.width;\r\n            var lastHeight = size.height;\r\n\r\n            var reset = function() {\r\n                //set display to block, necessary otherwise hidden elements won't ever work\r\n                var invisible = element.offsetWidth === 0 && element.offsetHeight === 0;\r\n\r\n                if (invisible) {\r\n                    var saveDisplay = element.style.display;\r\n                    element.style.display = 'block';\r\n                }\r\n\r\n                expandChild.style.width = '100000px';\r\n                expandChild.style.height = '100000px';\r\n\r\n                expand.scrollLeft = 100000;\r\n                expand.scrollTop = 100000;\r\n\r\n                shrink.scrollLeft = 100000;\r\n                shrink.scrollTop = 100000;\r\n\r\n                if (invisible) {\r\n                    element.style.display = saveDisplay;\r\n                }\r\n            };\r\n            element.resizeSensor.resetSensor = reset;\r\n\r\n            var onResized = function() {\r\n                rafId = 0;\r\n\r\n                if (!dirty) return;\r\n\r\n                lastWidth = newWidth;\r\n                lastHeight = newHeight;\r\n\r\n                if (element.resizedAttached) {\r\n                    element.resizedAttached.call();\r\n                }\r\n            };\r\n\r\n            var onScroll = function() {\r\n                var size = getElementSize(element);\r\n                var newWidth = size.width;\r\n                var newHeight = size.height;\r\n                dirty = newWidth != lastWidth || newHeight != lastHeight;\r\n\r\n                if (dirty && !rafId) {\r\n                    rafId = requestAnimationFrame(onResized);\r\n                }\r\n\r\n                reset();\r\n            };\r\n\r\n            var addEvent = function(el, name, cb) {\r\n                if (el.attachEvent) {\r\n                    el.attachEvent('on' + name, cb);\r\n                } else {\r\n                    el.addEventListener(name, cb);\r\n                }\r\n            };\r\n\r\n            addEvent(expand, 'scroll', onScroll);\r\n            addEvent(shrink, 'scroll', onScroll);\r\n            \r\n\t\t\t// Fix for custom Elements\r\n\t\t\trequestAnimationFrame(reset);\r\n        }\r\n\r\n        forEachElement(element, function(elem){\r\n            attachResizeEvent(elem, callback);\r\n        });\r\n\r\n        this.detach = function(ev) {\r\n            ResizeSensor.detach(element, ev);\r\n        };\r\n\r\n        this.reset = function() {\r\n            element.resizeSensor.resetSensor();\r\n        };\r\n    };\r\n\r\n    ResizeSensor.reset = function(element, ev) {\r\n        forEachElement(element, function(elem){\r\n            elem.resizeSensor.resetSensor();\r\n        });\r\n    };\r\n\r\n    ResizeSensor.detach = function(element, ev) {\r\n        forEachElement(element, function(elem){\r\n            if (!elem) return;\r\n            if(elem.resizedAttached && typeof ev === \"function\"){\r\n                elem.resizedAttached.remove(ev);\r\n                if(elem.resizedAttached.length()) return;\r\n            }\r\n            if (elem.resizeSensor) {\r\n                if (elem.contains(elem.resizeSensor)) {\r\n                    elem.removeChild(elem.resizeSensor);\r\n                }\r\n                delete elem.resizeSensor;\r\n                delete elem.resizedAttached;\r\n            }\r\n        });\r\n    };\r\n\r\n    return ResizeSensor;\r\n\r\n})();\r\n\r\nexport default ResizeSensor;"],"sourceRoot":""}