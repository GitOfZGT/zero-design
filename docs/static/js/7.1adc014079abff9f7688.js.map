{"version":3,"sources":["webpack:///delegated ./node_modules/lodash/_SetCache.js from dll-reference _dll_vendor_3d2c9e3bcfbe3a2fd368","webpack:///delegated ./node_modules/react-transition-group/index.js from dll-reference _dll_vendor_3d2c9e3bcfbe3a2fd368","webpack:///./node_modules/zerod/components/ZliveForm/index.jsx","webpack:///./node_modules/zerod/components/ZliveForm/GroupMoveBtns.jsx","webpack:///./node_modules/@babel/runtime/helpers/readOnlyError.js","webpack:///./node_modules/zerod/components/ZliveForm/linkageAction.js","webpack:///./node_modules/zerod/components/ZliveForm/FormContext.js","webpack:///delegated ./node_modules/contra/emitter.js from dll-reference _dll_vendor_3d2c9e3bcfbe3a2fd368","webpack:///./node_modules/zerod/components/ZliveForm/FormViewer.jsx","webpack:///delegated ./node_modules/lodash/throttle.js from dll-reference _dll_vendor_3d2c9e3bcfbe3a2fd368","webpack:///./node_modules/zerod/components/ZliveForm/AddColForm.jsx","webpack:///./node_modules/zerod/components/ZliveForm/doc.md","webpack:///./node_modules/zerod/components/ZliveForm/FormGroup.jsx","webpack:///./node_modules/zerod/components/ZliveForm/LinkageConfig/ValueLinkControl.jsx","webpack:///./src/views/Main/component-doc/ZliveForm-doc/formData.js","webpack:///./node_modules/zerod/components/ZliveForm/ZselectInput.jsx","webpack:///./node_modules/zerod/components/ZliveForm/ZeroUpload.jsx","webpack:///delegated ./node_modules/crossvent/src/crossvent.js from dll-reference _dll_vendor_3d2c9e3bcfbe3a2fd368","webpack:///./node_modules/zerod/components/ZliveForm/ZprosAndCons.jsx","webpack:///./node_modules/zerod/components/ZliveForm/ZmapChooseAddress.jsx","webpack:///./node_modules/zerod/components/ZliveForm/ZauxiliaryInput.jsx","webpack:///delegated ./node_modules/react-color/lib/index.js from dll-reference _dll_vendor_3d2c9e3bcfbe3a2fd368","webpack:///./node_modules/zerod/components/ZliveForm/CascaderLoader.jsx","webpack:///./node_modules/zerod/components/ZliveForm/customHook.js","webpack:///./node_modules/zerod/components/ZliveForm/liveCanstant.js","webpack:///./node_modules/zerod/components/ZliveForm/controls.js","webpack:///./node_modules/zerod/components/ZliveForm/LinkageConfig/linkRemark.js","webpack:///./node_modules/zerod/components/ZliveForm/LinkageConfig/ValueLinkConfigured.jsx","webpack:///./src/views/Main/component-doc/ZliveForm-doc/index.jsx","webpack:///./node_modules/zerod/components/ZliveForm/LinkageConfig/index.jsx","webpack:///./node_modules/zerod/components/ZliveForm/GroupNameEdit.jsx","webpack:///./src/HOC sync index.jsx$","webpack:///./node_modules/zerod/components/ZliveForm/AddTagName.jsx","webpack:///./node_modules/zerod/components/ZliveForm/TreeSelectLoader.jsx","webpack:///./node_modules/zerod/components/ZliveForm/common.js","webpack:///delegated ./node_modules/lodash/_setToArray.js from dll-reference _dll_vendor_3d2c9e3bcfbe3a2fd368","webpack:///./node_modules/zerod/components/ZliveForm/InsertGroupBtns.jsx","webpack:///./node_modules/zerod/components/ZliveForm/LinkageConfig/IDLinkagesConfigured.jsx","webpack:///delegated ./node_modules/lodash/toNumber.js from dll-reference _dll_vendor_3d2c9e3bcfbe3a2fd368","webpack:///delegated ./node_modules/lodash/_baseIteratee.js from dll-reference _dll_vendor_3d2c9e3bcfbe3a2fd368","webpack:///delegated ./node_modules/lodash/_cacheHas.js from dll-reference _dll_vendor_3d2c9e3bcfbe3a2fd368","webpack:///delegated ./node_modules/viewerjs/dist/viewer.js from dll-reference _dll_vendor_3d2c9e3bcfbe3a2fd368","webpack:///delegated ./node_modules/lodash/_Set.js from dll-reference _dll_vendor_3d2c9e3bcfbe3a2fd368"],"names":["commitFormData","formViewerRef","layoutFormRef","linkageRef","onSave","current","validateFields","errors","values","groups","getFormGroups","newFormData","code","description","name","labelLayout","formSubmitTypeCode","hasEmptyGroup","sectionList","map","g","gindex","formList","groupRef","getFormItems","item","itemindex","config","JSON","parse","tagName","fieldKey","fieldType","id","stringify","disabled","initialValue","label","regularExpression","required","sectionId","span","seq","errorMsg","remark","length","additive","undefined","formFieldInfoList","error","linkages","Array","isArray","useGetItems","formData","showModal","layerRef","showViewerRef","formRenderedRef","domWrapperElRef","getInsertLocation","hasCodeRef","setFieldsValue","allTagNameRef","itemsRef","key","render","form","changeFormItems","controls","getControl","options","getOptions","labelFocused","selectList","value","onChange","setFormGroups","confirm","title","content","val","okText","cancelText","onOk","forEach","currentItems","setFormItems","show","modal","newLinkages","methods","showLayer","setFormData","openUpdateControl","groupId","formItem","type","width","setNewCurrentGroupItems","action","groupRefIndex","findIndex","slice","i","o","newItems","useFormProps","tagNameRef","colContentRender","splice","submitBtnRender","onSubmit","props","group","getParentElement","el","_pE","parentElement","className","includes","getGroupIndex","index","newGroups","getNewGroupData","groupnameNumRef","propTypes","PropTypes","object","isRequired","func","showRightModal","showLayerRightModal","defaultProps","ShowFormViewer","React","memo","forwardRef","ref","margin","padding","height","ZliveForm","ZerodMainContext","setConsumer","LiveForm","customControlRender","dataType","isFunction","items","formProps","drakeRef","nextSiblingRef","onFormGroupsChange","formGroups","getWrapperDom","querySelector","removeOnSpill","revertOnSpill","direction","copy","copySortSource","accepts","target","source","sibling","moves","handle","dataset","on","cloneEl","sourceEl","nextElementSibling","_parEl","exec","currentItem","currentGroup","find","newFormItems","currentindex","currentFormitem","siblingItem","sibingindex","push","targetGroup","targetFormItems","groupid","removeChild","appendChild","containers","getFormInstance","pageHeaderBox","setPageHeaderBox","parEl","zgt_modal","configHeader","ReactDOM","createPortal","stateGroupName","onGroupNameChange","hasindex","groupItem","getFieldValue","unshift","success","warning","FormViewer","GroupMoveBtns","onMoveUp","onMoveDown","onRemove","concatKeys","arr","a","d","getNewFields","fields","srcFieldKey","src","linkageType","srcValue","concat","initialValueLinkageAction","ages","getGroupsFn","seftItem","formObjs","getForm","getFieldsValue","cardGetBirthdayKeys","asyncParamNameKeys","regionNameKeys","ocrParamNameKeys","groupHiddenIds","hiddenKeys","disabledKeys","requiredKeys","noRequiredKeys","selectOptions","hasClearSelect","hasOwnProperty","dist","console","log","newFormObjs","asyncFields","findHideGroup","gh","groupName","formItems","field","hiddenFields","disabledFields","requiredFields","noRequiredFields","selectOptionsFields","e","customOnChange","control","newFieldProto","imperative","currentFieldProto","newItem","selectionsType","paramField","selectionsQuery","asyncParamName","groupIndex","isShow","zformItems","state","loading","isAsync","then","resetDisable","resetNoRequired","resetSelect","resetFields","formValues","birthday","substring","stringJoinSyml","info","isObject","regionName","regions","split","inputString","ocrParamName","ocr","str","autoCheckedBySelected","currentForm","saveFieldOptions","currentValue","hasValue","multiple","mode","newValue","selectedValue","filter","selected","zformItem","currentStateItem","originProps","Object","keys","defaultValue","context","createContext","Provider","Consumer","ChildComponent","PureComponent","groupTitleLeftRender","groupTitleRightRender","linkage","groupChildrenRender","style","momentFormat","booleanToNumber","afterItemsRendered","customFormRules","noAsync","_linkage","isBoolean","getOtherForms","doSubmit","imperativeRef","getEachFormMethod","setAllFormRendered","doLinkage","titleText","allFormRendered","nameChange","string","bool","useDefaultVisible","PercentInput","num","setNum","compact","children","min","max","precision","commonKeys","textKeys","inputKeys","textarayKeys","selectionsType1keys","selectionsType2keys","selectKeys","cascaderKeys","dateKeys","loadKey","uploadKeys","prosAndConsKeys","colorKeys","mapSelectKeys","inputNumberKeys","wechat","controlWechat","formatWechat","controlList","showKeys","configKeys","initSereKey","amap","qqmap","showFieldTypeLinkOther","excludeKeys","fieldTypeItem","cont","getSwitchOpt","getProps","normalize","prevValue","allValues","Boolean","valuePropName","getCorresFormItem","showBtns","inputType","customInputKeys","initValue","states","setStates","size","showSelectionsTypeLinkOther","urlRules","validator","rule","callback","Error","hasError","some","toString","trim","getKeyControl","keyDisabledRef","isUpdateRef","inputOpt","onBlur","match","addonAfter","doChange","useFormItems","hashkey","plat","optLabelRender","p","rules","test","hasKey","right","valueChange","m","left","center","selectionsUrlMethod","selectionsUrl","requireType","labelPlaceholder","finished","tree","condition","val1","val2","sourceItem","keyObj","dateFormats","change","urlMethod","url","urlParamName","requestMode","secretKey","checked","ocrUrlMethod","ocrUrl","valueType","RegExp","autosize","minRows","useEditPage","pageHeader","pageFooter","initAnimation","panelHeader","defaultSpan","submitBtnName","submitMsg","detailApiInterface","detailId","tool","data","objToArr","keyName","extractConfig","targetKey","Number","getFormMethods","Promise","resolve","submitApiInterface","fieldTypeName","arrToObj","newSelectionsQuery","newConf","prevConfig","successMsg","hasRemoveAge","msg","AddColForm","EditForm","MyForm","FormContext","Zform","FormGroup","titleLeftRender","titleRightRender","domRef","formRef","setShow","stateFormItems","showStatus","getShowState","setGroupName","display","turnSelectOptions","section","needChild","list","getControlitem","findItem","getLinkValue","query","srcControl","srcValues","srcControls","distControls","leftSelectedVal","rightSelectedVal","distControl","distValues","onSrcSelected","onBack","ValueLinkControl","leftTransferSelections","setLeftTransferSelections","leftTransferSelected","setLeftTransferSelected","rightTransferSelections","setRightTransferSelections","rightTransferSelected","setRightTransferSelected","asyncParamNameRef","regionNameRef","ocrFieldNameRef","setLinkValue","linkValue","selectOptionsRef","leftTransferPropsRef","getSelectControl","opt","showSearch","placeholder","dropdownMatchSelectWidth","dropdownStyle","leftTitle","rightTitle","leftItemRender","findControl","rightTransferPropsRef","linkRemark","remmak1","remmak2","selectParamname","regionNames","ocrFieldNames","actionType","rightData","actionItem","sibligItem","version","configuration","formTypeId","requiredMsg","gmtCreate","gmtModified","formId","labelWidth","isFormItem","buttonList","mycustoms","arrayOf","valueKey","leftPlaceholder","centerPlaceholder","rightPlaceholder","controlCostrom","customControls","array","leftSpan","centerSpan","rightSpan","getNewValue","v","MyComponent","ZselectInput","customChange","leftChange","centerChange","rightChange","wrapperElRef","_left","_center","_right","warperEl","from","removeAttribute","currentWidth","getFileUids","files","file","getUserInfo","getLayerModalInsertLocation","showModalLoading","showLayerModalLoading","noWrapper","MyUpload","buttonName","getModalName","showLoading","fileAccept","maxUploadLength","autoUpload","isSourceFile","fileListType","maxMegabytes","isPictureCardType","isOnlyPicture","uploaderResponse","filePath","fileSuffix","originalFileName","isSingle","fileList","setTruefileList","fileState","setFileState","hasUploadDoneServerIdsRef","noUploader","uid","modalRef","hasGetDetailIds","server","currentServers","hasServer","isPic","warn","serverId","status","uploadAsync","userinfo","userId","userDO","FormData","append","userIdName","re","ulploadData","catch","isNoUploader","finally","handleUpload","commitButton","uploadButtonName","uploadButton","viewerRef","contentNode","listType","accept","onPreview","viewer","view","removeFlieFromList","serverIndex","beforeUpload","currM","toFixed","reader","FileReader","readAsDataURL","onloadend","sourceFile","result","position","visibility","top","transform","document","body","ZerodLayerContext","ZprosAndCons","uploadFiles","picData","ocrEnabled","res","LoadMapIframe","mapType","messageCallback","iframe","getElementById","contentWindow","onload","postMessage","event","loc","latlng","location","address","longitude","latitude","module","poiname","poiaddress","lng","lat","window","addEventListener","removeEventListener","getWebService","webserviceUrlDO","geocoder","amaporigin","process","serviceApi","qqmaporigin","MapChooseAddress","thisType","inputValue","setInputValue","triggerModal","triggerModalLodaing","openMap","scroll","area","ac","regeocode","addressComponent","adcode","citycode","country","towncode","province","city","district","street","streetNumber","pointWkt","pointWkt2000","ad_info","city_code","nation","onFocus","InputGroup","Group","regExpsList","pattern","regExps","replace","ZauxiliaryInput","selectValue","setSelectValue","setVals","CascaderLoader","changeOnSelect","selectListFieldNames","optionsChange","others","setOptions","loadData","selectedOptions","targetOption","isLeaf","useGetGroupsCallback","groupsRef","useLinkageCallback","selfItem","useGetOtherFormsCallback","forms","isAll","subForm","useDoSubmitCallback","buttonType","useSubmitBtn","linkageTypeActionName","getOptionsRules","reg","message","YYYY","docustomOnChange","rest","confun","defaultFieldConfig","selectControl","controlName","requestQuery","getCurrentControl","hasAsync","currnetFormAllAsync","getAsyncQueue","regType","validateTrigger","showTime","format","setShowTime","startsWith","use12Hours","timeOpt","es","isTimeRange","time","newProps","saveOptionsMapKey","isString","newRules","minUploadLength","currentSaturability","hsv","s","minSaturability","linkageAction","srcControlRemark","linkRemark1","linkRemark2","linkRemark3","linkRemark4","ValueLinkConfigured","configured","setConfigured","getCurrentConfigured","c","valueLabel","AmdDocHOC","HOC","AshowDemoHOC","doc","demo0","Myjavascript","Dom","demo1","formValue","busId","contactName","problemNo","istName","registerProblemDescription","caseTypeLabel","initiatorName","initiatorId","registerPictures","fileName","fileSize","caseReasonCode","problemOriginCodeLabel","caseType","problemAddress","problemOriginCode","caseReasonCodeLabel","contactPhone","busStatus","dispatchTag","dispatchTagLabel","receiveUserAccount","receiveUserAccountLabel","busStatusName","submit","demo2","linkageTypes","tab","active","itemKeys","LinkageConfig","wrapperRef","tabPanes","setTabPanes","tabKey","setTabKey","linkageTypesState","setLinkageTypes","curentLinkTypeRef","objRef","defaultLinkagesRef","insetLocaltion","setInsetLocaltion","onItemClick","l","currentControl","setCurrentControl","configuredRef","IDconfigured","age","currentConf","srcIndex","distIndex","currentConfigured","currentLinkageType","ageIndex","getageIndex","currentKey","srcKey","newConfigured","ReactDom","existLinkage","links","other","dv","di","existIndex","con","newFields","f","hasFieldindex","df","existLinkageIndex","hasAgeIndex","hasAge","currageKeysConcat","currAgeDist","fieldsIndex","keysConcat","GroupNameEdit","edited","setEdited","returner","defaultTags","colors","AddTagName","tagValue","setTagValue","tags","setTags","newTags","finded","paddingTop","layout","cursor","vals","newVal","CustomTagName","NameEdit","TreeSelectLoader","treeData","treeDefaultExpandAll","allowClear","treeNode","sortList","o1","o2","v1","v2","pareLinkages","getFormItem","getRules","newField","getGroupItem","sort","createRef","translateGroups","removeSomeLinkage","unlikeness","treeDataAddKey","distMap","srcMap","distKey","assign","ciilds","InsertGroupBtns","onInsertUp","onInsertDown","IDLinkagesConfigured"],"mappings":"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C,iBAAxD;AAA0E,QAAI,EAAC;AAA/E,gCAzCD,CADD,CA5FD,CADD;AA8IA;;AACDC,gBAAgB,CAAC9X,SAAjB,GAA6BA,SAA7B;;eACeS,eAAMC,IAAN,CAAWoX,gBAAX,C;;;;;;;;;;;;;;;;;ACxef;;;;;;;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA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","file":"static/js/7.1adc014079abff9f7688.js","sourcesContent":["module.exports = (__webpack_require__(\"9w1k\"))(359);","module.exports = (__webpack_require__(\"9w1k\"))(489);","import React, { useState, useEffect, useRef, useImperativeHandle, useCallback } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport FormViewer from \"./FormViewer\";\r\nimport FormContext from \"./FormContext\";\r\nimport { Button, Icon, Tag, Col, Slider, message, Modal, Tooltip } from \"antd\";\r\nimport controls from \"./controls\";\r\nimport Zform from \"../Zform\";\r\nimport { dataType, GenNonDuplicateID } from \"../zTool\";\r\nimport ZerodMainContext from \"../ZerodMainContext\";\r\n// import ZerodLayerContext from \"../ZerodLayerContext\";\r\nimport \"../../dragula/dragula.css\";\r\nimport dragula from \"../../dragula/dragula\";\r\nimport AddColForm from \"./AddColForm\";\r\nimport GroupMoveBtns from \"./GroupMoveBtns\";\r\nimport InsertGroupBtns from \"./InsertGroupBtns\";\r\nimport GroupNameEdit from \"./GroupNameEdit\";\r\nimport LinkageConfig from \"./LinkageConfig\";\r\nimport { getGroupItem, pareLinkages, removeSomeLinkage } from \"./common\";\r\nimport ZfullLayer from \"../ZfullLayer\";\r\nimport AddTagName from \"./AddTagName\";\r\n//校验、提取最新的formData数据\r\nfunction commitFormData(formViewerRef, layoutFormRef, linkageRef, onSave) {\r\n\tlayoutFormRef.current.validateFields((errors, values) => {\r\n\t\tif (errors) return;\r\n\t\tconst groups = formViewerRef.current.getFormGroups();\r\n\t\tconst newFormData = {\r\n\t\t\tcode: values.code,\r\n\t\t\tdescription: values.description,\r\n\t\t\tname: values.name,\r\n\t\t\tlabelLayout: values.labelLayout,\r\n\t\t\tformSubmitTypeCode: values.formSubmitTypeCode,\r\n\t\t};\r\n\t\tlet hasEmptyGroup = false;\r\n\t\tnewFormData.sectionList = groups.map((g, gindex) => {\r\n\t\t\tconst formList = g.groupRef.current.getFormItems().map((item, itemindex) => {\r\n\t\t\t\tconst config = JSON.parse(item.config);\r\n\t\t\t\tconfig.tagName = item.tagName || [];\r\n\t\t\t\treturn {\r\n\t\t\t\t\tfieldKey: item.fieldKey,\r\n\t\t\t\t\tfieldType: item.fieldType,\r\n\t\t\t\t\tid: item.id,\r\n\t\t\t\t\tconfig: JSON.stringify(config),\r\n\t\t\t\t\tdisabled: item.disabled,\r\n\t\t\t\t\tinitialValue: item.initialValue,\r\n\t\t\t\t\tlabel: item.label,\r\n\t\t\t\t\tregularExpression: item.regularExpression,\r\n\t\t\t\t\trequired: item.required,\r\n\t\t\t\t\tsectionId: item.sectionId,\r\n\t\t\t\t\tspan: item.span,\r\n\t\t\t\t\tseq: itemindex + 1,\r\n\t\t\t\t\terrorMsg: item.errorMsg,\r\n\t\t\t\t\tremark: item.remark,\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t\t\tif (!hasEmptyGroup && !formList.length) {\r\n\t\t\t\thasEmptyGroup = true;\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\tid: g.additive ? undefined : g.id,\r\n\t\t\t\tname: g.name,\r\n\t\t\t\tformFieldInfoList: formList,\r\n\t\t\t\tseq: gindex + 1,\r\n\t\t\t};\r\n\t\t});\r\n\t\tif (hasEmptyGroup) {\r\n\t\t\tmessage.error(\"存在空的组，请为其添加控件或者移除该组\");\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tnewFormData.linkages = Array.isArray(linkageRef.current) ? JSON.stringify(linkageRef.current) : null;\r\n\t\ttypeof onSave === \"function\" && onSave(newFormData);\r\n\t});\r\n}\r\n\r\nfunction useGetItems(\r\n\tformData,\r\n\tformViewerRef,\r\n\tlayoutFormRef,\r\n\tshowModal,\r\n\tonSave,\r\n\tlayerRef,\r\n\tshowViewerRef,\r\n\tformRenderedRef,\r\n\tlinkageRef,\r\n\tdomWrapperElRef,\r\n\tgetInsertLocation,\r\n) {\r\n\tconst hasCodeRef = useRef(false);\r\n\t// const linkageRef = useRef(pareLinkages(formData.linkages));\r\n\tuseEffect(() => {\r\n\t\tif (layoutFormRef.current && formRenderedRef.current) {\r\n\t\t\tlayoutFormRef.current.setFieldsValue({\r\n\t\t\t\tname: formData.name,\r\n\t\t\t\tcode: formData.code,\r\n\t\t\t\tlabelLayout: formData.labelLayout,\r\n\t\t\t\tdescription: formData.description,\r\n\t\t\t\tformSubmitTypeCode: formData.formSubmitTypeCode,\r\n\t\t\t});\r\n\t\t}\r\n\t\thasCodeRef.current = !!formData.code;\r\n\t\tlinkageRef.current = pareLinkages(formData.linkages);\r\n\t}, [formData, layoutFormRef.current, formRenderedRef.current]);\r\n\tconst allTagNameRef = useRef([]);\r\n\tconst itemsRef = useRef([\r\n\t\t{\r\n\t\t\tkey: \"name\",\r\n\t\t\tlabel: \"表单名称\",\r\n\t\t\tspan: 4,\r\n\t\t\trender: (form, changeFormItems) => {\r\n\t\t\t\treturn controls[\"1\"].getControl();\r\n\t\t\t},\r\n\t\t\toptions: controls[\"1\"].getOptions({\r\n\t\t\t\trequired: true,\r\n\t\t\t\tinitialValue: formData.name,\r\n\t\t\t}),\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"code\",\r\n\t\t\tlabel: \"表单编码\",\r\n\t\t\tspan: 4,\r\n\t\t\trender: (form, changeFormItems) => {\r\n\t\t\t\treturn controls[\"1\"].getControl({}, undefined, undefined, { disabled: hasCodeRef.current });\r\n\t\t\t},\r\n\t\t\toptions: controls[\"1\"].getOptions({\r\n\t\t\t\trequired: true,\r\n\t\t\t\tinitialValue: formData.code,\r\n\t\t\t}),\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"labelLayout\",\r\n\t\t\tlabel: \"label布局\",\r\n\t\t\tspan: 3,\r\n\t\t\tlabelFocused: true,\r\n\t\t\trender: (form, changeFormItems) => {\r\n\t\t\t\treturn controls[\"3\"].getControl(\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tconfig: {\r\n\t\t\t\t\t\t\tselectList: [\r\n\t\t\t\t\t\t\t\t{ label: \"内联\", value: \"inline\" },\r\n\t\t\t\t\t\t\t\t{ label: \"纵向\", value: \"vertical\" },\r\n\t\t\t\t\t\t\t\t{ label: \"横向\", value: \"horizontal\" },\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t\tundefined,\r\n\t\t\t\t\tundefined,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tonChange: value => {\r\n\t\t\t\t\t\t\tconst groups = formViewerRef.current.getFormGroups();\r\n\t\t\t\t\t\t\tformViewerRef.current.setFormGroups(\r\n\t\t\t\t\t\t\t\tgroups.map(item => {\r\n\t\t\t\t\t\t\t\t\treturn { ...item, labelLayout: value };\r\n\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t\toptions: controls[\"3\"].getOptions({\r\n\t\t\t\tinitialValue: formData.labelLayout,\r\n\t\t\t}),\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"formSubmitTypeCode\",\r\n\t\t\tlabel: \"表单提交类型\",\r\n\t\t\tspan: 3,\r\n\t\t\tlabelFocused: true,\r\n\t\t\trender: (form, changeFormItems) => {\r\n\t\t\t\treturn controls[\"3\"].getControl({\r\n\t\t\t\t\tconfig: {\r\n\t\t\t\t\t\tselectList: [\r\n\t\t\t\t\t\t\t{ label: \"普通表单\", value: 1 },\r\n\t\t\t\t\t\t\t{ label: \"文书编辑\", value: 2 },\r\n\t\t\t\t\t\t\t{ label: \"文件签名\", value: 3 },\r\n\t\t\t\t\t\t\t{ label: \"文件盖章\", value: 4 },\r\n\t\t\t\t\t\t\t{ label: \"文件制作\", value: 5 },\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\toptions: controls[\"3\"].getOptions({\r\n\t\t\t\tinitialValue: 1,\r\n\t\t\t}),\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"buttons\",\r\n\t\t\tlabel: null,\r\n\t\t\tspan: 10,\r\n\t\t\trender: () => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div className=\"z-text-right\">\r\n\t\t\t\t\t\t{/* <Button\r\n\t\t\t\t\t\t\ttype=\"default\"\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tconst insetLocaltion = getInsertLocation(domWrapperElRef.current);\r\n\t\t\t\t\t\t\t\tshowModal({\r\n\t\t\t\t\t\t\t\t\tshow: false,\r\n\t\t\t\t\t\t\t\t\tmodal: insetLocaltion,\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\ticon=\"close\"\r\n\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\tclassName=\"z-margin-right-12\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t关闭窗口\r\n\t\t\t\t\t\t</Button> */}\r\n\t\t\t\t\t\t{/* <Button\r\n\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\tonClick={() => {}}\r\n\t\t\t\t\t\t\t// icon=\"close\"\r\n\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\tclassName=\"z-margin-right-12\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t导入JOSN\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\tonClick={() => {}}\r\n\t\t\t\t\t\t\t// icon=\"close\"\r\n\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\tclassName=\"z-margin-right-12\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t导出JOSN\r\n\t\t\t\t\t\t</Button> */}\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tModal.confirm({\r\n\t\t\t\t\t\t\t\t\ttitle: `为所有控件添加标签?`,\r\n\t\t\t\t\t\t\t\t\tcontent: (\r\n\t\t\t\t\t\t\t\t\t\t<AddTagName\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={val => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tallTagNameRef.current = val;\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t></AddTagName>\r\n\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\tokText: \"确定\",\r\n\t\t\t\t\t\t\t\t\tcancelText: \"取消\",\r\n\t\t\t\t\t\t\t\t\tonOk() {\r\n\t\t\t\t\t\t\t\t\t\tconst groups = formViewerRef.current.getFormGroups();\r\n\t\t\t\t\t\t\t\t\t\tgroups.forEach(g => {\r\n\t\t\t\t\t\t\t\t\t\t\tconst currentItems = g.groupRef.current.getFormItems();\r\n\t\t\t\t\t\t\t\t\t\t\tg.groupRef.current.setFormItems(\r\n\t\t\t\t\t\t\t\t\t\t\t\tcurrentItems.map(item => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn { ...item, tagName: allTagNameRef.current };\r\n\t\t\t\t\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\ticon=\"tag\"\r\n\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\tclassName=\"z-margin-right-12\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t全局打标签\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\ticon=\"block\"\r\n\t\t\t\t\t\t\tclassName=\"z-margin-right-12\"\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tcommitFormData(formViewerRef, layoutFormRef, linkageRef, newFormData => {\r\n\t\t\t\t\t\t\t\t\tshowModal({\r\n\t\t\t\t\t\t\t\t\t\tshow: true,\r\n\t\t\t\t\t\t\t\t\t\tmodal: \"linkageConfigModal\",\r\n\t\t\t\t\t\t\t\t\t\tcontent: (\r\n\t\t\t\t\t\t\t\t\t\t\t<LinkageConfig\r\n\t\t\t\t\t\t\t\t\t\t\t\tnewFormData={newFormData}\r\n\t\t\t\t\t\t\t\t\t\t\t\tdefaultValue={linkageRef.current}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={newLinkages => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// console.log(JSON.stringify(newLinkages));\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlinkageRef.current = newLinkages;\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t联动配置\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\ticon=\"file-unknown\"\r\n\t\t\t\t\t\t\tclassName=\"z-margin-right-12\"\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tcommitFormData(formViewerRef, layoutFormRef, linkageRef, newFormData => {\r\n\t\t\t\t\t\t\t\t\tlayerRef.current.methods.showLayer(\r\n\t\t\t\t\t\t\t\t\t\ttrue,\r\n\t\t\t\t\t\t\t\t\t\t() => {\r\n\t\t\t\t\t\t\t\t\t\t\tshowViewerRef.current.setFormData(newFormData);\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\ttrue,\r\n\t\t\t\t\t\t\t\t\t)();\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t预览\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\ticon=\"check\"\r\n\t\t\t\t\t\t\tclassName=\"z-margin-right-12\"\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tcommitFormData(formViewerRef, layoutFormRef, linkageRef, onSave);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t保存\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"description\",\r\n\t\t\tlabel: \"描述\",\r\n\t\t\tspan: 24,\r\n\t\t\trender: (form, changeFormItems) => {\r\n\t\t\t\treturn controls[\"2\"].getControl();\r\n\t\t\t},\r\n\t\t\toptions: controls[\"2\"].getOptions({\r\n\t\t\t\trequired: false,\r\n\t\t\t\tinitialValue: formData.description,\r\n\t\t\t}),\r\n\t\t},\r\n\t]);\r\n\treturn itemsRef.current;\r\n}\r\n\r\nfunction openUpdateControl(showModal, groupId, formViewerRef, linkageRef, formItem, type) {\r\n\tshowModal({\r\n\t\tshow: true,\r\n\t\tmodal: \"controlProtoModal\",\r\n\t\tcontent: (\r\n\t\t\t<AddColForm\r\n\t\t\t\tgroupId={groupId}\r\n\t\t\t\tformItem={formItem}\r\n\t\t\t\tformViewerRef={formViewerRef}\r\n\t\t\t\tlinkageRef={linkageRef}\r\n\t\t\t\ttype={type}\r\n\t\t\t/>\r\n\t\t),\r\n\t\twidth: \"800px\",\r\n\t});\r\n}\r\n\r\nfunction setNewCurrentGroupItems(formViewerRef, item, action) {\r\n\tconst groups = formViewerRef.current.getFormGroups();\r\n\tconst groupRefIndex = groups.findIndex(g => g.id == item.groupId);\r\n\tconst groupRef = groups[groupRefIndex].groupRef;\r\n\tconst currentItems = groupRef.current.getFormItems().slice(0);\r\n\tconst i = currentItems.findIndex(o => o.key == item.key);\r\n\tconst newItems = typeof action === \"function\" ? action(currentItems, i) : currentItems;\r\n\tgroupRef.current.setFormItems(newItems);\r\n}\r\n\r\nfunction useFormProps(showModal, formViewerRef, linkageRef) {\r\n\tconst tagNameRef = useRef([]);\r\n\treturn useRef({\r\n\t\tcolContentRender: (item, form) => {\r\n\t\t\ttagNameRef.current = item.tagName || [];\r\n\t\t\treturn (\r\n\t\t\t\t<div className=\"z-live-tool\">\r\n\t\t\t\t\t<div style={{ width: \"40%\" }} className=\"z-padding-left-10\">\r\n\t\t\t\t\t\t<Slider\r\n\t\t\t\t\t\t\tmin={2}\r\n\t\t\t\t\t\t\tmax={24}\r\n\t\t\t\t\t\t\tdefaultValue={item.span}\r\n\t\t\t\t\t\t\tonAfterChange={value => {\r\n\t\t\t\t\t\t\t\tsetNewCurrentGroupItems(formViewerRef, item, function(currentItems, i) {\r\n\t\t\t\t\t\t\t\t\tcurrentItems.splice(i, 1, { ...currentItems[i], span: value });\r\n\t\t\t\t\t\t\t\t\treturn [...currentItems];\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Tooltip placement=\"top\" title=\"标签\">\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclassName=\"z-live-tool-item right-item tag\"\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tModal.confirm({\r\n\t\t\t\t\t\t\t\t\t\ttitle: `为 [${item.label}] 这个控件添加标签?`,\r\n\t\t\t\t\t\t\t\t\t\tcontent: (\r\n\t\t\t\t\t\t\t\t\t\t\t<AddTagName\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={item.tagName}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={val => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttagNameRef.current = val;\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t></AddTagName>\r\n\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t\tokText: \"确定\",\r\n\t\t\t\t\t\t\t\t\t\tcancelText: \"取消\",\r\n\t\t\t\t\t\t\t\t\t\tonOk() {\r\n\t\t\t\t\t\t\t\t\t\t\tsetNewCurrentGroupItems(formViewerRef, item, function(currentItems, i) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tcurrentItems.splice(i, 1, {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t...currentItems[i],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttagName: tagNameRef.current,\r\n\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn [...currentItems];\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Icon type=\"tag\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t<Tooltip placement=\"top\" title=\"移除控件\">\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclassName=\"z-live-tool-item right-item delete\"\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tModal.confirm({\r\n\t\t\t\t\t\t\t\t\t\ttitle: `确认移除[${item.label}]这个控件吗?`,\r\n\t\t\t\t\t\t\t\t\t\tokText: \"确定\",\r\n\t\t\t\t\t\t\t\t\t\tcancelText: \"取消\",\r\n\t\t\t\t\t\t\t\t\t\tonOk() {\r\n\t\t\t\t\t\t\t\t\t\t\tsetNewCurrentGroupItems(formViewerRef, item, function(currentItems, i) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tlinkageRef.current &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tremoveSomeLinkage(linkageRef, currentItems[i].fieldKey);\r\n\t\t\t\t\t\t\t\t\t\t\t\tcurrentItems.splice(i, 1);\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn currentItems;\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Icon type=\"delete\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t<Tooltip placement=\"top\" title=\"修改控件\">\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclassName=\"z-live-tool-item right-item\"\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\topenUpdateControl(\r\n\t\t\t\t\t\t\t\t\t\tshowModal,\r\n\t\t\t\t\t\t\t\t\t\titem.groupId,\r\n\t\t\t\t\t\t\t\t\t\tformViewerRef,\r\n\t\t\t\t\t\t\t\t\t\tlinkageRef,\r\n\t\t\t\t\t\t\t\t\t\titem,\r\n\t\t\t\t\t\t\t\t\t\t\"update\",\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Icon type=\"form\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t<div className=\"z-live-tool-item right-item\">\r\n\t\t\t\t\t\t\t<i className=\"zero-icon zerod-move\" data-handle=\"handle\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t},\r\n\t\tsubmitBtnRender: (onSubmit, props) => {\r\n\t\t\treturn (\r\n\t\t\t\t<Col\r\n\t\t\t\t\tspan={24}\r\n\t\t\t\t\tdata-groupid={props.group.id}\r\n\t\t\t\t\tclassName=\"z-text-center z-margin-bottom-10 z-add-formitem-btn\"\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\topenUpdateControl(showModal, props.group.id, formViewerRef, linkageRef, null, \"add\");\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Icon type=\"plus\" /> 添加控件\r\n\t\t\t\t</Col>\r\n\t\t\t);\r\n\t\t},\r\n\t}).current;\r\n}\r\nfunction getParentElement(el) {\r\n\tlet _pE = el.parentElement;\r\n\twhile (_pE && !_pE.className.includes(\"z-form-row\")) {\r\n\t\t_pE = el.parentElement;\r\n\t}\r\n\treturn _pE;\r\n}\r\n\r\nfunction getGroupIndex(formViewerRef, group) {\r\n\tconst groups = formViewerRef.current.getFormGroups();\r\n\tconst index = groups.findIndex(g => {\r\n\t\treturn g.id === group.id;\r\n\t});\r\n\tconst newGroups = groups.slice(0);\r\n\treturn [newGroups, index];\r\n}\r\n\r\nfunction getNewGroupData(labelLayout, groupnameNumRef) {\r\n\tconst item = {\r\n\t\tadditive: true,\r\n\t\tname: `组名-${groupnameNumRef.current}`,\r\n\t\tid: GenNonDuplicateID(),\r\n\t\tformFieldInfoList: [],\r\n\t\tlabelLayout,\r\n\t};\r\n\tgroupnameNumRef.current++;\r\n\treturn item;\r\n}\r\n\r\nconst propTypes = {\r\n\tformData: PropTypes.object.isRequired,\r\n\tonSave: PropTypes.func,\r\n\tshowRightModal: PropTypes.func,\r\n\tshowLayerRightModal: PropTypes.func,\r\n};\r\nconst defaultProps = {\r\n\tformData: {},\r\n};\r\n\r\nconst ShowFormViewer = React.memo(\r\n\tReact.forwardRef(function(props, ref) {\r\n\t\tconst [formData, setFormData] = useState(null);\r\n\t\tuseImperativeHandle(ref, () => {\r\n\t\t\treturn {\r\n\t\t\t\tsetFormData,\r\n\t\t\t};\r\n\t\t});\r\n\t\treturn formData ? (\r\n\t\t\t<div style={{ width: \"90%\", margin: \"0 auto\", padding: \"20px 0\" }}>\r\n\t\t\t\t<FormViewer formData={formData} />\r\n\t\t\t</div>\r\n\t\t) : (\r\n\t\t\t<div style={{ height: \"100px\" }} />\r\n\t\t);\r\n\t}),\r\n);\r\n\r\nconst ZliveForm = ZerodMainContext.setConsumer(function LiveForm({\r\n\tformData,\r\n\tonSave,\r\n\tshowRightModal,\r\n\tgetInsertLocation,\r\n}) {\r\n\tformData.customControlRender = null;\r\n\tconst domWrapperElRef = useRef();\r\n\tconst groupnameNumRef = useRef(1);\r\n\tconst layerRef = useRef(null);\r\n\tconst linkageRef = useRef(null);\r\n\tconst showViewerRef = useRef(null);\r\n\tconst layoutFormRef = useRef(null);\r\n\t//取FormViewer的实例\r\n\tconst formViewerRef = useRef(null);\r\n\t//打开modal的方法\r\n\tconst showModal = dataType.isFunction(showRightModal) ? showRightModal : () => {};\r\n\tif (!formData.sectionList || !formData.sectionList.length) {\r\n\t\tformData.sectionList = [getNewGroupData(formData.labelLayout, groupnameNumRef)];\r\n\t}\r\n\t//当前Zform的items\r\n\tconst formRenderedRef = useRef(false);\r\n\tconst items = useGetItems(\r\n\t\tformData,\r\n\t\tformViewerRef,\r\n\t\tlayoutFormRef,\r\n\t\tshowModal,\r\n\t\tonSave,\r\n\t\tlayerRef,\r\n\t\tshowViewerRef,\r\n\t\tformRenderedRef,\r\n\t\tlinkageRef,\r\n\t\tdomWrapperElRef,\r\n\t\tgetInsertLocation,\r\n\t);\r\n\t//FormGroup里面Zform的扩展属性\r\n\tconst formProps = useFormProps(showModal, formViewerRef, linkageRef);\r\n\t//存dragula的实例\r\n\tconst drakeRef = useRef(null);\r\n\t//存拖动元素下一个元素\r\n\tconst nextSiblingRef = useRef(null);\r\n\t//动态表单组变化的回调\r\n\tconst onFormGroupsChange = useCallback(\r\n\t\tformGroups => {\r\n\t\t\tif (!drakeRef.current) {\r\n\t\t\t\tif (formGroups.length) {\r\n\t\t\t\t\tdrakeRef.current = dragula(\r\n\t\t\t\t\t\tformGroups.map(g => {\r\n\t\t\t\t\t\t\treturn g.groupRef.current.getWrapperDom().querySelector(\".z-form-row\");\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tremoveOnSpill: false,\r\n\t\t\t\t\t\t\trevertOnSpill: true,\r\n\t\t\t\t\t\t\tdirection: \"mixed\",\r\n\t\t\t\t\t\t\tcopy: false,\r\n\t\t\t\t\t\t\tcopySortSource: false,\r\n\t\t\t\t\t\t\taccepts: function(el, target, source, sibling) {\r\n\t\t\t\t\t\t\t\t//因为 z-add-formitem-btn 按钮是target/source最后一个子元素，也就是没有sibling时是不能被停放的\r\n\t\t\t\t\t\t\t\tif (!sibling) {\r\n\t\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tmoves: function(el, source, handle, sibling) {\r\n\t\t\t\t\t\t\t\treturn handle.dataset.handle == \"handle\";\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t)\r\n\t\t\t\t\t\t.on(\"cloned\", (cloneEl, sourceEl, type) => {\r\n\t\t\t\t\t\t\tnextSiblingRef.current = sourceEl.nextElementSibling;\r\n\t\t\t\t\t\t\tconst _parEl = getParentElement(sourceEl);\r\n\t\t\t\t\t\t\tcloneEl.className += ` z-live-form-item-clone ${_parEl.className.slice(\r\n\t\t\t\t\t\t\t\t/z\\-form\\-label\\-/g.exec(_parEl.className).index,\r\n\t\t\t\t\t\t\t)}`;\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.on(\"drop\", function(el, target, source, sibling) {\r\n\t\t\t\t\t\t\tconst groups = formViewerRef.current.getFormGroups();\r\n\t\t\t\t\t\t\tconst currentItem = JSON.parse(el.dataset.item);\r\n\t\t\t\t\t\t\tconst currentGroup = groups.find(g => {\r\n\t\t\t\t\t\t\t\treturn g.id == currentItem.groupId;\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tconst newFormItems = currentGroup.groupRef.current.getFormItems().slice(0);\r\n\t\t\t\t\t\t\tconst currentindex = newFormItems.findIndex(item => {\r\n\t\t\t\t\t\t\t\treturn item.key == currentItem.key;\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tconst currentFormitem = newFormItems[currentindex];\r\n\t\t\t\t\t\t\tif (target === source) {\r\n\t\t\t\t\t\t\t\tif (sibling.dataset.item) {\r\n\t\t\t\t\t\t\t\t\tconst siblingItem = JSON.parse(sibling.dataset.item);\r\n\t\t\t\t\t\t\t\t\tconst sibingindex = newFormItems.findIndex(item => {\r\n\t\t\t\t\t\t\t\t\t\treturn item.key == siblingItem.key;\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tif (currentindex < sibingindex) {\r\n\t\t\t\t\t\t\t\t\t\tnewFormItems.splice(sibingindex, 0, currentFormitem);\r\n\t\t\t\t\t\t\t\t\t\tnewFormItems.splice(currentindex, 1);\r\n\t\t\t\t\t\t\t\t\t} else if (currentindex > sibingindex) {\r\n\t\t\t\t\t\t\t\t\t\tnewFormItems.splice(currentindex, 1);\r\n\t\t\t\t\t\t\t\t\t\tnewFormItems.splice(sibingindex, 0, currentFormitem);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tnewFormItems.splice(currentindex, 1);\r\n\t\t\t\t\t\t\t\t\tnewFormItems.push(currentFormitem);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tcurrentGroup.groupRef.current.setFormItems(newFormItems);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tlet targetGroup = null;\r\n\t\t\t\t\t\t\t\tlet targetFormItems = [];\r\n\t\t\t\t\t\t\t\tif (sibling.dataset.item) {\r\n\t\t\t\t\t\t\t\t\tconst siblingItem = JSON.parse(sibling.dataset.item);\r\n\r\n\t\t\t\t\t\t\t\t\ttargetGroup = groups.find(g => {\r\n\t\t\t\t\t\t\t\t\t\treturn g.id == siblingItem.groupId;\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\ttargetFormItems = targetGroup.groupRef.current.getFormItems().slice(0);\r\n\t\t\t\t\t\t\t\t\tconst sibingindex = targetFormItems.findIndex(item => {\r\n\t\t\t\t\t\t\t\t\t\treturn item.key == siblingItem.key;\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tcurrentFormitem.groupId = siblingItem.groupId;\r\n\t\t\t\t\t\t\t\t\ttargetFormItems.splice(sibingindex, 0, currentFormitem);\r\n\t\t\t\t\t\t\t\t} else if (sibling.dataset.groupid) {\r\n\t\t\t\t\t\t\t\t\ttargetGroup = groups.find(g => {\r\n\t\t\t\t\t\t\t\t\t\treturn g.id == sibling.dataset.groupid;\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\ttargetFormItems = targetGroup.groupRef.current.getFormItems().slice(0);\r\n\t\t\t\t\t\t\t\t\tcurrentFormitem.groupId = sibling.dataset.groupid;\r\n\t\t\t\t\t\t\t\t\ttargetFormItems.push(currentFormitem);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif (targetGroup) {\r\n\t\t\t\t\t\t\t\t\ttarget.removeChild(el);\r\n\t\t\t\t\t\t\t\t\tsource.appendChild(el);\r\n\t\t\t\t\t\t\t\t\t// console.log(target,source)\r\n\t\t\t\t\t\t\t\t\tnewFormItems.splice(currentindex, 1);\r\n\t\t\t\t\t\t\t\t\ttargetGroup.groupRef.current.setFormItems(targetFormItems);\r\n\t\t\t\t\t\t\t\t\tcurrentGroup.groupRef.current.setFormItems(newFormItems);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tdrakeRef.current.containers = formGroups.map(g => {\r\n\t\t\t\t\treturn g.groupRef.current.getWrapperDom().querySelector(\".z-form-row\");\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\t[drakeRef.current, formViewerRef.current, nextSiblingRef.current],\r\n\t);\r\n\tconst getFormInstance = useCallback(\r\n\t\tform => {\r\n\t\t\tlayoutFormRef.current = form;\r\n\t\t},\r\n\t\t[layoutFormRef.current],\r\n\t);\r\n\r\n\tconst [pageHeaderBox, setPageHeaderBox] = useState(null);\r\n\tuseEffect(() => {\r\n\t\tlet parEl = domWrapperElRef.current;\r\n\t\twhile (parEl && !parEl.dataset.zgt_modal) {\r\n\t\t\tparEl = parEl.parentElement;\r\n\t\t}\r\n\t\tif (parEl) {\r\n\t\t\tsetPageHeaderBox(parEl.querySelector(\"#ZpageHeaderBox\"));\r\n\t\t}\r\n\t}, []);\r\n\tconst configHeader = (\r\n\t\t<div className=\"z-panel is-radius-top z-shadow-blue\">\r\n\t\t\t<div className=\"z-panel-body z-padding-bottom-0-important\">\r\n\t\t\t\t<Zform\r\n\t\t\t\t\titems={items}\r\n\t\t\t\t\tlabelLayout=\"inline\"\r\n\t\t\t\t\tstyle={{ width: \"100%\" }}\r\n\t\t\t\t\tsubmitBtnName=\"\"\r\n\t\t\t\t\tgetFormInstance={getFormInstance}\r\n\t\t\t\t\tafterItemsRendered={() => {\r\n\t\t\t\t\t\tformRenderedRef.current = true;\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n\treturn (\r\n\t\t<section ref={domWrapperElRef} className=\"z-padding-14\">\r\n\t\t\t<FormContext.Provider value={formProps}>\r\n\t\t\t\t{pageHeaderBox ? ReactDOM.createPortal(configHeader, pageHeaderBox) : configHeader}\r\n\t\t\t\t<FormViewer\r\n\t\t\t\t\tonFormGroupsChange={onFormGroupsChange}\r\n\t\t\t\t\tref={formViewerRef}\r\n\t\t\t\t\tclassName=\"z-live-form\"\r\n\t\t\t\t\tformData={formData}\r\n\t\t\t\t\ttitle={false}\r\n\t\t\t\t\tlinkage={false}\r\n\t\t\t\t\tnoAsync={true}\r\n\t\t\t\t\tgroupTitleLeftRender={(group, stateGroupName, onGroupNameChange, groups) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<GroupNameEdit\r\n\t\t\t\t\t\t\t\tvalue={stateGroupName}\r\n\t\t\t\t\t\t\t\tonChange={val => {\r\n\t\t\t\t\t\t\t\t\tconst hasindex = groups.findIndex(item => item.name === val);\r\n\t\t\t\t\t\t\t\t\tif (hasindex > -1) {\r\n\t\t\t\t\t\t\t\t\t\tmessage.error(\"组名不能与其他组名相同\");\r\n\t\t\t\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tonGroupNameChange(val);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tgroupTitleRightRender={group => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<InsertGroupBtns\r\n\t\t\t\t\t\t\t\t\tonInsertUp={() => {\r\n\t\t\t\t\t\t\t\t\t\tconst [newGroups, index] = getGroupIndex(formViewerRef, group);\r\n\t\t\t\t\t\t\t\t\t\tconst groupItem = getGroupItem({\r\n\t\t\t\t\t\t\t\t\t\t\tgroup: getNewGroupData(\r\n\t\t\t\t\t\t\t\t\t\t\t\tlayoutFormRef.current.getFieldValue(\"labelLayout\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\tgroupnameNumRef,\r\n\t\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\tif (index === 0) {\r\n\t\t\t\t\t\t\t\t\t\t\tnewGroups.unshift(groupItem);\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\tnewGroups.splice(index, 0, groupItem);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tformViewerRef.current.setFormGroups(newGroups);\r\n\t\t\t\t\t\t\t\t\t\tmessage.success(\"向上插入组成功\");\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tonInsertDown={() => {\r\n\t\t\t\t\t\t\t\t\t\tconst [newGroups, index] = getGroupIndex(formViewerRef, group);\r\n\t\t\t\t\t\t\t\t\t\tconst groupItem = getGroupItem({\r\n\t\t\t\t\t\t\t\t\t\t\tgroup: getNewGroupData(\r\n\t\t\t\t\t\t\t\t\t\t\t\tlayoutFormRef.current.getFieldValue(\"labelLayout\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\tgroupnameNumRef,\r\n\t\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\tif (index === newGroups.length - 1) {\r\n\t\t\t\t\t\t\t\t\t\t\tnewGroups.push(groupItem);\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\tnewGroups.splice(index + 1, 0, groupItem);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tformViewerRef.current.setFormGroups(newGroups);\r\n\t\t\t\t\t\t\t\t\t\tmessage.success(\"向下插入组成功\");\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<GroupMoveBtns\r\n\t\t\t\t\t\t\t\t\tonMoveUp={() => {\r\n\t\t\t\t\t\t\t\t\t\tconst [newGroups, index] = getGroupIndex(formViewerRef, group);\r\n\t\t\t\t\t\t\t\t\t\tif (index > 0) {\r\n\t\t\t\t\t\t\t\t\t\t\tnewGroups.splice(index, 1);\r\n\t\t\t\t\t\t\t\t\t\t\tnewGroups.splice(index - 1, 0, group);\r\n\t\t\t\t\t\t\t\t\t\t\tformViewerRef.current.setFormGroups(newGroups);\r\n\t\t\t\t\t\t\t\t\t\t\tmessage.success(\"上移成功\");\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tonMoveDown={() => {\r\n\t\t\t\t\t\t\t\t\t\tconst [newGroups, index] = getGroupIndex(formViewerRef, group);\r\n\t\t\t\t\t\t\t\t\t\tif (index > -1 && index < newGroups.length - 1) {\r\n\t\t\t\t\t\t\t\t\t\t\tnewGroups.splice(index + 2, 0, group);\r\n\t\t\t\t\t\t\t\t\t\t\tnewGroups.splice(index, 1);\r\n\t\t\t\t\t\t\t\t\t\t\tformViewerRef.current.setFormGroups(newGroups);\r\n\t\t\t\t\t\t\t\t\t\t\tmessage.success(\"下移成功\");\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tonRemove={() => {\r\n\t\t\t\t\t\t\t\t\t\tModal.confirm({\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: `确认移除[${group.name}]这个组吗?`,\r\n\t\t\t\t\t\t\t\t\t\t\tokText: \"确定\",\r\n\t\t\t\t\t\t\t\t\t\t\tcancelText: \"取消\",\r\n\t\t\t\t\t\t\t\t\t\t\tonOk() {\r\n\t\t\t\t\t\t\t\t\t\t\t\tconst [newGroups, index] = getGroupIndex(formViewerRef, group);\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (newGroups.length === 1) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmessage.warning(\"最后一组不能移除\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\tnewGroups.splice(index, 1);\r\n\t\t\t\t\t\t\t\t\t\t\t\tformViewerRef.current.setFormGroups(newGroups);\r\n\t\t\t\t\t\t\t\t\t\t\t\tmessage.success(\"移除成功\");\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Tag color={group.additive ? \"blue\" : \"magenta\"}>\r\n\t\t\t\t\t\t\t\t\t{group.additive ? `新增` : `ID${group[\"id\"]}`}\r\n\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t</FormContext.Provider>\r\n\t\t\t<ZfullLayer ref={layerRef}>\r\n\t\t\t\t<ShowFormViewer ref={showViewerRef} />\r\n\t\t\t</ZfullLayer>\r\n\t\t</section>\r\n\t);\r\n});\r\nZliveForm.propTypes = propTypes;\r\nZliveForm.defaultProps = defaultProps;\r\nZliveForm.FormViewer = FormViewer;\r\nexport default ZliveForm;\r\n","import React, { useState, useEffect, useRef, useImperativeHandle, useCallback } from \"react\";\r\nimport { Icon, Tooltip } from \"antd\";\r\n\r\nexport default React.memo(function GroupMoveBtns(props) {\r\n\tconst { onMoveUp, onMoveDown,onRemove } = props;\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Tooltip placement=\"top\" title=\"上移\">\r\n\t\t\t\t<div className=\"z-live-tool-item all-border move small z-margin-right-10\" onClick={onMoveUp}>\r\n\t\t\t\t\t<Icon type=\"arrow-up\" />\r\n\t\t\t\t</div>\r\n\t\t\t</Tooltip>\r\n\t\t\t<Tooltip placement=\"top\" title=\"下移\">\r\n\t\t\t\t<div className=\"z-live-tool-item all-border move small z-margin-right-10\" onClick={onMoveDown}>\r\n\t\t\t\t\t<Icon type=\"arrow-down\" />\r\n\t\t\t\t</div>\r\n\t\t\t</Tooltip>\r\n\t\t\t<Tooltip placement=\"top\" title=\"移除组\">\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"z-live-tool-item all-border small delete z-margin-right-10\"\r\n\t\t\t\t\t\tonClick={onRemove}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Icon type=\"delete\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Tooltip>\r\n\t\t</>\r\n\t);\r\n});\r\n","function _readOnlyError(name) {\n  throw new Error(\"\\\"\" + name + \"\\\" is read-only\");\n}\n\nmodule.exports = _readOnlyError;","/*\r\n * @Author: zgt\r\n * @Date: 2019-03-26 15:45:03\r\n * @LastEditors: zgt\r\n * @LastEditTime: 2019-09-30 09:42:34\r\n * @Description: file content\r\n */\r\nimport { arrayFilterBy, dataType } from \"../zTool\";\r\nimport debounce from \"lodash/debounce\";\r\nimport moment from \"moment\";\r\nimport controls from \"./controls\";\r\nfunction concatKeys(values, arr, a, d) {\r\n\tconst getNewFields = () => {\r\n\t\treturn d.fields.map(item => {\r\n\t\t\treturn {\r\n\t\t\t\t...item,\r\n\t\t\t\tsrcFieldKey: a.src.fieldKey,\r\n\t\t\t};\r\n\t\t});\r\n\t};\r\n\tif (\r\n\t\t[\"6\", \"7\", \"8\", \"9\"].includes(a.linkageType) ||\r\n\t\t(d.srcValue !== undefined && values[a.src.fieldKey] !== undefined && d.srcValue == values[a.src.fieldKey])\r\n\t) {\r\n\t\tarr = arr.concat(getNewFields());\r\n\t} else if (Array.isArray(values[a.src.fieldKey])) {\r\n\t\tif (Array.isArray(d.srcValue)) {\r\n\t\t\tif (JSON.stringify(values[a.src.fieldKey]) == JSON.stringify(d.srcValue)) {\r\n\t\t\t\tarr = arr.concat(getNewFields());\r\n\t\t\t}\r\n\t\t} else if (values[a.src.fieldKey].includes(d.srcValue)) {\r\n\t\t\tarr = arr.concat(getNewFields());\r\n\t\t}\r\n\t}\r\n\treturn arr;\r\n}\r\nconst initialValueLinkageAction = debounce(function(ages = [], getGroupsFn, seftItem) {\r\n\tages = dataType.isArray(ages) ? ages : [];\r\n\t// console.log(ages, getGroupsFn, seftItem);\r\n\tif (!ages.length) return;\r\n\tlet formObjs = [];\r\n\tconst groups = getGroupsFn();\r\n\tgroups.forEach(g => {\r\n\t\tformObjs.push(g.groupRef.current.getForm());\r\n\t});\r\n\tlet values = {};\r\n\tformObjs.forEach(o => {\r\n\t\tvalues = { ...values, ...o.form.getFieldsValue() };\r\n\t});\r\n\tlet cardGetBirthdayKeys = [];\r\n\tlet asyncParamNameKeys = [];\r\n\tlet regionNameKeys = [];\r\n\tlet ocrParamNameKeys = [];\r\n\tlet groupHiddenIds = [];\r\n\tlet hiddenKeys = [];\r\n\tlet disabledKeys = [];\r\n\tlet requiredKeys = [];\r\n\tlet noRequiredKeys = [];\r\n\tlet selectOptions = [];\r\n\tlet hasClearSelect = false;\r\n\tages.forEach(a => {\r\n\t\tif (values.hasOwnProperty(a.src.fieldKey)) {\r\n\t\t\tswitch (a.linkageType) {\r\n\t\t\t\t//OCR识别联动\r\n\t\t\t\tcase \"9\":\r\n\t\t\t\t\ta.dist.forEach(d => {\r\n\t\t\t\t\t\tocrParamNameKeys = concatKeys(values, ocrParamNameKeys, a, d);\r\n\t\t\t\t\t});\r\n\t\t\t\t\tconsole.log(ocrParamNameKeys);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t//地图选点取行政区划\r\n\t\t\t\tcase \"8\":\r\n\t\t\t\t\ta.dist.forEach(d => {\r\n\t\t\t\t\t\tregionNameKeys = concatKeys(values, regionNameKeys, a, d);\r\n\t\t\t\t\t});\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t//单选联动异步请求选项\r\n\t\t\t\tcase \"7\":\r\n\t\t\t\t\ta.dist.forEach(d => {\r\n\t\t\t\t\t\tasyncParamNameKeys = concatKeys(values, asyncParamNameKeys, a, d);\r\n\t\t\t\t\t});\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t//输入身份证自动联动生日\r\n\t\t\t\tcase \"6\":\r\n\t\t\t\t\ta.dist.forEach(d => {\r\n\t\t\t\t\t\tcardGetBirthdayKeys = concatKeys(values, cardGetBirthdayKeys, a, d);\r\n\t\t\t\t\t});\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t//隐藏\r\n\t\t\t\tcase \"5.1\":\r\n\t\t\t\t\ta.dist.forEach(d => {\r\n\t\t\t\t\t\tgroupHiddenIds = concatKeys(values, groupHiddenIds, a, d);\r\n\t\t\t\t\t});\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"5.2\":\r\n\t\t\t\t\ta.dist.forEach(d => {\r\n\t\t\t\t\t\thiddenKeys = concatKeys(values, hiddenKeys, a, d);\r\n\t\t\t\t\t});\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t//禁用\r\n\t\t\t\tcase \"1\":\r\n\t\t\t\t\ta.dist.forEach(d => {\r\n\t\t\t\t\t\tdisabledKeys = concatKeys(values, disabledKeys, a, d);\r\n\t\t\t\t\t});\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t// 必填\r\n\t\t\t\tcase \"2\":\r\n\t\t\t\t\ta.dist.forEach(d => {\r\n\t\t\t\t\t\trequiredKeys = concatKeys(values, requiredKeys, a, d);\r\n\t\t\t\t\t});\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t// 非必填\r\n\t\t\t\tcase \"3\":\r\n\t\t\t\t\ta.dist.forEach(d => {\r\n\t\t\t\t\t\tnoRequiredKeys = concatKeys(values, noRequiredKeys, a, d);\r\n\t\t\t\t\t});\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t// 控制选项\r\n\t\t\t\tcase \"4\":\r\n\t\t\t\t\thasClearSelect = seftItem && a.src.fieldKey == seftItem.fieldKey;\r\n\t\t\t\t\ta.dist.forEach(d => {\r\n\t\t\t\t\t\tselectOptions = concatKeys(values, selectOptions, a, d);\r\n\t\t\t\t\t});\r\n\t\t\t\t\t// console.log(\"selectOptions\",selectOptions)\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\tlet newFormObjs = [];\r\n\tconst newItems = [];\r\n\tconst asyncFields = [];\r\n\tgroups.forEach((g, gindex) => {\r\n\t\tconst findHideGroup = groupHiddenIds.findIndex(gh => {\r\n\t\t\treturn gh.groupName && gh.groupName === g.name;\r\n\t\t});\r\n\t\tg.groupRef.current.show(findHideGroup === -1, seftItem);\r\n\t\tif (findHideGroup === -1) {\r\n\t\t\tnewFormObjs.push(g.groupRef.current.getForm());\r\n\t\t\tg.formItems.forEach(field => {\r\n\t\t\t\tconst hiddenFields = arrayFilterBy(hiddenKeys, { fieldKey: field.fieldKey });\r\n\t\t\t\tif (values.hasOwnProperty(field.fieldKey)) {\r\n\t\t\t\t\tconst disabledFields = arrayFilterBy(disabledKeys, { fieldKey: field.fieldKey });\r\n\t\t\t\t\tconst requiredFields = arrayFilterBy(requiredKeys, { fieldKey: field.fieldKey });\r\n\t\t\t\t\tconst noRequiredFields = arrayFilterBy(noRequiredKeys, { fieldKey: field.fieldKey });\r\n\t\t\t\t\tconst selectOptionsFields = arrayFilterBy(selectOptions, { fieldKey: field.fieldKey });\r\n\r\n\t\t\t\t\tlet e = { ...field };\r\n\t\t\t\t\tif (requiredFields.length && noRequiredFields.length) {\r\n\t\t\t\t\t\tconsole.error(`同个控件不应该同时存在\"必填\"和\"非必填\"联动配置，请纠正`);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (disabledFields.length || noRequiredFields.length) {\r\n\t\t\t\t\t\te.required = 0;\r\n\t\t\t\t\t} else if (requiredFields.length) {\r\n\t\t\t\t\t\te.required = 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (typeof e.config == \"string\") {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\te.config = JSON.parse(e.config);\r\n\t\t\t\t\t\t} catch (e) {}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (selectOptionsFields.length) {\r\n\t\t\t\t\t\te.config = {\r\n\t\t\t\t\t\t\t...e.config,\r\n\t\t\t\t\t\t\tselectList: selectOptionsFields[0].options,\r\n\t\t\t\t\t\t\tcustomOnChange: null,\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconst control =\r\n\t\t\t\t\t\tdisabledFields.length || selectOptionsFields.length\r\n\t\t\t\t\t\t\t? controls[e.fieldType].getControl(e, ages, getGroupsFn, {\r\n\t\t\t\t\t\t\t\t\tdisabled: disabledFields.length > 0 || !!e.disabled,\r\n\t\t\t\t\t\t\t  })\r\n\t\t\t\t\t\t\t: null;\r\n\t\t\t\t\tconst newFieldProto = {\r\n\t\t\t\t\t\t...e,\r\n\t\t\t\t\t\timperative: null,\r\n\t\t\t\t\t\toptions: null,\r\n\t\t\t\t\t\trender: null,\r\n\t\t\t\t\t\tconfig: JSON.stringify(e.config),\r\n\t\t\t\t\t};\r\n\t\t\t\t\tconst currentFieldProto = { ...field, imperative: null, options: null, render: null };\r\n\t\t\t\t\tconst options =\r\n\t\t\t\t\t\tJSON.stringify(newFieldProto) !== JSON.stringify(currentFieldProto)\r\n\t\t\t\t\t\t\t? controls[e.fieldType].getOptions(e)\r\n\t\t\t\t\t\t\t: null;\r\n\t\t\t\t\tconst newItem = {};\r\n\t\t\t\t\tif (control) {\r\n\t\t\t\t\t\tnewItem.control = control;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (options) {\r\n\t\t\t\t\t\tnewItem.options = options;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tnewItems.push({\r\n\t\t\t\t\t\tkey: e.fieldKey,\r\n\t\t\t\t\t\tshow: !hiddenFields.length,\r\n\t\t\t\t\t\tnewItem: control || options ? newItem : e.config.selectionsType == 2 ? undefined : \"reset\",\r\n\t\t\t\t\t});\r\n\t\t\t\t\t//单选联动异步请求选项\r\n\t\t\t\t\tlet paramField = asyncParamNameKeys.find(item => item.fieldKey === e.fieldKey);\r\n\t\t\t\t\tif (paramField && e.config.selectionsType == 2) {\r\n\t\t\t\t\t\te.config = {\r\n\t\t\t\t\t\t\t...e.config,\r\n\t\t\t\t\t\t\tselectionsQuery: {\r\n\t\t\t\t\t\t\t\t...e.config.selectionsQuery,\r\n\t\t\t\t\t\t\t\t[paramField.asyncParamName]: values[paramField.srcFieldKey],\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\te.groupIndex = gindex;\r\n\t\t\t\t\t\te.srcFieldKey = paramField.srcFieldKey;\r\n\t\t\t\t\t\tasyncFields.push(e);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnewItems.push({\r\n\t\t\t\t\t\tkey: field.fieldKey,\r\n\t\t\t\t\t\tshow: !hiddenFields.length,\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n\t// console.log(selectOptions)\r\n\r\n\tnewFormObjs.forEach((o, i) => {\r\n\t\to.methods.changeFormItems(newItems, true);\r\n\t\tasyncFields.forEach(e => {\r\n\t\t\tif ((seftItem && e.srcFieldKey == seftItem.fieldKey) || !seftItem) {\r\n\t\t\t\tconst isShow = o.form.zformItems.find(item => item.key === e.fieldKey && item.ref.current.state.show);\r\n\t\t\t\tif (!isShow && i !== e.groupIndex) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\to.methods.changeFormItems({ key: e.fieldKey, loading: true }, true);\r\n\t\t\t\tcontrols[e.fieldType]\r\n\t\t\t\t\t.getControl(e, ages, getGroupsFn, { isAsync: true }, undefined, o.form)\r\n\t\t\t\t\t.then(control => {\r\n\t\t\t\t\t\to.methods.changeFormItems({ key: e.fieldKey, loading: false, newItem: { control } }, true);\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t\tconst resetDisable = disabledKeys.map(item => item.fieldKey);\r\n\t\tconst resetNoRequired = noRequiredKeys.map(item => item.fieldKey);\r\n\t\tconst resetSelect = selectOptions.map(item => item.fieldKey);\r\n\t\to.form.validateFields([...resetDisable, ...resetNoRequired]);\r\n\t\to.form.resetFields([...resetDisable, ...(hasClearSelect ? resetSelect : [])]);\r\n\t\t//处理身份证号码获取生日联动到其他控件：\r\n\t\tif (cardGetBirthdayKeys.length) {\r\n\t\t\tconst formValues = o.form.getFieldsValue();\r\n\t\t\tcardGetBirthdayKeys.forEach(field => {\r\n\t\t\t\tif (formValues.hasOwnProperty(field.fieldKey)) {\r\n\t\t\t\t\tlet birthday = values[field.srcFieldKey];\r\n\t\t\t\t\tconst val = birthday && birthday.length > 14 ? birthday.substring(6, 14) : \"\";\r\n\t\t\t\t\to.form.setFieldsValue({\r\n\t\t\t\t\t\t[field.fieldKey]: field.fieldType == 5 ? moment(stringJoinSyml(val)) : stringJoinSyml(val),\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\t//处理地图选点的信息联动到其他控件：\r\n\t\tif (regionNameKeys.length) {\r\n\t\t\tconst formValues = o.form.getFieldsValue();\r\n\t\t\tregionNameKeys.forEach(field => {\r\n\t\t\t\tif (formValues.hasOwnProperty(field.fieldKey)) {\r\n\t\t\t\t\tlet info = values[field.srcFieldKey];\r\n\t\t\t\t\tif (dataType.isObject(info) && field.regionName) {\r\n\t\t\t\t\t\tconst regions = field.regionName.split(\",\");\r\n\t\t\t\t\t\tlet inputString = \"\";\r\n\t\t\t\t\t\tregions.forEach(key => {\r\n\t\t\t\t\t\t\tinputString += info[key];\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\to.form.setFieldsValue({\r\n\t\t\t\t\t\t\t[field.fieldKey]: inputString,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\t//处理OCR联动其他控件\r\n\t\tif (ocrParamNameKeys.length) {\r\n\t\t\tconst formValues = o.form.getFieldsValue();\r\n\t\t\tocrParamNameKeys.forEach(field => {\r\n\t\t\t\tif (seftItem && seftItem.fieldKey !== field.srcFieldKey) return;\r\n\t\t\t\tif (formValues.hasOwnProperty(field.fieldKey)) {\r\n\t\t\t\t\tlet info = Array.isArray(values[field.srcFieldKey]) ? values[field.srcFieldKey] : [];\r\n\t\t\t\t\tif (dataType.isObject(info[0]) && field.ocrParamName) {\r\n\t\t\t\t\t\tconst ocr = info[0].ocr || {};\r\n\t\t\t\t\t\tconst regions = field.ocrParamName.split(\",\");\r\n\t\t\t\t\t\tlet inputString = \"\";\r\n\t\t\t\t\t\tregions.forEach(key => {\r\n\t\t\t\t\t\t\tinputString += ocr[key];\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\to.form.setFieldsValue({\r\n\t\t\t\t\t\t\t[field.fieldKey]: inputString,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n}, 60);\r\nfunction stringJoinSyml(str) {\r\n\treturn str.length === 8 ? str.substring(0, 4) + \"-\" + str.substring(4, 6) + \"-\" + str.substring(6, 8) : \"\";\r\n}\r\n\r\nexport const autoCheckedBySelected = debounce(function(ages, getGroupsFn, seftItem) {\r\n\tages = dataType.isArray(ages) ? ages : [];\r\n\tconst groups = getGroupsFn();\r\n\tgroups.forEach(g => {\r\n\t\tconst currentForm = g.groupRef.current.getForm();\r\n\r\n\t\tg.formItems.forEach(field => {\r\n\t\t\tconst config = field.config;\r\n\t\t\tif (typeof config == \"string\") {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconfig = JSON.parse(e.config);\r\n\t\t\t\t} catch (e) {}\r\n\t\t\t}\r\n\t\t\tconst options = currentForm.form.saveFieldOptions[field.fieldKey];\r\n\t\t\tif (options && options.length) {\r\n\t\t\t\tconst currentValue = currentForm.form.getFieldValue(field.fieldKey);\r\n\t\t\t\tconst hasValue =\r\n\t\t\t\t\t(currentValue !== undefined && currentValue !== null && currentValue !== \"\") ||\r\n\t\t\t\t\t(Array.isArray(currentValue) && currentValue.length);\r\n\t\t\t\tif (hasValue) return;\r\n\t\t\t\tconst multiple = [\"multiple\", \"tags\"].includes(config.mode);\r\n\t\t\t\tlet newValue = null;\r\n\t\t\t\tconst selectedValue = options\r\n\t\t\t\t\t.filter(item => {\r\n\t\t\t\t\t\tif (item.selected && multiple) item.disabled = true;\r\n\t\t\t\t\t\treturn item.selected;\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.map(item => item.value);\r\n\r\n\t\t\t\tif (field.fieldType === 9 || (field.fieldType === 3 && !multiple)) {\r\n\t\t\t\t\tnewValue = selectedValue[0];\r\n\t\t\t\t} else if (field.fieldType === 8 || (field.fieldType === 3 && multiple)) {\r\n\t\t\t\t\tnewValue = selectedValue;\r\n\t\t\t\t}\r\n\t\t\t\tif (newValue) {\r\n\t\t\t\t\tconst zformItem = currentForm.form.zformItems.find(item => item.key === field.fieldKey);\r\n\t\t\t\t\tconst currentStateItem = zformItem.ref.current.state.item;\r\n\t\t\t\t\tconst originProps = {};\r\n\t\t\t\t\tif (currentStateItem.control.props)\r\n\t\t\t\t\t\tObject.keys(currentStateItem.control.props).forEach(key => {\r\n\t\t\t\t\t\t\tif (![\"children\", \"value\", \"onChange\"].includes(key)) {\r\n\t\t\t\t\t\t\t\toriginProps[key] = currentStateItem.control.props[key];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\tcurrentForm.methods.changeFormItems(\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tkey: field.fieldKey,\r\n\t\t\t\t\t\t\tnewItem: {\r\n\t\t\t\t\t\t\t\tcontrol: controls[field.fieldType].getControl(\r\n\t\t\t\t\t\t\t\t\tfield,\r\n\t\t\t\t\t\t\t\t\tages,\r\n\t\t\t\t\t\t\t\t\tgetGroupsFn,\r\n\t\t\t\t\t\t\t\t\t{ ...originProps, isAsync: false },\r\n\t\t\t\t\t\t\t\t\tundefined,\r\n\t\t\t\t\t\t\t\t\tcurrentForm.form,\r\n\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\ttrue,\r\n\t\t\t\t\t);\r\n\t\t\t\t\tcurrentForm.form.setFieldsValue({\r\n\t\t\t\t\t\t[field.fieldKey]: newValue,\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n}, 60);\r\n\r\nexport default initialValueLinkageAction;\r\n","import React from \"react\";\r\nconst defaultValue = {};\r\nconst context = React.createContext(defaultValue);\r\nconst { Provider, Consumer } = context;\r\nconst setConsumer = (ChildComponent) => {\r\n\treturn class ContextConsumer extends React.PureComponent {\r\n\t\trender() {\r\n\t\t\treturn <Consumer>{(value) => <ChildComponent {...this.props} {...value} />}</Consumer>;\r\n\t\t}\r\n\t};\r\n};\r\nexport default {\r\n\tname: \"FormContext\",\r\n\tdefaultValue,\r\n\tProvider,\r\n\tConsumer,\r\n\tsetConsumer,\r\n};\r\n","module.exports = (__webpack_require__(\"9w1k\"))(81);","import React, { useState, useEffect, useRef, useImperativeHandle, useCallback } from \"react\";\r\nimport { dataType } from \"../zTool\";\r\nimport PropTypes from \"prop-types\";\r\nimport {\r\n\tuseGetGroupsCallback,\r\n\tuseLinkageCallback,\r\n\tuseGetOtherFormsCallback,\r\n\t// useSubmitBtn,\r\n\tgetEachFormMethod,\r\n\tuseDoSubmitCallback,\r\n} from \"./customHook\";\r\nimport FormGroup from \"./FormGroup\";\r\nimport { translateGroups } from \"./common\";\r\nimport \"./style.scss\";\r\n//formData: {id:1,name:\"表\",labelLayout:\"\",code:\"dog_check_in_form\",sectionList: [{id:\"12\",name:\"名称\",seq:1,formFieldInfoList:[{config:\"{}\",fieldKey:\"name\",fieldType:1,id:333,initialValue:\"\",label:\"名称\",required:1,span:8,regularExpression:null,seq:1,placeholder:\"\",errorMsg:\"\"}]}]}\r\nconst FormViewer = React.forwardRef(function(\r\n\t{\r\n\t\tformData,\r\n\t\tformValues,\r\n\t\tonSubmit,\r\n\t\tgroupTitleLeftRender,\r\n\t\tgroupTitleRightRender,\r\n\t\tclassName,\r\n\t\tonFormGroupsChange,\r\n\t\tlinkage,\r\n\t\tgroupChildrenRender,\r\n\t\tsubmitBtnRender,\r\n\t\ttitle,\r\n\t\tstyle,\r\n\t\tmomentFormat,\r\n\t\tbooleanToNumber,\r\n\t\tafterItemsRendered,\r\n\t\tcustomOnChange,\r\n\t\tcustomFormRules,\r\n\t\tcustomControlRender,\r\n\t\tnoAsync\r\n\t},\r\n\tref,\r\n) {\r\n\tconst _linkage = dataType.isBoolean(linkage) ? linkage : true;\r\n\tconst [formGroups, setFormGroups] = useState([]);\r\n\tconst getOtherForms = useGetOtherFormsCallback(formGroups);\r\n\t// const submitBtnRender = useSubmitBtn(formData, formGroups);\r\n\tconst getGroupsFn = useGetGroupsCallback(formGroups);\r\n\tconst doSubmit = useDoSubmitCallback(formGroups);\r\n\tconst imperativeRef = useRef();\r\n\timperativeRef.current = () => {\r\n\t\treturn {\r\n\t\t\tgetFormGroups: () => {\r\n\t\t\t\treturn formGroups;\r\n\t\t\t},\r\n\t\t\tsetFormGroups,\r\n\t\t\tgetEachFormMethod: () => {\r\n\t\t\t\treturn getEachFormMethod(formGroups, true);\r\n\t\t\t},\r\n\t\t};\r\n\t};\r\n\t//formData改变时==>处理数据\r\n\tuseEffect(() => {\r\n\t\tsetFormGroups(\r\n\t\t\ttranslateGroups({\r\n\t\t\t\tformData,\r\n\t\t\t\tgetGroupsFn,\r\n\t\t\t\tlinkage: _linkage,\r\n\t\t\t\timperative: imperativeRef,\r\n\t\t\t\tcustomOnChange,\r\n\t\t\t\tcustomFormRules,\r\n\t\t\t\tcustomControlRender,\r\n\t\t\t\tnoAsync,\r\n\t\t\t}),\r\n\t\t);\r\n\t\tsetAllFormRendered([]);\r\n\t}, [formData]);\r\n\t//formGroups改变时==>调用onFormGroupsChange\r\n\tuseEffect(() => {\r\n\t\tdataType.isFunction(onFormGroupsChange) && onFormGroupsChange(formGroups);\r\n\t}, [formGroups]);\r\n\tconst doLinkage = _linkage ? useLinkageCallback(formData, getGroupsFn) : null;\r\n\tuseImperativeHandle(ref, imperativeRef.current);\r\n\tconst titleText =\r\n\t\tdataType.isBoolean(title) && !title ? \"\" : title ? title : formData && formData.name ? formData.name : \"\";\r\n\tconst [allFormRendered, setAllFormRendered] = useState([]);\r\n\tuseEffect(() => {\r\n\t\tif (allFormRendered.length && allFormRendered.length === formGroups.length) {\r\n\t\t\tsetAllFormRendered([]);\r\n\t\t\tdoLinkage && doLinkage();\r\n\t\t\tafterItemsRendered && afterItemsRendered();\r\n\t\t}\r\n\t}, [allFormRendered]);\r\n\r\n\treturn (\r\n\t\t<div className={`z-panel z-padding-bottom-20 ${className ? className : \"\"}`} style={style}>\r\n\t\t\t{titleText ? (\r\n\t\t\t\t<div className=\"z-panel-body z-padding-bottom-0-important z-text-center\">\r\n\t\t\t\t\t<h2>{titleText}</h2>\r\n\t\t\t\t</div>\r\n\t\t\t) : null}\r\n\t\t\t{formGroups.map((group, i) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<FormGroup\r\n\t\t\t\t\t\ttitleLeftRender={\r\n\t\t\t\t\t\t\tgroupTitleLeftRender\r\n\t\t\t\t\t\t\t\t? (group, groupName, nameChange) => {\r\n\t\t\t\t\t\t\t\t\t\treturn groupTitleLeftRender(group, groupName, nameChange, formGroups);\r\n\t\t\t\t\t\t\t\t  }\r\n\t\t\t\t\t\t\t\t: undefined\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ttitleRightRender={groupTitleRightRender}\r\n\t\t\t\t\t\tgroup={group}\r\n\t\t\t\t\t\tonSubmit={onSubmit}\r\n\t\t\t\t\t\tkey={group.id}\r\n\t\t\t\t\t\tlabelLayout={group.labelLayout}\r\n\t\t\t\t\t\tref={group.groupRef}\r\n\t\t\t\t\t\tformItems={group.formItems}\r\n\t\t\t\t\t\tgetOtherForms={getOtherForms}\r\n\t\t\t\t\t\tformValues={formValues}\r\n\t\t\t\t\t\tmomentFormat={momentFormat}\r\n\t\t\t\t\t\tbooleanToNumber={booleanToNumber}\r\n\t\t\t\t\t\tafterItemsRendered={() => {\r\n\t\t\t\t\t\t\tsetAllFormRendered(allFormRendered.concat([\"success\"]));\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{typeof groupChildrenRender == \"function\" && groupChildrenRender(group)}\r\n\t\t\t\t\t</FormGroup>\r\n\t\t\t\t);\r\n\t\t\t})}\r\n\t\t\t{typeof submitBtnRender == \"function\" ? submitBtnRender(doSubmit) : null}\r\n\t\t</div>\r\n\t);\r\n});\r\nFormViewer.propTypes = {\r\n\tformData: PropTypes.object.isRequired,\r\n\tformValues: PropTypes.object,\r\n\tonSubmit: PropTypes.func,\r\n\tgroupTitleRightRender: PropTypes.func,\r\n\tclassName: PropTypes.string,\r\n\tonFormGroupsChange: PropTypes.func,\r\n\tlinkage: PropTypes.bool,\r\n\tgroupChildrenRender: PropTypes.func,\r\n\tsubmitBtnRender: PropTypes.func,\r\n\tafterItemsRendered: PropTypes.func,\r\n\tmomentFormat: PropTypes.bool,\r\n\tbooleanToNumber: PropTypes.bool,\r\n\tuseDefaultVisible: PropTypes.bool, //是否启用控件的默认显示控制\r\n\tcustomOnChange: PropTypes.object,\r\n\tcustomFormRules: PropTypes.object,\r\n\tcustomControlRender: PropTypes.object,\r\n};\r\nexport default React.memo(FormViewer);\r\n","module.exports = (__webpack_require__(\"9w1k\"))(436);","import React, { useState, useEffect, useRef, useImperativeHandle, useCallback } from \"react\";\r\nimport ZeditSimpleFormHOC from \"../ZeditSimpleFormHOC\";\r\nimport { getControl, getOptions } from \"../Zform/controls\";\r\nimport { itemsFromTree, GenNonDuplicateID, dataType } from \"../zTool\";\r\nimport { dateFormats } from \"./controls\";\r\nimport ZselectInput from \"./ZselectInput\";\r\nimport ZauxiliaryInput from \"./ZauxiliaryInput\";\r\nimport { getFormItem, removeSomeLinkage } from \"./common\";\r\nimport { Input, message, Icon, Tooltip, Modal } from \"antd\";\r\n\r\nconst PercentInput = React.memo(\r\n\tReact.forwardRef(function(props, ref) {\r\n\t\tconst { value, onChange } = props;\r\n\t\tconst [num, setNum] = useState(typeof value === \"number\" ? value : 0);\r\n\t\tuseEffect(() => {\r\n\t\t\tsetNum(value * 100);\r\n\t\t}, [value]);\r\n\t\treturn getControl(\"Input.Group\", {\r\n\t\t\tcompact: true,\r\n\t\t\tchildren: (\r\n\t\t\t\t<>\r\n\t\t\t\t\t{getControl(\"InputNumber\", {\r\n\t\t\t\t\t\tmin: 0,\r\n\t\t\t\t\t\tmax: 100,\r\n\t\t\t\t\t\tprecision: 4,\r\n\t\t\t\t\t\tstyle: { width: \"80%\" },\r\n\t\t\t\t\t\tvalue: num,\r\n\t\t\t\t\t\tonChange: num => {\r\n\t\t\t\t\t\t\tonChange && onChange(num / 100);\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t})}\r\n\t\t\t\t\t{getControl(\"Input\", {\r\n\t\t\t\t\t\tdefaultValue: \"%\",\r\n\t\t\t\t\t\tdisabled: true,\r\n\t\t\t\t\t\tstyle: { width: \"20%\" },\r\n\t\t\t\t\t})}\r\n\t\t\t\t</>\r\n\t\t\t),\r\n\t\t});\r\n\t}),\r\n);\r\n\r\nconst commonKeys = [\r\n\t\"groupName\",\r\n\t\"fieldType\",\r\n\t\"label\",\r\n\t\"fieldKey\",\r\n\t\"required\",\r\n\t\"initialValue\",\r\n\t\"regularExpression\",\r\n\t\"errorMsg\",\r\n\t\"remark\",\r\n\t\"disabled\",\r\n];\r\nconst textKeys = [\"maxLength\", \"minLength\"];\r\nconst inputKeys = [...textKeys, \"type\"];\r\nconst textarayKeys = textKeys;\r\nconst selectionsType1keys = [\"selectList\"];\r\nconst selectionsType2keys = [\"selectionsUrl\", \"selectionsQuery\"];\r\nconst selectKeys = [\r\n\t\"notFoundContent\",\r\n\t\"selectionsType\",\r\n\t\"selectListFieldNames\",\r\n\t...selectionsType1keys,\r\n\t...selectionsType2keys,\r\n];\r\nconst cascaderKeys = [...selectKeys, \"changeOnSelect\"];\r\nconst dateKeys = [\"format\"];\r\nconst loadKey = [\"url\", \"wxSourceTypes\", \"uploaderResponse\", \"autoUpload\", \"maxMegabytes\"];\r\nconst uploadKeys = [...loadKey, \"minUploadLength\", \"maxUploadLength\", \"fileAccept\", \"fileListType\"];\r\nconst prosAndConsKeys = [...loadKey, \"ocrUrl\", \"ocrEnabled\"];\r\n\r\nconst colorKeys = [\"colorValueType\", \"minSaturability\"];\r\nconst mapSelectKeys = [\"mapType\", \"secretKey\", \"webserviceUrlDO\"];\r\nconst inputNumberKeys = [\"min\", \"max\"];\r\n//微信小程序组件库wux-weapp-ex支持标识\r\nconst wechat = { key: \"wechat\", title: \"微信小程序可用\" };\r\n//控件类型在微信小程序组件库wux-weapp-ex支持情况\r\nconst controlWechat = [1, 2, 3, 4, 5, 6, 8, 9, 11, 13, 14, 15];\r\n//日期格式在微信小程序组件库wux-weapp-ex支持情况\r\nconst formatWechat = [\"YYYY\", \"YYYY-MM\", \"YYYY-MM-DD\", \"YYYY-MM-DD HH:mm\", \"HH:mm\"];\r\n//控件类型列表\r\nexport const controlList = [\r\n\t{\r\n\t\tlabel: \"单行输入\", //控件类型名称\r\n\t\tvalue: 1, //类型值\r\n\t\tshowKeys: [...commonKeys, ...inputKeys], //要显示的控件属性\r\n\t\tconfigKeys: inputKeys, //保存时哪些要转成config的属性\r\n\t},\r\n\t{\r\n\t\tlabel: \"多行输入\",\r\n\t\tvalue: 2,\r\n\t\tshowKeys: [...commonKeys, ...textarayKeys],\r\n\t\tconfigKeys: textarayKeys,\r\n\t},\r\n\t{\r\n\t\tlabel: \"下拉选择\",\r\n\t\tvalue: 3,\r\n\t\tshowKeys: [...commonKeys, ...selectKeys, \"mode\", \"notFoundContent\"],\r\n\t\tconfigKeys: [...selectKeys, \"mode\", \"notFoundContent\"],\r\n\t},\r\n\t{\r\n\t\tlabel: \"数字输入\",\r\n\t\tvalue: 4,\r\n\t\tshowKeys: [...commonKeys, ...inputNumberKeys],\r\n\t\tconfigKeys: inputNumberKeys,\r\n\t},\r\n\t{\r\n\t\tlabel: \"日期/时间选择\",\r\n\t\tvalue: 5,\r\n\t\tshowKeys: [...commonKeys, ...dateKeys],\r\n\t\tconfigKeys: dateKeys,\r\n\t},\r\n\t{\r\n\t\tlabel: \"级联\",\r\n\t\tvalue: 6,\r\n\t\tshowKeys: [...commonKeys, ...cascaderKeys],\r\n\t\tconfigKeys: cascaderKeys,\r\n\t},\r\n\t{\r\n\t\tlabel: \"树选择\",\r\n\t\tvalue: 7,\r\n\t\tshowKeys: [...commonKeys, ...selectKeys],\r\n\t\tconfigKeys: selectKeys,\r\n\t},\r\n\t{\r\n\t\tlabel: \"多选框\",\r\n\t\tvalue: 8,\r\n\t\tshowKeys: [...commonKeys, ...selectKeys],\r\n\t\tconfigKeys: selectKeys,\r\n\t},\r\n\t{\r\n\t\tlabel: \"单选框\",\r\n\t\tvalue: 9,\r\n\t\tshowKeys: [...commonKeys, ...selectKeys],\r\n\t\tconfigKeys: selectKeys,\r\n\t},\r\n\t{\r\n\t\tlabel: \"开关\",\r\n\t\tvalue: 10,\r\n\t\tshowKeys: [...commonKeys],\r\n\t\tconfigKeys: [],\r\n\t},\r\n\t{\r\n\t\tlabel: \"文件上传\",\r\n\t\tvalue: 11,\r\n\t\tshowKeys: [...commonKeys, ...uploadKeys],\r\n\t\tconfigKeys: uploadKeys,\r\n\t},\r\n\t{\r\n\t\tlabel: \"颜色值\",\r\n\t\tvalue: 12,\r\n\t\tshowKeys: [...commonKeys, ...colorKeys],\r\n\t\tconfigKeys: colorKeys,\r\n\t},\r\n\t{\r\n\t\tlabel: \"地图选点\",\r\n\t\tvalue: 13,\r\n\t\tshowKeys: [...commonKeys, ...mapSelectKeys],\r\n\t\tconfigKeys: mapSelectKeys,\r\n\t},\r\n\t{\r\n\t\tlabel: \"自定义占位\",\r\n\t\tvalue: 14,\r\n\t\tshowKeys: [...commonKeys, \"isFormItem\"],\r\n\t\tconfigKeys: [],\r\n\t},\r\n\t{\r\n\t\tlabel: \"电子签名\",\r\n\t\tvalue: 15,\r\n\t\tshowKeys: [...commonKeys, \"isRequstSign\", \"getSignUrl\", \"setSignUrl\"],\r\n\t\tconfigKeys: [\"isRequstSign\", \"getSignUrl\", \"setSignUrl\"],\r\n\t},\r\n\t{\r\n\t\tlabel: \"证件照(OCR)\",\r\n\t\tvalue: 16,\r\n\t\tshowKeys: [...commonKeys, ...prosAndConsKeys],\r\n\t\tconfigKeys: prosAndConsKeys,\r\n\t},\r\n\t{\r\n\t\tlabel: \"文书\",\r\n\t\tvalue: 20,\r\n\t\tshowKeys: [...commonKeys, \"docCode\"],\r\n\t\tconfigKeys: [\"docCode\"],\r\n\t},\r\n];\r\n//地图的默认密钥(默认是邹国涛个人注册)\r\nconst initSereKey = {\r\n\tamap: \"3d5c1c6169c64554d6f9fcca35d4abff\",\r\n\tqqmap: \"63QBZ-B5GKV-46RPH-UCUF2-K5TUJ-OKBAK\",\r\n};\r\n//控制显示哪个类型的控件的属性\r\nfunction showFieldTypeLinkOther(changeFormItems, formItems, val, excludeKeys = []) {\r\n\tconst fieldTypeItem = controlList.find(cont => {\r\n\t\treturn cont.value === val;\r\n\t});\r\n\tconst showKeys = fieldTypeItem.showKeys.filter(key => {\r\n\t\treturn !excludeKeys.includes(key);\r\n\t});\r\n\tchangeFormItems(\r\n\t\tformItems.map(item => {\r\n\t\t\treturn { key: item.key, show: showKeys.includes(item.key) };\r\n\t\t}),\r\n\t\ttrue,\r\n\t);\r\n}\r\nconst getSwitchOpt = (options = {}, getProps) => ({\r\n\trender(form, changeFormItems) {\r\n\t\treturn getControl(\"Switch\", getProps && getProps(form, changeFormItems));\r\n\t},\r\n\toptions: getOptions({\r\n\t\trequired: true,\r\n\t\tinitialValue: true,\r\n\t\tnormalize(value, prevValue, allValues) {\r\n\t\t\treturn Boolean(value);\r\n\t\t},\r\n\t\tvaluePropName: \"checked\",\r\n\t\t...options,\r\n\t}),\r\n});\r\n//对应字段的控件\r\nfunction getCorresFormItem({ key, label, initialValue }) {\r\n\treturn {\r\n\t\tkey,\r\n\t\tlabel,\r\n\t\tshow: false,\r\n\t\tlabelFocused: true,\r\n\t\trender(form, changeFormItems) {\r\n\t\t\treturn getControl(\"TreeInput\", {\r\n\t\t\t\tmultiple: false,\r\n\t\t\t\tshowBtns: false,\r\n\t\t\t\tinputType: \"coustom\",\r\n\t\t\t\tcustomInputKeys: [\r\n\t\t\t\t\t{ key: \"label\", initValue: \"\" },\r\n\t\t\t\t\t{ key: \"value\", initValue: \"\" },\r\n\t\t\t\t],\r\n\t\t\t\tchildren: (states, setStates, customInputKeys) => {\r\n\t\t\t\t\treturn getControl(\"Input.Group\", {\r\n\t\t\t\t\t\tcompact: true,\r\n\t\t\t\t\t\tstyle: { width: \"100%\" },\r\n\t\t\t\t\t\tchildren: (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t{getControl(\"Input\", {\r\n\t\t\t\t\t\t\t\t\tstyle: { width: \"50%\" },\r\n\t\t\t\t\t\t\t\t\tvalue: states[customInputKeys[0].key],\r\n\t\t\t\t\t\t\t\t\tonChange: value => {\r\n\t\t\t\t\t\t\t\t\t\tsetStates({\r\n\t\t\t\t\t\t\t\t\t\t\t[customInputKeys[0].key]: value,\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tsize: \"small\",\r\n\t\t\t\t\t\t\t\t\tdisabled: true,\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t{getControl(\"Input\", {\r\n\t\t\t\t\t\t\t\t\tstyle: { width: \"50%\" },\r\n\t\t\t\t\t\t\t\t\tvalue: states[customInputKeys[1].key],\r\n\t\t\t\t\t\t\t\t\tonChange: value => {\r\n\t\t\t\t\t\t\t\t\t\tsetStates({\r\n\t\t\t\t\t\t\t\t\t\t\t[customInputKeys[1].key]: value,\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tsize: \"small\",\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t});\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t},\r\n\t\toptions: getOptions({\r\n\t\t\trequired: true,\r\n\t\t\tinitialValue,\r\n\t\t}),\r\n\t};\r\n}\r\nfunction showSelectionsTypeLinkOther(changeFormItems, selectionsType) {\r\n\tchangeFormItems(\r\n\t\t[\r\n\t\t\t{\r\n\t\t\t\tkey: \"selectList\",\r\n\t\t\t\tshow: selectionsType === 1,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tkey: \"selectionsUrl\",\r\n\t\t\t\tshow: selectionsType === 2,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tkey: \"selectionsQuery\",\r\n\t\t\t\tshow: selectionsType === 2,\r\n\t\t\t},\r\n\t\t],\r\n\t\ttrue,\r\n\t);\r\n}\r\nconst urlRules = function(keys = []) {\r\n\treturn [\r\n\t\t{\r\n\t\t\tvalidator: (rule, value, callback) => {\r\n\t\t\t\tconsole.log(value);\r\n\t\t\t\tif (!value) {\r\n\t\t\t\t\treturn callback(new Error(\"不能为空\"));\r\n\t\t\t\t}\r\n\t\t\t\tlet hasError = keys.some(key => value[key] === undefined || !value[key].toString().trim());\r\n\t\t\t\tif (hasError) {\r\n\t\t\t\t\treturn callback(new Error(\"有未填写的值\"));\r\n\t\t\t\t}\r\n\t\t\t\tcallback();\r\n\t\t\t},\r\n\t\t},\r\n\t];\r\n};\r\n\r\nfunction getKeyControl(keyDisabledRef, isUpdateRef, changeFormItems, form) {\r\n\tconst inputOpt = {\r\n\t\tdisabled: keyDisabledRef.current,\r\n\t\tonBlur(e) {\r\n\t\t\tconst fieldType = form.getFieldValue(\"fieldType\");\r\n\t\t\tif (fieldType === 15 && !e.target.value.match(/Sign$/g)) {\r\n\t\t\t\t//电子签名的fieldKey自动添加Sign后缀\r\n\t\t\t\tform.setFieldsValue({\r\n\t\t\t\t\tfieldKey: `${e.target.value}Sign`,\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t};\r\n\tif (isUpdateRef.current) {\r\n\t\tinputOpt.addonAfter = (\r\n\t\t\t<Tooltip title={`${inputOpt.disabled ? \"开启\" : \"关闭\"}修改key`}>\r\n\t\t\t\t<i\r\n\t\t\t\t\tclassName=\"zero-icon zerod-chushihualiuchengshitu z-fieldKey-lock\"\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tconst doChange = () => {\r\n\t\t\t\t\t\t\tkeyDisabledRef.current = !keyDisabledRef.current;\r\n\t\t\t\t\t\t\tchangeFormItems(\r\n\t\t\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tkey: \"fieldKey\",\r\n\t\t\t\t\t\t\t\t\t\tnewItem: {\r\n\t\t\t\t\t\t\t\t\t\t\tcontrol: getKeyControl(keyDisabledRef, isUpdateRef, changeFormItems, form),\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\ttrue,\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tif (keyDisabledRef.current) {\r\n\t\t\t\t\t\t\tModal.confirm({\r\n\t\t\t\t\t\t\t\ttitle: \"提醒\",\r\n\t\t\t\t\t\t\t\tcontent: \"如果修改了字段key,提交后会删除相关的联动配置,是否继续?\",\r\n\t\t\t\t\t\t\t\tonOk: doChange,\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tdoChange();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t</Tooltip>\r\n\t\t);\r\n\t}\r\n\treturn getControl(\"Input\", inputOpt);\r\n}\r\n\r\n//控件属性\r\nfunction useFormItems(groupId, formViewerRef, type) {\r\n\tconst itemsRef = useRef([]);\r\n\tconst isUpdateRef = useRef(type === \"update\");\r\n\tconst keyDisabledRef = useRef(isUpdateRef.current);\r\n\tconst hashkey = GenNonDuplicateID(4);\r\n\titemsRef.current = [\r\n\t\t//<--共用属性---> start\r\n\t\t{\r\n\t\t\tkey: \"groupName\",\r\n\t\t\tlabel: \"组名\",\r\n\t\t\trender(form, changeFormItems) {\r\n\t\t\t\treturn getControl(\"Input\", { disabled: true });\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"fieldType\",\r\n\t\t\tlabel: \"控件类型\",\r\n\t\t\tlabelFocused: true,\r\n\t\t\trender(form, changeFormItems) {\r\n\t\t\t\treturn getControl(\"Select\", {\r\n\t\t\t\t\tselectList: controlList.map(item => {\r\n\t\t\t\t\t\tconst plat = [];\r\n\t\t\t\t\t\tif (controlWechat.includes(item.value)) {\r\n\t\t\t\t\t\t\tplat.push(wechat);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn { label: item.label, value: item.value, plat };\r\n\t\t\t\t\t}),\r\n\t\t\t\t\tonChange(val) {\r\n\t\t\t\t\t\t//控件类型改变控制显示对应的属性输入框\r\n\t\t\t\t\t\tshowFieldTypeLinkOther(changeFormItems, itemsRef.current, val);\r\n\t\t\t\t\t\tif ([3, 6, 7, 8, 9].includes(val)) {\r\n\t\t\t\t\t\t\tshowSelectionsTypeLinkOther(changeFormItems, form.getFieldValue(\"selectionsType\"));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// changeFormItems([{ key: \"initialValue\", show: ![5].includes(val) }], true);\r\n\t\t\t\t\t},\r\n\t\t\t\t\toptLabelRender(item) {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div className=\"z-flex-space-between\">\r\n\t\t\t\t\t\t\t\t<div>{item.label}</div>\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t{item.plat.map(p => {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<Tooltip title={p.title} key={p.key}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Icon\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"z-text-green z-margin-left-5\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={p.key}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype={p.key}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\toptions: getOptions({ required: true, initialValue: 1 }),\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"label\",\r\n\t\t\tlabel: \"控件Label\",\r\n\t\t\tlabelFocused: true,\r\n\t\t\trender(form, changeFormItems) {\r\n\t\t\t\treturn getControl(\"Input\");\r\n\t\t\t},\r\n\t\t\toptions: getOptions({ required: false, initialValue: `名称_${hashkey}` }),\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"fieldKey\",\r\n\t\t\tlabel: \"字段Key\",\r\n\t\t\tlabelFocused: true,\r\n\t\t\trender(form, changeFormItems) {\r\n\t\t\t\treturn getKeyControl(keyDisabledRef, isUpdateRef, changeFormItems, form);\r\n\t\t\t},\r\n\t\t\toptions: getOptions({\r\n\t\t\t\trequired: true,\r\n\t\t\t\tinitialValue: `key_${hashkey}`,\r\n\t\t\t\trules: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvalidator: (rule, value, callback) => {\r\n\t\t\t\t\t\t\tif (/Label$/.test(value)) {\r\n\t\t\t\t\t\t\t\treturn callback(new Error(\"禁止以Label结尾的key\"));\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tconst groups = formViewerRef.current.getFormGroups();\r\n\t\t\t\t\t\t\tlet hasKey = groups.some(g => {\r\n\t\t\t\t\t\t\t\treturn g.formItems.some(item => {\r\n\t\t\t\t\t\t\t\t\treturn item.key === value;\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tif (hasKey && type === \"add\") {\r\n\t\t\t\t\t\t\t\treturn callback(new Error(\"key已存在，请填写其他的key\"));\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tcallback();\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t}),\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"required\",\r\n\t\t\tlabel: \"必填\",\r\n\t\t\tlabelFocused: true,\r\n\t\t\t...getSwitchOpt(),\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"disabled\",\r\n\t\t\tlabel: \"默认禁用\",\r\n\t\t\tlabelFocused: true,\r\n\t\t\t...getSwitchOpt({ initialValue: false }),\r\n\t\t},\r\n\t\t//<--共用属性---> end\r\n\t\t//<--input特有属性---> start\r\n\t\t{\r\n\t\t\tkey: \"type\",\r\n\t\t\tlabel: \"文本类型\",\r\n\t\t\tshow: true,\r\n\t\t\tlabelFocused: true,\r\n\t\t\trender(form, changeFormItems) {\r\n\t\t\t\treturn getControl(\"Radio.Group\", {\r\n\t\t\t\t\tselectList: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlabel: \"文本框\",\r\n\t\t\t\t\t\t\tvalue: \"text\",\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlabel: \"密码框\",\r\n\t\t\t\t\t\t\tvalue: \"password\",\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t],\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\toptions: getOptions({ required: true, initialValue: \"text\" }),\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"maxLength\",\r\n\t\t\tlabel: \"最大输入长度\",\r\n\t\t\tshow: true,\r\n\t\t\tlabelFocused: true,\r\n\t\t\trender(form, changeFormItems) {\r\n\t\t\t\treturn getControl(\"InputNumber\", { min: 0 });\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"minLength\",\r\n\t\t\tlabel: \"最小输入长度\",\r\n\t\t\tshow: true,\r\n\t\t\tlabelFocused: true,\r\n\t\t\trender(form, changeFormItems) {\r\n\t\t\t\treturn getControl(\"InputNumber\", { min: 0 });\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"max\",\r\n\t\t\tlabel: \"最大值\",\r\n\t\t\tshow: false,\r\n\t\t\tlabelFocused: true,\r\n\t\t\trender(form, changeFormItems) {\r\n\t\t\t\treturn getControl(\"InputNumber\");\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"min\",\r\n\t\t\tlabel: \"最小值\",\r\n\t\t\tshow: false,\r\n\t\t\tlabelFocused: true,\r\n\t\t\trender(form, changeFormItems) {\r\n\t\t\t\treturn getControl(\"InputNumber\");\r\n\t\t\t},\r\n\t\t},\r\n\t\t//<--input特有属性---> end\r\n\t\t//<--下拉框特有属性---> start\r\n\t\t{\r\n\t\t\tkey: \"mode\",\r\n\t\t\tlabel: \"模式\",\r\n\t\t\tshow: false,\r\n\t\t\tlabelFocused: true,\r\n\t\t\trender(form, changeFormItems) {\r\n\t\t\t\treturn getControl(\"Radio.Group\", {\r\n\t\t\t\t\tselectList: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlabel: \"单选\",\r\n\t\t\t\t\t\t\tvalue: \"single\",\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{ label: \"多选\", value: \"multiple\" },\r\n\t\t\t\t\t\t{ label: \"标签\", value: \"tags\" },\r\n\t\t\t\t\t],\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\toptions: getOptions({ required: true, initialValue: \"single\" }),\r\n\t\t},\r\n\t\t//<--下拉框特有属性---> end\r\n\t\t//<--下拉框、单选框、多选框、级联、树选择特有属性---> start\r\n\t\t{\r\n\t\t\tkey: \"selectionsType\",\r\n\t\t\tlabel: \"选项类型\",\r\n\t\t\tlabelFocused: true,\r\n\t\t\tshow: false,\r\n\t\t\trender(form, changeFormItems) {\r\n\t\t\t\treturn getControl(\"Radio.Group\", {\r\n\t\t\t\t\tselectList: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlabel: \"自定义\",\r\n\t\t\t\t\t\t\tvalue: 1,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{ label: \"异步\", value: 2 },\r\n\t\t\t\t\t],\r\n\t\t\t\t\tonChange(e) {\r\n\t\t\t\t\t\tshowSelectionsTypeLinkOther(changeFormItems, e.target.value);\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\toptions: getOptions({ required: true, initialValue: 1 }),\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"selectionsUrl\",\r\n\t\t\tlabel: \"请求选项数据地址\",\r\n\t\t\tshow: false,\r\n\t\t\tlabelFocused: true,\r\n\t\t\trender(form, changeFormItems) {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<ZselectInput\r\n\t\t\t\t\t\tcontrolCostrom={\r\n\t\t\t\t\t\t\t[6, 7].includes(form.getFieldValue(\"fieldType\"))\r\n\t\t\t\t\t\t\t\t? {\r\n\t\t\t\t\t\t\t\t\t\tright(value, valueChange) {\r\n\t\t\t\t\t\t\t\t\t\t\treturn getControl(\"Select\", {\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue: value,\r\n\t\t\t\t\t\t\t\t\t\t\t\tselectList: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel: \"全部加载\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"all\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel: \"分部加载\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"part\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange: valueChange,\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle: { width: \"100%\" },\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t  }\r\n\t\t\t\t\t\t\t\t: undefined\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tleftSpan={6}\r\n\t\t\t\t\t\tcenterSpan={[3, 8, 9, 15].includes(form.getFieldValue(\"fieldType\")) ? 18 : 12}\r\n\t\t\t\t\t\trightSpan={[3, 8, 9, 15].includes(form.getFieldValue(\"fieldType\")) ? null : 6}\r\n\t\t\t\t\t\tselectList={[\"post\", \"get\"].map(m => ({ label: m, value: m }))}\r\n\t\t\t\t\t\tvalueKey={{ left: \"selectionsUrlMethod\", center: \"selectionsUrl\", right: \"requireType\" }}\r\n\t\t\t\t\t\tleftPlaceholde=\"请求方式\"\r\n\t\t\t\t\t\tcenterPlaceholder=\"请求地址\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t\toptions: getOptions({\r\n\t\t\t\trequired: true,\r\n\t\t\t\tinitialValue: { selectionsUrlMethod: \"post\", selectionsUrl: \"\", requireType: \"all\" },\r\n\t\t\t\trules: urlRules([\"selectionsUrlMethod\", \"selectionsUrl\", \"requireType\"]),\r\n\t\t\t}),\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"selectionsQuery\",\r\n\t\t\tlabel: \"请求参数配置\",\r\n\t\t\tshow: false,\r\n\t\t\tlabelFocused: true,\r\n\t\t\trender(form, changeFormItems) {\r\n\t\t\t\treturn getControl(\"TreeInput\", { multiple: false, labelPlaceholder: \"Key\" });\r\n\t\t\t},\r\n\t\t\toptions: getOptions({\r\n\t\t\t\trequired: false,\r\n\t\t\t\tinitialValue: [],\r\n\t\t\t}),\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"selectList\",\r\n\t\t\tlabel: \"选项数据\",\r\n\t\t\tshow: false,\r\n\t\t\tlabelFocused: true,\r\n\t\t\trender(form, changeFormItems) {\r\n\t\t\t\treturn getControl(\"TreeInput\", {\r\n\t\t\t\t\tmultiple: [6, 7].includes(form.getFieldValue(\"fieldType\")),\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\toptions: getOptions({\r\n\t\t\t\trequired: true,\r\n\t\t\t\tinitialValue: [],\r\n\t\t\t\trules: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvalidator: (rule, value, callback) => {\r\n\t\t\t\t\t\t\tconst finished = itemsFromTree({\r\n\t\t\t\t\t\t\t\ttree: value,\r\n\t\t\t\t\t\t\t\tcondition(val1, val2) {\r\n\t\t\t\t\t\t\t\t\treturn val1.toString().trim() === val2.toString().trim();\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tsourceItem: { value: \"\" },\r\n\t\t\t\t\t\t\t\tkeyObj: { id: \"value\", children: \"children\" },\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tif (finished) {\r\n\t\t\t\t\t\t\t\treturn callback(new Error(\"选项中有未填写的值\"));\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tcallback();\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t}),\r\n\t\t},\r\n\t\tgetCorresFormItem({\r\n\t\t\tkey: \"selectListFieldNames\",\r\n\t\t\tlabel: \"lable、value、children对应选项数据中的字段\",\r\n\t\t\tinitialValue: [\r\n\t\t\t\t{ label: \"label\", value: \"label\" },\r\n\t\t\t\t{ label: \"value\", value: \"value\" },\r\n\t\t\t\t{ label: \"children\", value: \"children\" },\r\n\t\t\t],\r\n\t\t}),\r\n\t\t{\r\n\t\t\tkey: \"notFoundContent\",\r\n\t\t\tlabel: \"没有选项数据时显示的内容\",\r\n\t\t\tshow: false,\r\n\t\t\trender(form, changeFormItems) {\r\n\t\t\t\treturn getControl(\"Input\");\r\n\t\t\t},\r\n\t\t\toptions: getOptions({ required: true, initialValue: \"无相关数据\" }),\r\n\t\t},\r\n\t\t//<--下拉框、单选框、多选框、级联、树选择特有属性---> end\r\n\t\t//<--级联特有属性---> start\r\n\t\t{\r\n\t\t\tkey: \"changeOnSelect\",\r\n\t\t\tlabel: \"必须选到最后一级\",\r\n\t\t\tlabelFocused: true,\r\n\t\t\tshow: false,\r\n\t\t\t...getSwitchOpt(),\r\n\t\t},\r\n\t\t//<--级联特有属性---> end\r\n\t\t//<--日期特有属性---> start\r\n\t\t{\r\n\t\t\tkey: \"format\",\r\n\t\t\tlabel: \"格式\",\r\n\t\t\tshow: false,\r\n\t\t\tlabelFocused: true,\r\n\t\t\trender(form, changeFormItems) {\r\n\t\t\t\treturn getControl(\"Select\", {\r\n\t\t\t\t\tselectList: Object.keys(dateFormats).map(key => {\r\n\t\t\t\t\t\tconst plat = [];\r\n\t\t\t\t\t\tif (formatWechat.includes(key)) {\r\n\t\t\t\t\t\t\tplat.push(wechat);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn { label: key, value: key, plat };\r\n\t\t\t\t\t}),\r\n\t\t\t\t\toptLabelRender(item) {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div className=\"z-flex-space-between\">\r\n\t\t\t\t\t\t\t\t<div>{item.label}</div>\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t{item.plat.map(p => {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<Tooltip title={p.title} key={p.key}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Icon\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"z-text-green z-margin-left-5\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={p.key}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype={p.key}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\toptions: getOptions({ required: true, initialValue: \"YYYY-MM-DD\" }),\r\n\t\t},\r\n\t\t//<--日期特有属性---> end\r\n\t\t//<--上传控件特有属性---> start\r\n\t\t{\r\n\t\t\tkey: \"autoUpload\",\r\n\t\t\tlabel: \"选完文件自动上传\",\r\n\t\t\tlabelFocused: true,\r\n\t\t\tshow: false,\r\n\t\t\t...getSwitchOpt(),\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"url\",\r\n\t\t\tlabel: \"上传地址(依次为：请求方式、请求地址、formData参数名、是否多文件上传)\",\r\n\t\t\tshow: false,\r\n\t\t\tlabelFocused: true,\r\n\t\t\trender(form, changeFormItems) {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<ZselectInput\r\n\t\t\t\t\t\tselectList={[\"post\"].map(m => ({ label: m, value: m }))}\r\n\t\t\t\t\t\tvalueKey={{ left: \"urlMethod\", center: \"url\", right: \"urlParamName\" }}\r\n\t\t\t\t\t\tleftPlaceholde=\"请求方式\"\r\n\t\t\t\t\t\tcenterPlaceholder=\"请求地址\"\r\n\t\t\t\t\t\trightPlaceholder=\"参数名\"\r\n\t\t\t\t\t\tleftSpan={5}\r\n\t\t\t\t\t\tcenterSpan={11}\r\n\t\t\t\t\t\trightSpan={3}\r\n\t\t\t\t\t\tcustomControls={[\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tkey: \"requestMode\",\r\n\t\t\t\t\t\t\t\tspan: 5,\r\n\t\t\t\t\t\t\t\trender(value, item, change) {\r\n\t\t\t\t\t\t\t\t\treturn getControl(\"Select\", {\r\n\t\t\t\t\t\t\t\t\t\tvalue: value[item.key],\r\n\t\t\t\t\t\t\t\t\t\tselectList: [\r\n\t\t\t\t\t\t\t\t\t\t\t{ label: \"单文件\", value: \"single\" },\r\n\t\t\t\t\t\t\t\t\t\t\t{ label: \"多文件\", value: \"multiple\" },\r\n\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\tonChange(val) {\r\n\t\t\t\t\t\t\t\t\t\t\tchange(val, item.key);\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\tclassName: \"z-label\",\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t]}\r\n\t\t\t\t\t/>\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t\toptions: getOptions({\r\n\t\t\t\trequired: true,\r\n\t\t\t\tinitialValue: {\r\n\t\t\t\t\turlMethod: \"post\",\r\n\t\t\t\t\turl: \"/file-upload-service/webapi/v1.0/fileUpload/uploads\",\r\n\t\t\t\t\turlParamName: \"files\",\r\n\t\t\t\t\trequestMode: \"multiple\",\r\n\t\t\t\t},\r\n\t\t\t\trules: urlRules([\"urlMethod\", \"url\", \"urlParamName\", \"requestMode\"]),\r\n\t\t\t}),\r\n\t\t},\r\n\t\tgetCorresFormItem({\r\n\t\t\tkey: \"uploaderResponse\",\r\n\t\t\tlabel: \"响应体对应的字段\",\r\n\t\t\tinitialValue: [\r\n\t\t\t\t{ label: \"id\", value: \"id\" },\r\n\t\t\t\t{ label: \"filePath\", value: \"filePath\" },\r\n\t\t\t\t{ label: \"fileSuffix\", value: \"fileSuffix\" },\r\n\t\t\t\t{ label: \"originalFileName\", value: \"originalFileName\" },\r\n\t\t\t],\r\n\t\t}),\r\n\t\t{\r\n\t\t\tkey: \"fileAccept\",\r\n\t\t\tlabel: \"允许上传文件类型\",\r\n\t\t\tshow: false,\r\n\t\t\trender() {\r\n\t\t\t\treturn getControl(\"Select\", {\r\n\t\t\t\t\tselectList: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlabel: \"只允许图片\",\r\n\t\t\t\t\t\t\tvalue: \"image/*\",\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlabel: \"任意文件\",\r\n\t\t\t\t\t\t\tvalue: \"all\",\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t],\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\toptions: getOptions({\r\n\t\t\t\trequired: true,\r\n\t\t\t\tinitialValue: \"image/*\",\r\n\t\t\t}),\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"fileListType\",\r\n\t\t\tlabel: \"上传列表样式\",\r\n\t\t\tshow: false,\r\n\t\t\trender() {\r\n\t\t\t\treturn getControl(\"Select\", {\r\n\t\t\t\t\tselectList: [\"picture\", \"picture-card\"],\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\toptions: getOptions({\r\n\t\t\t\trequired: true,\r\n\t\t\t\tinitialValue: \"picture-card\",\r\n\t\t\t}),\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"maxMegabytes\",\r\n\t\t\tlabel: \"最大上传大小(M)\",\r\n\t\t\tshow: false,\r\n\t\t\tlabelFocused: true,\r\n\t\t\trender(form, changeFormItems) {\r\n\t\t\t\treturn getControl(\"InputNumber\", { min: 0, precision: 2 });\r\n\t\t\t},\r\n\t\t\toptions: getOptions({\r\n\t\t\t\trequired: true,\r\n\t\t\t\tinitialValue: 10,\r\n\t\t\t}),\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"maxUploadLength\",\r\n\t\t\tlabel: \"最大上传数\",\r\n\t\t\tshow: false,\r\n\t\t\tlabelFocused: true,\r\n\t\t\trender(form, changeFormItems) {\r\n\t\t\t\treturn getControl(\"InputNumber\", { min: 0 });\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"minUploadLength\",\r\n\t\t\tlabel: \"最小上传数\",\r\n\t\t\tshow: false,\r\n\t\t\tlabelFocused: true,\r\n\t\t\trender(form, changeFormItems) {\r\n\t\t\t\treturn getControl(\"InputNumber\", { min: 0 });\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"wxSourceTypes\",\r\n\t\t\tlabel: \"小程序图片来源\",\r\n\t\t\tshow: false,\r\n\t\t\trender() {\r\n\t\t\t\treturn getControl(\"Checkbox.Group\", {\r\n\t\t\t\t\tselectList: [\r\n\t\t\t\t\t\t{ label: \"从相册选图\", value: \"album\" },\r\n\t\t\t\t\t\t{ label: \"使用相机\", value: \"camera\" },\r\n\t\t\t\t\t],\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\toptions: getOptions({\r\n\t\t\t\trequired: true,\r\n\t\t\t\tinitialValue: [\"album\", \"camera\"],\r\n\t\t\t}),\r\n\t\t},\r\n\t\t//<--上传控件特有属性---> end\r\n\t\t//<--颜色值特有属性---> start\r\n\t\t{\r\n\t\t\tkey: \"colorValueType\",\r\n\t\t\tlabel: \"颜色值类型\",\r\n\t\t\tlabelFocused: true,\r\n\t\t\tshow: false,\r\n\t\t\trender(form, changeFormItems) {\r\n\t\t\t\treturn getControl(\"Select\", {\r\n\t\t\t\t\tselectList: [\r\n\t\t\t\t\t\t{ label: \"hex\", value: \"hex\" },\r\n\t\t\t\t\t\t{ label: \"rgb\", value: \"rgb\" },\r\n\t\t\t\t\t],\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\toptions: getOptions({\r\n\t\t\t\trequired: true,\r\n\t\t\t\tinitialValue: \"rgb\",\r\n\t\t\t}),\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"minSaturability\",\r\n\t\t\tlabel: \"最小饱和度(0%~100%,越小越趋近白色)\",\r\n\t\t\tlabelFocused: true,\r\n\t\t\tshow: false,\r\n\t\t\trender(form, changeFormItems) {\r\n\t\t\t\treturn <PercentInput />;\r\n\t\t\t},\r\n\t\t\toptions: getOptions({\r\n\t\t\t\trequired: false,\r\n\t\t\t\tinitialValue: 0,\r\n\t\t\t}),\r\n\t\t},\r\n\t\t//<--颜色值特有属性---> end\r\n\t\t//<--地图选点特有属性---> start\r\n\t\t{\r\n\t\t\tkey: \"mapType\",\r\n\t\t\tlabel: \"地图类型\",\r\n\t\t\tshow: false,\r\n\t\t\tlabelFocused: true,\r\n\t\t\trender(form, changeFormItems) {\r\n\t\t\t\treturn getControl(\"Radio.Group\", {\r\n\t\t\t\t\tselectList: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlabel: \"腾讯\",\r\n\t\t\t\t\t\t\tvalue: \"qqmap\",\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{ label: \"高德\", value: \"amap\" },\r\n\t\t\t\t\t],\r\n\t\t\t\t\tonChange(e) {\r\n\t\t\t\t\t\tconst val = e.target.value;\r\n\t\t\t\t\t\tform.setFieldsValue({\r\n\t\t\t\t\t\t\tsecretKey: initSereKey[val],\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\toptions: getOptions({ required: true, initialValue: \"qqmap\" }),\r\n\t\t},\r\n\r\n\t\t{\r\n\t\t\tkey: \"secretKey\",\r\n\t\t\tlabel: \"密钥\",\r\n\t\t\tshow: false,\r\n\t\t\tlabelFocused: true,\r\n\t\t\trender(form, changeFormItems) {\r\n\t\t\t\treturn getControl(\"Input\");\r\n\t\t\t},\r\n\t\t\toptions: getOptions({ required: true, initialValue: initSereKey[\"qqmap\"] }),\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"webserviceUrlDO\",\r\n\t\t\tlabel: \"调用地图web服务的代理地址\",\r\n\t\t\tshow: false,\r\n\t\t\tlabelFocused: true,\r\n\t\t\trender(form, changeFormItems) {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<ZselectInput\r\n\t\t\t\t\t\tleftSpan={6}\r\n\t\t\t\t\t\tcenterSpan={18}\r\n\t\t\t\t\t\trightSpan={0}\r\n\t\t\t\t\t\tselectList={[\"post\", \"get\"].map(m => ({ label: m, value: m }))}\r\n\t\t\t\t\t\tvalueKey={{ left: \"urlMethod\", center: \"url\" }}\r\n\t\t\t\t\t\tleftPlaceholde=\"请求方式\"\r\n\t\t\t\t\t\tcenterPlaceholder=\"请求地址\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t\toptions: getOptions({\r\n\t\t\t\trequired: true,\r\n\t\t\t\tinitialValue: { urlMethod: \"post\", url: \"/system-service/webapi/geography/webService\" },\r\n\t\t\t\trules: urlRules([\"urlMethod\", \"url\"]),\r\n\t\t\t}),\r\n\t\t},\r\n\t\t//<--地图选点特有属性---> end\r\n\t\t//<--电子签名特有属性---> start\r\n\t\t{\r\n\t\t\tkey: \"isRequstSign\",\r\n\t\t\tlabel: \"是否异步获取签名\",\r\n\t\t\tshow: false,\r\n\t\t\tlabelFocused: true,\r\n\t\t\t...getSwitchOpt({ initialValue: true }, (form, changeFormItems) => ({\r\n\t\t\t\tonChange(checked) {\r\n\t\t\t\t\tchangeFormItems(\r\n\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tkey: \"getSignUrl\",\r\n\t\t\t\t\t\t\t\tshow: checked,\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tkey: \"setSignUrl\",\r\n\t\t\t\t\t\t\t\tshow: checked,\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t\ttrue,\r\n\t\t\t\t\t);\r\n\t\t\t\t},\r\n\t\t\t})),\r\n\t\t},\r\n\t\t// {\r\n\t\t// \tkey: \"getSignUrl\",\r\n\t\t// \tlabel: \"请求签名的地址\",\r\n\t\t// \tshow: false,\r\n\t\t// \tlabelFocused: true,\r\n\t\t// \trender(form, changeFormItems) {\r\n\t\t// \t\treturn (\r\n\t\t// \t\t\t<ZselectInput\r\n\t\t// \t\t\t\tleftSpan={6}\r\n\t\t// \t\t\t\tcenterSpan={18}\r\n\t\t// \t\t\t\trightSpan={null}\r\n\t\t// \t\t\t\tselectList={[\"post\", \"get\"].map(m => ({ label: m, value: m }))}\r\n\t\t// \t\t\t\tvalueKey={{ left: \"getSignUrlMethod\", center: \"getSignUrl\" }}\r\n\t\t// \t\t\t\tleftPlaceholde=\"请求方式\"\r\n\t\t// \t\t\t\tcenterPlaceholder=\"请求地址\"\r\n\t\t// \t\t\t/>\r\n\t\t// \t\t);\r\n\t\t// \t},\r\n\t\t// \toptions: getOptions({\r\n\t\t// \t\trequired: true,\r\n\t\t// \t\tinitialValue: { getSignUrlMethod: \"post\", getSignUrl: \"\" },\r\n\t\t// \t\trules: urlRules([\"getSignUrlMethod\", \"getSignUrl\"]),\r\n\t\t// \t}),\r\n\t\t// },\r\n\t\t// {\r\n\t\t// \tkey: \"setSignUrl\",\r\n\t\t// \tlabel: \"提交签名的地址\",\r\n\t\t// \tshow: false,\r\n\t\t// \tlabelFocused: true,\r\n\t\t// \trender(form, changeFormItems) {\r\n\t\t// \t\treturn (\r\n\t\t// \t\t\t<ZselectInput\r\n\t\t// \t\t\t\tleftSpan={6}\r\n\t\t// \t\t\t\tcenterSpan={18}\r\n\t\t// \t\t\t\trightSpan={null}\r\n\t\t// \t\t\t\tselectList={[\"post\", \"put\"].map(m => ({ label: m, value: m }))}\r\n\t\t// \t\t\t\tvalueKey={{ left: \"setSignUrlMethod\", center: \"setSignUrl\" }}\r\n\t\t// \t\t\t\tleftPlaceholde=\"请求方式\"\r\n\t\t// \t\t\t\tcenterPlaceholder=\"请求地址\"\r\n\t\t// \t\t\t/>\r\n\t\t// \t\t);\r\n\t\t// \t},\r\n\t\t// \toptions: getOptions({\r\n\t\t// \t\trequired: true,\r\n\t\t// \t\tinitialValue: { setSignUrlMethod: \"post\", setSignUrl: \"\" },\r\n\t\t// \t\trules: urlRules([\"setSignUrlMethod\", \"setSignUrl\"]),\r\n\t\t// \t}),\r\n\t\t// },\r\n\t\t//<-电子签名特有属性---> end\r\n\r\n\t\t//证件照控件特有属性\r\n\t\t{\r\n\t\t\tkey: \"ocrEnabled\",\r\n\t\t\tlabel: \"启用OCR\",\r\n\t\t\tshow: false,\r\n\t\t\tlabelFocused: true,\r\n\t\t\t...getSwitchOpt({ initialValue: true }),\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"ocrUrl\",\r\n\t\t\tlabel: \"OCR识别的地址\",\r\n\t\t\tshow: false,\r\n\t\t\tlabelFocused: true,\r\n\t\t\trender(form, changeFormItems) {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<ZselectInput\r\n\t\t\t\t\t\tleftSpan={6}\r\n\t\t\t\t\t\tcenterSpan={18}\r\n\t\t\t\t\t\trightSpan={null}\r\n\t\t\t\t\t\tselectList={[\"post\"].map(m => ({ label: m, value: m }))}\r\n\t\t\t\t\t\tvalueKey={{ left: \"ocrUrlMethod\", center: \"ocrUrl\" }}\r\n\t\t\t\t\t\tleftPlaceholde=\"请求方式\"\r\n\t\t\t\t\t\tcenterPlaceholder=\"请求地址\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t\toptions: getOptions({\r\n\t\t\t\trequired: true,\r\n\t\t\t\tinitialValue: { ocrUrlMethod: \"post\", ocrUrl: \"/file-upload-service/webapi/v1.0/ocr/upload\" },\r\n\t\t\t\trules: urlRules([\"ocrUrlMethod\", \"ocrUrl\"]),\r\n\t\t\t}),\r\n\t\t},\r\n\t\t//<-自定义区域特有属性---> start\r\n\t\t{\r\n\t\t\tkey: \"isFormItem\",\r\n\t\t\tlabel: \"自定义内容是否为表单控件\",\r\n\t\t\tlabelFocused: true,\r\n\t\t\tshow: false,\r\n\t\t\t...getSwitchOpt(),\r\n\t\t},\r\n\t\t//<-自定义区域特有属性---> end\r\n\t\t//<--共用属性---> start\r\n\t\t{\r\n\t\t\tkey: \"initialValue\",\r\n\t\t\tlabelFocused: true,\r\n\t\t\tlabel: \"控件初始值\",\r\n\t\t\trender(form, changeFormItems) {\r\n\t\t\t\treturn [12].includes(form.getFieldValue(\"fieldType\"))\r\n\t\t\t\t\t? getControl(\"ColorPicker\", { valueType: form.getFieldValue(\"colorValueType\") })\r\n\t\t\t\t\t: getControl(\"Input\");\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"regularExpression\",\r\n\t\t\tlabel: \"正则表达式\",\r\n\t\t\tlabelFocused: true,\r\n\t\t\trender(form, changeFormItems) {\r\n\t\t\t\treturn <ZauxiliaryInput />;\r\n\t\t\t},\r\n\t\t\toptions: {\r\n\t\t\t\trules: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvalidator(rule, value, callback) {\r\n\t\t\t\t\t\t\tlet hasError = false;\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\tnew RegExp(value);\r\n\t\t\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\t\t\thasError = true;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (hasError) {\r\n\t\t\t\t\t\t\t\treturn callback(\"无效正则表达式\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tcallback();\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"errorMsg\",\r\n\t\t\tlabel: \"错误提示\",\r\n\t\t\tlabelFocused: true,\r\n\t\t\trender(form, changeFormItems) {\r\n\t\t\t\treturn getControl(\"Input\");\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"remark\",\r\n\t\t\tlabel: \"备注\",\r\n\t\t\tlabelFocused: true,\r\n\t\t\trender(form, changeFormItems) {\r\n\t\t\t\treturn getControl(\"TextArea\", {\r\n\t\t\t\t\tautosize: { minRows: 3 },\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t},\r\n\t\t//<--共用属性---> end\r\n\t\t{\r\n\t\t\tkey: \"docCode\",\r\n\t\t\tshow: false,\r\n\t\t\tlabel: \"文书模板编码\",\r\n\t\t\tlabelFocused: true,\r\n\t\t\trender(form, changeFormItems) {\r\n\t\t\t\treturn getControl(\"Input\");\r\n\t\t\t},\r\n\t\t\toptions: getOptions({ required: true }),\r\n\t\t},\r\n\t];\r\n\treturn itemsRef.current;\r\n}\r\nfunction useEditPage(groupId, formItem, formViewerRef, linkageRef, type) {\r\n\tconst groupRef = useRef();\r\n\tconst items = useFormItems(groupId, formViewerRef, type);\r\n\treturn useRef(\r\n\t\tZeditSimpleFormHOC({\r\n\t\t\tpageHeader: {\r\n\t\t\t\tshow: false,\r\n\t\t\t},\r\n\t\t\tpageFooter: {\r\n\t\t\t\tshow: false,\r\n\t\t\t},\r\n\t\t\tform: {\r\n\t\t\t\tinitAnimation: false,\r\n\t\t\t\tpanelHeader: \"控件属性\",\r\n\t\t\t\tlabelLayout: \"inline\",\r\n\t\t\t\ttype: \"update\",\r\n\t\t\t\tdefaultSpan: 24,\r\n\t\t\t\tsubmitBtnName: \"确定\",\r\n\t\t\t\tsubmitMsg: null,\r\n\t\t\t\titems,\r\n\t\t\t\tdetailApiInterface(detailId, props, tool) {\r\n\t\t\t\t\tconst group = { id: groupId };\r\n\t\t\t\t\tconst groups = formViewerRef.current.getFormGroups();\r\n\t\t\t\t\tconst i = groups.findIndex(g => g.id == groupId);\r\n\t\t\t\t\tgroup.name = groups[i].name;\r\n\t\t\t\t\tgroupRef.current = groups[i];\r\n\t\t\t\t\t//新增/修改都需groupName\r\n\t\t\t\t\tlet data = { groupName: group.name };\r\n\t\t\t\t\t//修改控件情况\r\n\t\t\t\t\tif (formItem) {\r\n\t\t\t\t\t\tlet excludeKeys = [];\r\n\t\t\t\t\t\tconst currentItem = controlList.find(item => {\r\n\t\t\t\t\t\t\treturn item.value === formItem[\"fieldType\"];\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tif (currentItem) {\r\n\t\t\t\t\t\t\tObject.keys(formItem).forEach(key => {\r\n\t\t\t\t\t\t\t\tif (currentItem.showKeys.includes(key)) {\r\n\t\t\t\t\t\t\t\t\tdata[key] = formItem[key];\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tconst config = JSON.parse(formItem[\"config\"]);\r\n\t\t\t\t\t\t\tif (config) {\r\n\t\t\t\t\t\t\t\tconst objToArr = keyName => {\r\n\t\t\t\t\t\t\t\t\tif (dataType.isObject(config[keyName])) {\r\n\t\t\t\t\t\t\t\t\t\tconfig[keyName] = Object.keys(config[keyName]).map(key => {\r\n\t\t\t\t\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel: key,\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue: config[keyName][key],\r\n\t\t\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tconfig[keyName] = undefined;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\tconst extractConfig = (config, keys, targetKey) => {\r\n\t\t\t\t\t\t\t\t\tconst url = {};\r\n\t\t\t\t\t\t\t\t\tObject.keys(config).forEach(key => {\r\n\t\t\t\t\t\t\t\t\t\tif (keys.includes(key)) {\r\n\t\t\t\t\t\t\t\t\t\t\turl[key] = config[key];\r\n\t\t\t\t\t\t\t\t\t\t\tdelete config[key];\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tconfig[targetKey] = url;\r\n\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t//当是上传控件\r\n\t\t\t\t\t\t\t\tif ([11, 16].includes(formItem[\"fieldType\"])) {\r\n\t\t\t\t\t\t\t\t\textractConfig(config, [\"urlMethod\", \"url\", \"urlParamName\", \"requestMode\"], \"url\");\r\n\t\t\t\t\t\t\t\t\textractConfig(config, [\"ocrUrlMethod\", \"ocrUrl\"], \"ocrUrl\");\r\n\t\t\t\t\t\t\t\t\tobjToArr(\"uploaderResponse\");\r\n\t\t\t\t\t\t\t\t} else if ([3, 6, 7, 8, 9].includes(formItem[\"fieldType\"])) {\r\n\t\t\t\t\t\t\t\t\tconfig.selectionsType =\r\n\t\t\t\t\t\t\t\t\t\tconfig.selectionsType === undefined ? 1 : Number(config.selectionsType);\r\n\t\t\t\t\t\t\t\t\texcludeKeys =\r\n\t\t\t\t\t\t\t\t\t\tconfig.selectionsType === 1 ? selectionsType2keys : selectionsType1keys;\r\n\r\n\t\t\t\t\t\t\t\t\tobjToArr(\"selectionsQuery\");\r\n\t\t\t\t\t\t\t\t\tobjToArr(\"selectListFieldNames\");\r\n\t\t\t\t\t\t\t\t\tshowSelectionsTypeLinkOther(\r\n\t\t\t\t\t\t\t\t\t\ttool.getFormMethods().changeFormItems,\r\n\t\t\t\t\t\t\t\t\t\tconfig[\"selectionsType\"],\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tdata.disabled = data.disabled === undefined ? 0 : Number(data.disabled);\r\n\t\t\t\t\t\t\t\tdata = { ...data, ...config };\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} catch (e) {}\r\n\t\t\t\t\t\tshowFieldTypeLinkOther(\r\n\t\t\t\t\t\t\ttool.getFormMethods().changeFormItems,\r\n\t\t\t\t\t\t\titems,\r\n\t\t\t\t\t\t\tformItem[\"fieldType\"],\r\n\t\t\t\t\t\t\texcludeKeys,\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\t// if ([5].includes(formItem[\"fieldType\"])) {\r\n\t\t\t\t\t\t// \ttool.getFormMethods().changeFormItems({ key: \"initialValue\", show: false }, true);\r\n\t\t\t\t\t\t// }\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn Promise.resolve({\r\n\t\t\t\t\t\tdata,\r\n\t\t\t\t\t});\r\n\t\t\t\t},\r\n\t\t\t\tsubmitApiInterface(values, props, tool) {\r\n\t\t\t\t\tconst fieldTypeItem = controlList.find(item => {\r\n\t\t\t\t\t\treturn item.value === values[\"fieldType\"];\r\n\t\t\t\t\t});\r\n\t\t\t\t\tif (values[\"fieldType\"] === 15 && !values[\"fieldKey\"].match(/Sign$/g)) {\r\n\t\t\t\t\t\tvalues[\"fieldKey\"] = `${values[\"fieldKey\"]}Sign`;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconst config = {};\r\n\t\t\t\t\tif (Array.isArray(fieldTypeItem.configKeys)) {\r\n\t\t\t\t\t\tfieldTypeItem.configKeys.forEach(key => {\r\n\t\t\t\t\t\t\tconfig[key] = values[key];\r\n\t\t\t\t\t\t\tdelete values[key];\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvalues.config = config;\r\n\t\t\t\t\tvalues.fieldTypeName = fieldTypeItem.label;\r\n\t\t\t\t\tconst arrToObj = keyName => {\r\n\t\t\t\t\t\tconst newSelectionsQuery = {};\r\n\t\t\t\t\t\tArray.isArray(values.config[keyName]) &&\r\n\t\t\t\t\t\t\tvalues.config[keyName].forEach(item => {\r\n\t\t\t\t\t\t\t\tif (item.label && item.value) {\r\n\t\t\t\t\t\t\t\t\tnewSelectionsQuery[item.label] = item.value;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\tvalues.config[keyName] = newSelectionsQuery;\r\n\t\t\t\t\t};\r\n\t\t\t\t\t//上传控件的config要特殊处理\r\n\t\t\t\t\tif ([11, 16].includes(values[\"fieldType\"])) {\r\n\t\t\t\t\t\tlet newConf = values.config;\r\n\t\t\t\t\t\tObject.keys(values.config).forEach(key => {\r\n\t\t\t\t\t\t\tconst val = values.config[key];\r\n\t\t\t\t\t\t\t// if (key === \"url\" || key === \"detailUrl\") {\r\n\t\t\t\t\t\t\t// \tnewConf = { ...newConf, ...val };\r\n\t\t\t\t\t\t\t// }\r\n\t\t\t\t\t\t\tif ([\"url\", \"ocrUrl\"].includes(key)) {\r\n\t\t\t\t\t\t\t\tnewConf = { ...newConf, ...val };\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tvalues.config = newConf;\r\n\t\t\t\t\t\tarrToObj(\"uploaderResponse\");\r\n\t\t\t\t\t} else if ([3, 6, 7, 8, 9].includes(values[\"fieldType\"])) {\r\n\t\t\t\t\t\tarrToObj(\"selectionsQuery\");\r\n\t\t\t\t\t\tarrToObj(\"selectListFieldNames\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (values.config) {\r\n\t\t\t\t\t\tif (formItem) {\r\n\t\t\t\t\t\t\tconst prevConfig =\r\n\t\t\t\t\t\t\t\ttypeof formItem.config === \"string\" ? JSON.parse(formItem.config) : formItem.config;\r\n\t\t\t\t\t\t\tvalues.config = { ...prevConfig, ...values.config };\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvalues.config = JSON.stringify(values.config);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tconst newItem = getFormItem({\r\n\t\t\t\t\t\tfield: formItem ? { ...formItem, ...values } : values,\r\n\t\t\t\t\t\tgroup: groupRef.current,\r\n\t\t\t\t\t\tnoAsync: true,\r\n\t\t\t\t\t});\r\n\t\t\t\t\tconst currentItems = groupRef.current.groupRef.current.getFormItems();\r\n\t\t\t\t\tlet newItems = [...currentItems];\r\n\t\t\t\t\tconst i = currentItems.findIndex(\r\n\t\t\t\t\t\titem => item[\"fieldKey\"] === (formItem ? formItem[\"fieldKey\"] : values[\"fieldKey\"]),\r\n\t\t\t\t\t);\r\n\t\t\t\t\tlet successMsg = `${formItem ? \"修改\" : \"添加\"}控件成功`;\r\n\t\t\t\t\tif (i > -1) {\r\n\t\t\t\t\t\tif (formItem && formItem[\"fieldKey\"] !== values[\"fieldKey\"] && linkageRef.current) {\r\n\t\t\t\t\t\t\t//修改了fieldKey时移除li\r\n\t\t\t\t\t\t\tconst hasRemoveAge = removeSomeLinkage(linkageRef, formItem[\"fieldKey\"]);\r\n\t\t\t\t\t\t\tif (hasRemoveAge) {\r\n\t\t\t\t\t\t\t\tsuccessMsg += `。由于修改了fieldKey，同时移除了对应的联动配置。`;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tnewItems.splice(i, 1, newItem);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnewItems = [...newItems, newItem];\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// console.log(newItem);\r\n\t\t\t\t\tgroupRef.current.groupRef.current.setFormItems(newItems);\r\n\t\t\t\t\ttool.showRightModal(false, \"controlProtoModal\");\r\n\t\t\t\t\treturn Promise.resolve({\r\n\t\t\t\t\t\tmsg: successMsg,\r\n\t\t\t\t\t});\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t}),\r\n\t).current;\r\n}\r\nexport default React.memo(\r\n\tReact.forwardRef(function AddColForm({ groupId, formItem, formViewerRef, linkageRef, type }, ref) {\r\n\t\tconst EditForm = useEditPage(groupId, formItem, formViewerRef, linkageRef, type);\r\n\t\treturn <EditForm detailId=\"1\" />;\r\n\t}),\r\n);\r\n","module.exports = \"<!--\\n * @Author: zgt\\n * @Date: 2019-09-20 19:52:56\\n * @LastEditors: zgt\\n * @LastEditTime: 2019-10-12 17:04:09\\n * @Description: file content\\n -->\\n<h1 id=\\\"-zliveform\\\">动态表单配置：ZliveForm</h1>\\n<p><code>ZliveForm</code> 是动态表单配置模块</p>\\n<p><code>ZliveForm.FormViewer</code> 是动态表单展示模块(包括控件联动效果)</p>\\n<p>控件联动功能有：1、单选/多选控制其他控件禁用，2、单选/多选控制其他控件必填，3、单选/多选控制其控件非必填，4、单选/多选 控制 其他单选/多选的选择项，5.1、单选/多选控制一个组隐藏，5.2、单选/多选控制其他控件隐藏，6、身份证号取出生年月日，7、单选联动异步请求选项，8、地图选点取行政区划</p>\\n<p>2、ZliveForm 的例子</p>\\n<div class=\\\"z-demo-box\\\" data-render=\\\"demo0\\\" data-title=\\\"ZliveForm的例子\\\"></div>\\n\\n<pre><code class=\\\"language-jsx\\\">import React from &quot;react&quot;;\\nimport { ZliveForm } from &quot;zerod&quot;;\\nimport formData from &quot;./formData&quot;;\\nimport linkages from &quot;./linkages&quot;;\\nclass Myjavascript extends React.PureComponent {\\n    formData = { ...formData, linkages };\\n    onSave = newFormData =&gt; {\\n        console.log(newFormData);\\n    };\\n    render() {\\n        return &lt;ZliveForm formData={this.formData} onSave={this.onSave} /&gt;;\\n    }\\n}</code></pre>\\n<p>1、ZliveForm. FormViewer 的例子</p>\\n<div class=\\\"z-demo-box\\\" data-render=\\\"demo1\\\" data-title=\\\"ZliveForm. FormViewer的例子\\\"></div>\\n\\n<pre><code class=\\\"language-jsx\\\">import React from &quot;react&quot;;\\nimport { ZliveForm } from &quot;zerod&quot;;\\nimport formData from &quot;./formData&quot;;\\nimport linkages from &quot;./linkages&quot;;\\nclass Myjavascript extends React.PureComponent {\\n    formData = { ...formData, linkages };\\n    onSubmit = values =&gt; {\\n        console.log(values);\\n        return Promise.resolve();\\n    };\\n    render() {\\n        return &lt;ZliveForm.FormViewer formData={this.formData} onSubmit={this.onSubmit} /&gt;;\\n    }\\n}</code></pre>\\n<div class=\\\"z-doc-titles\\\"></div>\\n\\n<h2 id=\\\"zliveform-props\\\">ZliveForm 的 props</h2>\\n<table>\\n<thead>\\n<tr>\\n<th>参数</th>\\n<th>说明</th>\\n<th>类型</th>\\n<th>默认值</th>\\n</tr>\\n</thead>\\n<tbody><tr>\\n<td>formData</td>\\n<td>渲染整个表单的数据</td>\\n<td>object</td>\\n<td>--</td>\\n</tr>\\n<tr>\\n<td>onSave</td>\\n<td>保存按钮的事件</td>\\n<td>function(newFormData){}</td>\\n<td>--</td>\\n</tr>\\n</tbody></table>\\n<div class=\\\"z-doc-titles\\\"></div>\\n\\n<h2 id=\\\"zliveform-formviewer-props\\\">ZliveForm. FormViewer 的 props</h2>\\n<p>可追 <code>className</code> 、 <code>style</code> </p>\\n<table>\\n<thead>\\n<tr>\\n<th>参数</th>\\n<th>说明</th>\\n<th>类型</th>\\n<th>默认值</th>\\n</tr>\\n</thead>\\n<tbody><tr>\\n<td>formData</td>\\n<td>渲染整个表单的数据</td>\\n<td>object</td>\\n<td>--</td>\\n</tr>\\n<tr>\\n<td>formValues</td>\\n<td>表单字段对应的值</td>\\n<td>object</td>\\n<td>--</td>\\n</tr>\\n<tr>\\n<td>onSubmit</td>\\n<td>submit 类型的按钮触发表单验证通过后的确定回调函数，同/Zform 的 onSubmit</td>\\n<td>function(values){return Promise.resolve()}</td>\\n<td>--</td>\\n</tr>\\n<tr>\\n<td>momentFormat</td>\\n<td>是否在触发 onSubmit 函数后里面传出的 values 中存在 moment 对象进行表单控件对应的 format 格式化，启用此属性，相关 moment 值的控件必需 format 属性</td>\\n<td>boolean</td>\\n<td>false</td>\\n</tr>\\n<tr>\\n<td>submitBtnRender</td>\\n<td>表单之下的渲染函数，可以渲染一个或多个按钮，或者其他内容。提供了一个 submit 函数，可以直接绑定给提交按钮 click 等, 触发后会用 onSubmit 回调</td>\\n<td>(submit)=&gt;{return ReactNode}</td>\\n<td>--</td>\\n</tr>\\n<tr>\\n<td>linkage</td>\\n<td>是否启用联动功能 (联动的前提 formData 中存在 linkages 配置)</td>\\n<td>boolean</td>\\n<td>true</td>\\n</tr>\\n<tr>\\n<td>title</td>\\n<td>表单的标题，默认来自 formData.name, 如果 title==false, 则不显示标题</td>\\n<td>boolean | string</td>\\n<td>--</td>\\n</tr>\\n<tr>\\n<td>afterItemsRendered</td>\\n<td>所有表单控件渲染完成（包括异步）的回调</td>\\n<td>funcion</td>\\n<td>--</td>\\n</tr>\\n<tr>\\n<td>customOnChange</td>\\n<td>为某些控件添加onChange事件</td>\\n<td>object</td>\\n<td>--</td>\\n</tr>\\n<tr>\\n<td>customFormRules</td>\\n<td>为某些控件添加自定义rules</td>\\n<td>object</td>\\n<td>--</td>\\n</tr>\\n<tr>\\n<td>customControlRender</td>\\n<td>添加对应的自定义占位控件的渲染函数</td>\\n<td>object</td>\\n<td>--</td>\\n</tr>\\n</tbody></table>\\n<h2 id=\\\"zliveform-formviewer-ref-\\\">ZliveForm. FormViewer 实例方法 (通过 Ref 取得)</h2>\\n<table>\\n<thead>\\n<tr>\\n<th>参数</th>\\n<th>说明</th>\\n<th>使用</th>\\n<th>返回值</th>\\n</tr>\\n</thead>\\n<tbody><tr>\\n<td>getEachFormMethod</td>\\n<td>获取所有 Zform 的 form 实例和 methods</td>\\n<td>getEachFormMethod()</td>\\n<td>[{form, methods}]</td>\\n</tr>\\n</tbody></table>\\n<h2 id=\\\"formdata-\\\">formData 基本结构</h2>\\n<div class=\\\"z-demo-box\\\" data-render=\\\"demo2\\\" data-title=\\\"formData\\\"></div>\\n\\n<pre><code class=\\\"language-json\\\">{\\n    &quot;id&quot;: 111, //formId\\n    &quot;name&quot;: &quot;养犬信息登记表&quot;,\\n    &quot;code&quot;: &quot;dog_check_in_form&quot;,\\n    &quot;description&quot;: &quot;养犬信息登记表&quot;,\\n    &quot;linkages&quot;: [\\n        //联动配置\\n        {\\n            &quot;linkageType&quot;: &quot;5.1&quot;,\\n            &quot;name&quot;: &quot;单选/多选控制组隐藏&quot;,\\n            &quot;src&quot;: { &quot;fieldKey&quot;: &quot;rfid&quot; },\\n            &quot;dist&quot;: [\\n                {\\n                    &quot;srcValue&quot;: &quot;2&quot;,\\n                    &quot;fields&quot;: [\\n                        {\\n                            &quot;groupId&quot;: 113,\\n                            &quot;groupName&quot;: &quot;名称&quot;\\n                        }\\n                    ]\\n                }\\n            ]\\n        },\\n        {\\n            &quot;linkageType&quot;: &quot;5.2&quot;,\\n            &quot;name&quot;: &quot;单选/多选控制控件隐藏&quot;,\\n            &quot;src&quot;: { &quot;fieldKey&quot;: &quot;isEntity&quot; },\\n            &quot;dist&quot;: [\\n                {\\n                    &quot;srcValue&quot;: &quot;2&quot;,\\n                    &quot;fields&quot;: [\\n                        {\\n                            &quot;fieldKey&quot;: &quot;recipientName&quot;,\\n                            &quot;label&quot;: &quot;收件人姓名&quot;,\\n                            &quot;fieldType&quot;: 1\\n                        },\\n                        {\\n                            &quot;fieldKey&quot;: &quot;contact&quot;,\\n                            &quot;label&quot;: &quot;联系方式&quot;,\\n                            &quot;fieldType&quot;: 4\\n                        }\\n                    ]\\n                }\\n            ]\\n        },\\n        {\\n            &quot;linkageType&quot;: &quot;1&quot;,\\n            &quot;name&quot;: &quot;单选/多选控制控件禁用&quot;,\\n            &quot;src&quot;: { &quot;fieldKey&quot;: &quot;dogSex&quot; },\\n            &quot;dist&quot;: [\\n                {\\n                    &quot;srcValue&quot;: &quot;2&quot;,\\n                    &quot;fields&quot;: [\\n                        {\\n                            &quot;fieldKey&quot;: &quot;dogProperty&quot;,\\n                            &quot;label&quot;: &quot;犬只性质&quot;,\\n                            &quot;fieldType&quot;: 3\\n                        },\\n                        {\\n                            &quot;fieldKey&quot;: &quot;dogColor&quot;,\\n                            &quot;label&quot;: &quot;犬只颜色&quot;,\\n                            &quot;fieldType&quot;: 1\\n                        }\\n                    ]\\n                }\\n            ]\\n        },\\n        {\\n            &quot;linkageType&quot;: &quot;2&quot;,\\n            &quot;name&quot;: &quot;单选/多选控制控件必填&quot;,\\n            &quot;src&quot;: { &quot;fieldKey&quot;: &quot;isIris&quot; },\\n            &quot;dist&quot;: [\\n                {\\n                    &quot;srcValue&quot;: &quot;2&quot;,\\n                    &quot;fields&quot;: [\\n                        {\\n                            &quot;fieldKey&quot;: &quot;birthday&quot;,\\n                            &quot;label&quot;: &quot;出生日期&quot;,\\n                            &quot;fieldType&quot;: 5\\n                        }\\n                    ]\\n                }\\n            ]\\n        },\\n        {\\n            &quot;linkageType&quot;: &quot;3&quot;,\\n            &quot;name&quot;: &quot;单选/多选控制控件非必填&quot;,\\n            &quot;src&quot;: { &quot;fieldKey&quot;: &quot;isIris&quot; },\\n            &quot;dist&quot;: [\\n                {\\n                    &quot;srcValue&quot;: &quot;1&quot;,\\n                    &quot;fields&quot;: [\\n                        {\\n                            &quot;fieldKey&quot;: &quot;birthday&quot;,\\n                            &quot;label&quot;: &quot;出生日期&quot;,\\n                            &quot;fieldType&quot;: 5\\n                        }\\n                    ]\\n                }\\n            ]\\n        },\\n        {\\n            &quot;linkageType&quot;: &quot;4&quot;,\\n            &quot;name&quot;: &quot;单选/多选 控制 选项&quot;,\\n            &quot;src&quot;: { &quot;fieldKey&quot;: &quot;rfid&quot; },\\n            &quot;dist&quot;: [\\n                {\\n                    &quot;srcValue&quot;: &quot;1&quot;,\\n                    &quot;fields&quot;: [\\n                        {\\n                            &quot;fieldKey&quot;: &quot;domicile&quot;,\\n                            &quot;label&quot;: &quot;住所性质&quot;,\\n                            &quot;options&quot;: [\\n                                { &quot;label&quot;: &quot;自有&quot;, &quot;value&quot;: &quot;1&quot; },\\n                                { &quot;label&quot;: &quot;租赁&quot;, &quot;value&quot;: &quot;2&quot; },\\n                                { &quot;label&quot;: &quot;其他&quot;, &quot;value&quot;: &quot;3&quot; }\\n                            ]\\n                        }\\n                    ]\\n                },\\n                {\\n                    &quot;srcValue&quot;: &quot;2&quot;,\\n                    &quot;fields&quot;: [\\n                        {\\n                            &quot;fieldKey&quot;: &quot;domicile&quot;,\\n                            &quot;label&quot;: &quot;住所性质&quot;,\\n                            &quot;options&quot;: [{ &quot;label&quot;: &quot;自有&quot;, &quot;value&quot;: &quot;1&quot; }]\\n                        }\\n                    ]\\n                }\\n            ]\\n        }\\n    ],\\n    &quot;sectionList&quot;: [\\n        //表单控件组\\n        {\\n            &quot;id&quot;: 111, //groupId\\n            &quot;formId&quot;: 111,\\n            &quot;name&quot;: &quot;犬只信息&quot;,\\n            &quot;seq&quot;: 1, //组排序\\n            &quot;description&quot;: &quot;犬只信息表&quot;,\\n            &quot;formFieldInfoList&quot;: [\\n                //表单控件\\n                {\\n                    &quot;id&quot;: 466,\\n                    &quot;sectionId&quot;: 111,\\n                    &quot;label&quot;: &quot;犬只名称&quot;,\\n                    &quot;fieldKey&quot;: &quot;dogName&quot;,\\n                    &quot;fieldType&quot;: 1, //控件类型\\n                    &quot;required&quot;: 1, //是否必填\\n                    &quot;regularExpression&quot;: null, //正则表达式\\n                    &quot;description&quot;: null,\\n                    &quot;errorMsg&quot;: null, //验证失败的提示信息\\n                    &quot;placeholder&quot;: null,\\n                    &quot;span&quot;: 8, //栅栏占格(1-24)\\n                    &quot;labelWidth&quot;: 4,\\n                    &quot;config&quot;: &quot;{\\\\&quot;maxLength\\\\&quot;:8,\\\\&quot;minLength\\\\&quot;:1}&quot;, //规则配置等\\n                    &quot;initialValue&quot;: null, //初始值\\n                    &quot;seq&quot;: 1 //排序\\n                }\\n            ]\\n        },\\n        {\\n            &quot;id&quot;: 112,\\n            &quot;formId&quot;: 111,\\n            &quot;name&quot;: &quot;养犬人信息&quot;,\\n            &quot;seq&quot;: 2,\\n            &quot;description&quot;: &quot;养犬人信息表&quot;,\\n            &quot;gmtCreate&quot;: &quot;2019-03-26 12:09:59&quot;,\\n            &quot;gmtModified&quot;: &quot;2019-03-26 12:09:59&quot;,\\n            &quot;formFieldInfoList&quot;: [\\n                {\\n                    &quot;id&quot;: 475,\\n                    &quot;sectionId&quot;: 112,\\n                    &quot;label&quot;: &quot;养犬人姓名&quot;,\\n                    &quot;fieldKey&quot;: &quot;name&quot;,\\n                    &quot;fieldType&quot;: 1,\\n                    &quot;required&quot;: 1,\\n                    &quot;regularExpression&quot;: null,\\n                    &quot;description&quot;: null,\\n                    &quot;errorMsg&quot;: null,\\n                    &quot;placeholder&quot;: null,\\n                    &quot;span&quot;: 8,\\n                    &quot;labelWidth&quot;: 4,\\n                    &quot;config&quot;: &quot;{\\\\&quot;maxLength\\\\&quot;:8,\\\\&quot;minLength\\\\&quot;:1}&quot;,\\n                    &quot;initialValue&quot;: null,\\n                    &quot;seq&quot;: 1\\n                }\\n            ]\\n        }\\n    ],\\n    //为某些控件添加onChange事件\\n    &quot;customOnChange&quot;: {\\n        &quot;dogType&quot;: function(field, imperativeRef, e) {\\n            console.log(&quot;dogType&quot;, field, imperativeRef.current(), e);\\n        }\\n    },\\n    //为某些控件添加自定义rules\\n    &quot;customFormRules&quot;: {\\n        &quot;dogName&quot;: function(field, imperativeRef) {\\n            console.log(&quot;dogName&quot;, field, imperativeRef.current());\\n            return [\\n                {\\n                    &quot;validator&quot;: (rule, value, callback) =&gt; {}\\n                }\\n            ];\\n        }\\n    },\\n    &quot;customControlRender&quot;:{\\n        &quot;customsKey&quot;:function({field,linkages,getGroupsFn}){\\n            return &lt;div&gt;9999999&lt;/div&gt;\\n        }\\n    }\\n}</code></pre>\\n\";","import React, { useState, useEffect, useRef, useImperativeHandle, useCallback } from \"react\";\r\nimport Zform from \"../Zform\";\r\nimport FormContext from \"./FormContext\";\r\n\r\nconst MyForm = FormContext.setConsumer(Zform);\r\nconst FormGroup = React.memo(\r\n\tReact.forwardRef(function(\r\n\t\t{\r\n\t\t\tformItems,\r\n\t\t\tgetOtherForms,\r\n\t\t\tlabelLayout,\r\n\t\t\tonSubmit,\r\n\t\t\tgroup,\r\n\t\t\ttitleLeftRender,\r\n\t\t\ttitleRightRender,\r\n\t\t\tchildren,\r\n\t\t\tformValues,\r\n\t\t\tmomentFormat,\r\n\t\t\tbooleanToNumber,\r\n\t\t\tafterItemsRendered,\r\n\t\t},\r\n\t\tref,\r\n\t) {\r\n\t\tconst domRef = useRef();\r\n\t\tconst formRef = useRef({});\r\n\t\tconst [show, setShow] = useState(true);\r\n\t\tconst getFormInstance = useCallback(\r\n\t\t\t(form, methods) => {\r\n\t\t\t\tformRef.current = { form, methods };\r\n\t\t\t},\r\n\t\t\t[formRef.current],\r\n\t\t);\r\n\t\tconst [stateFormItems, setFormItems] = useState([]);\r\n\t\tuseEffect(() => {\r\n\t\t\tsetFormItems(Array.isArray(formItems) ? formItems : []);\r\n\t\t}, [formItems]);\r\n\t\tuseImperativeHandle(ref, () => ({\r\n\t\t\tgetForm() {\r\n\t\t\t\treturn { ...formRef.current, group };\r\n\t\t\t},\r\n\t\t\tshow(showStatus, seftItem) {\r\n\t\t\t\tif (show === showStatus) return;\r\n\t\t\t\tsetShow(showStatus);\r\n\t\t\t\tformRef.current.methods.changeFormItems(\r\n\t\t\t\t\tstateFormItems.map(item => ({\r\n\t\t\t\t\t\tkey: item.key,\r\n\t\t\t\t\t\tshow: showStatus,\r\n\t\t\t\t\t})),\r\n\t\t\t\t\ttrue,\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t\tgetShowState() {\r\n\t\t\t\treturn show;\r\n\t\t\t},\r\n\t\t\tgetWrapperDom() {\r\n\t\t\t\treturn domRef.current;\r\n\t\t\t},\r\n\t\t\tgetFormItems() {\r\n\t\t\t\treturn stateFormItems;\r\n\t\t\t},\r\n\t\t\tsetFormItems,\r\n\t\t}));\r\n\r\n\t\tconst [groupName, setGroupName] = useState();\r\n\t\tuseEffect(() => {\r\n\t\t\tsetGroupName(group.name);\r\n\t\t}, [group.name]);\r\n\t\tconst nameChange = useCallback(\r\n\t\t\tval => {\r\n\t\t\t\tgroup.name = val;\r\n\t\t\t\tsetGroupName(val);\r\n\t\t\t},\r\n\t\t\t[group, setGroupName],\r\n\t\t);\r\n\t\t// console.log(\"--groups--\" + group.id, stateFormItems);\r\n\t\treturn (\r\n\t\t\t<div className=\"z-view-form-panel\" ref={domRef} style={!show ? { display: \"none\" } : null}>\r\n\t\t\t\t<div className=\"z-panel-heading z-bordercolor-light-orange z-text-orange z-flex-space-between\">\r\n\t\t\t\t\t<div className=\"z-flex-items-v-center\">\r\n\t\t\t\t\t\t{typeof titleLeftRender === \"function\" ? (\r\n\t\t\t\t\t\t\ttitleLeftRender(group, groupName, nameChange)\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<span>{groupName}</span>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"z-flex-items-v-center\">\r\n\t\t\t\t\t\t{typeof titleRightRender === \"function\" && titleRightRender(group)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"z-panel-body z-padding-bottom-0-important\">\r\n\t\t\t\t\t<MyForm\r\n\t\t\t\t\t\tgroup={group}\r\n\t\t\t\t\t\tonSubmit={onSubmit}\r\n\t\t\t\t\t\tlabelLayout={labelLayout ? labelLayout : \"inline\"}\r\n\t\t\t\t\t\titems={stateFormItems}\r\n\t\t\t\t\t\tsubmitBtnName=\"\"\r\n\t\t\t\t\t\tgetFormInstance={getFormInstance}\r\n\t\t\t\t\t\totherForms={getOtherForms}\r\n\t\t\t\t\t\tformDefaultValues={formValues}\r\n\t\t\t\t\t\tmomentFormat={momentFormat}\r\n\t\t\t\t\t\tbooleanToNumber={booleanToNumber}\r\n\t\t\t\t\t\tafterItemsRendered={afterItemsRendered}\r\n\t\t\t\t\t\tinitAnimation={false}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{children}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}),\r\n);\r\nexport default FormGroup;\r\n","import React, { useState, useEffect, useRef, useImperativeHandle, useCallback } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { getControl, getOptions } from \"../../Zform/controls\";\r\nimport { Row, Col, Tag, Button, message, Input } from \"antd\";\r\nimport ZoneWayTransfer from \"../../ZoneWayTransfer\";\r\nimport { itemsFromTree } from \"../../zTool\";\r\nimport { controlList } from \"../AddColForm\";\r\nimport { linkRemark1, linkRemark2, linkRemark3, linkRemark4 } from \"./linkRemark\";\r\nimport { regionNames, ocrFieldNames } from \"../common\";\r\nfunction turnSelectOptions(\r\n\tsection,\r\n\tneedChild,\r\n\tfilter = list => {\r\n\t\treturn list;\r\n\t},\r\n) {\r\n\treturn section.map(g => {\r\n\t\tlet group = false;\r\n\t\tlet children = null;\r\n\t\tif (Array.isArray(g.formFieldInfoList)) {\r\n\t\t\tgroup = true;\r\n\t\t\tchildren = filter(g.formFieldInfoList).map(item => {\r\n\t\t\t\treturn { ...item, value: item.fieldKey, disabled: false };\r\n\t\t\t});\r\n\t\t}\r\n\t\tconst newItem = {\r\n\t\t\t...g,\r\n\t\t\tvalue: g.name,\r\n\t\t\tgroup: needChild ? group : false,\r\n\t\t\tlabel: g.name,\r\n\t\t\tformFieldInfoList: null,\r\n\t\t};\r\n\t\tif (children && needChild) {\r\n\t\t\tnewItem.children = children;\r\n\t\t}\r\n\t\treturn newItem;\r\n\t});\r\n}\r\nfunction getControlitem(type) {\r\n\tconst findItem = controlList.find(item => {\r\n\t\treturn item.value == type;\r\n\t});\r\n\treturn findItem;\r\n}\r\n\r\nfunction getLinkValue(query = {}) {\r\n\treturn {\r\n\t\tsrcControl: null,\r\n\t\tsrcValues: [],\r\n\t\tsrcControls: [],\r\n\t\tdistControls: [],\r\n\t\tleftSelectedVal: \"\",\r\n\t\trightSelectedVal: \"\",\r\n\t\tdistControl: null,\r\n\t\tdistValues: [],\r\n\t\t...query,\r\n\t};\r\n}\r\n\r\nconst propTypes = {\r\n\tnewFormData: PropTypes.object,\r\n\tonSrcSelected: PropTypes.func,\r\n\tonOk: PropTypes.func,\r\n\tonBack: PropTypes.func,\r\n};\r\nfunction ValueLinkControl(props) {\r\n\tconst { newFormData, onSrcSelected, onOk, onBack, linkageType } = props;\r\n\tconst [leftTransferSelections, setLeftTransferSelections] = useState([]);\r\n\tconst [leftTransferSelected, setLeftTransferSelected] = useState([]);\r\n\tconst [rightTransferSelections, setRightTransferSelections] = useState();\r\n\tconst [rightTransferSelected, setRightTransferSelected] = useState([]);\r\n\tconst asyncParamNameRef = useRef(\"id\");\r\n\tconst regionNameRef = useRef(\"province,city,district\");\r\n\tconst ocrFieldNameRef = useRef(\"name\");\r\n\tuseEffect(() => {\r\n\t\tswitch (linkageType) {\r\n\t\t\tcase \"1\":\r\n\t\t\tcase \"2\":\r\n\t\t\tcase \"3\":\r\n\t\t\tcase \"5.2\":\r\n\t\t\t\tsetLeftTransferSelections([]);\r\n\t\t\t\tsetRightTransferSelections(turnSelectOptions(newFormData.sectionList, true));\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"5.1\":\r\n\t\t\t\tsetLeftTransferSelections([]);\r\n\t\t\t\tsetRightTransferSelections(turnSelectOptions(newFormData.sectionList, false));\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"4\":\r\n\t\t\t\tsetLeftTransferSelections([]);\r\n\t\t\t\tsetRightTransferSelections([]);\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"6\":\r\n\t\t\t\tsetLeftTransferSelections(\r\n\t\t\t\t\tturnSelectOptions(newFormData.sectionList, true, list => {\r\n\t\t\t\t\t\treturn list.filter(item => [1].includes(item.fieldType));\r\n\t\t\t\t\t}),\r\n\t\t\t\t);\r\n\t\t\t\tsetRightTransferSelections(\r\n\t\t\t\t\tturnSelectOptions(newFormData.sectionList, true, list => {\r\n\t\t\t\t\t\treturn list.filter(item => [1, 5].includes(item.fieldType));\r\n\t\t\t\t\t}),\r\n\t\t\t\t);\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"7\":\r\n\t\t\t\tsetLeftTransferSelections(\r\n\t\t\t\t\tturnSelectOptions(newFormData.sectionList, true, list => {\r\n\t\t\t\t\t\treturn list.filter(item => [3, 9].includes(item.fieldType));\r\n\t\t\t\t\t}),\r\n\t\t\t\t);\r\n\t\t\t\tsetRightTransferSelections(\r\n\t\t\t\t\tturnSelectOptions(newFormData.sectionList, true, list => {\r\n\t\t\t\t\t\treturn list.filter(item => {\r\n\t\t\t\t\t\t\tlet config = item.config || {};\r\n\t\t\t\t\t\t\tif (typeof item.config == \"string\") {\r\n\t\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\t\tconfig = JSON.parse(item.config);\r\n\t\t\t\t\t\t\t\t} catch (e) {}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treturn [3, 6, 7, 8, 9].includes(item.fieldType) && config.selectionsType == 2;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}),\r\n\t\t\t\t);\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"8\":\r\n\t\t\t\tsetLeftTransferSelections(\r\n\t\t\t\t\tturnSelectOptions(newFormData.sectionList, true, list => {\r\n\t\t\t\t\t\treturn list.filter(item => [13].includes(item.fieldType));\r\n\t\t\t\t\t}),\r\n\t\t\t\t);\r\n\t\t\t\tsetRightTransferSelections(\r\n\t\t\t\t\tturnSelectOptions(newFormData.sectionList, true, list => {\r\n\t\t\t\t\t\treturn list.filter(item => [1, 2].includes(item.fieldType));\r\n\t\t\t\t\t}),\r\n\t\t\t\t);\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"9\":\r\n\t\t\t\tsetLeftTransferSelections(\r\n\t\t\t\t\tturnSelectOptions(newFormData.sectionList, true, list => {\r\n\t\t\t\t\t\treturn list.filter(item => [16].includes(item.fieldType));\r\n\t\t\t\t\t}),\r\n\t\t\t\t);\r\n\t\t\t\tsetRightTransferSelections(\r\n\t\t\t\t\tturnSelectOptions(newFormData.sectionList, true, list => {\r\n\t\t\t\t\t\treturn list.filter(item => [1, 2].includes(item.fieldType));\r\n\t\t\t\t\t}),\r\n\t\t\t\t);\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\tsetLinkValue(getLinkValue());\r\n\t\tsetLeftTransferSelected([]);\r\n\t\tsetRightTransferSelected([]);\r\n\t}, [linkageType]);\r\n\tconst [linkValue, setLinkValue] = useState(getLinkValue());\r\n\tconst selectOptionsRef = useRef(\r\n\t\tturnSelectOptions(newFormData.sectionList, true, list => {\r\n\t\t\treturn list.filter(item => {\r\n\t\t\t\tlet config = item.config || {};\r\n\t\t\t\tif (typeof config === \"string\") {\r\n\t\t\t\t\tconfig = JSON.parse(config);\r\n\t\t\t\t}\r\n\t\t\t\treturn [3, 8, 9].includes(item.fieldType) && config.selectionsType != 2;\r\n\t\t\t});\r\n\t\t}),\r\n\t);\r\n\t//第一个穿梭框的特殊属性\r\n\tconst leftTransferPropsRef = useRef({});\r\n\tconst getSelectControl = (opt = {}) => {\r\n\t\treturn (\r\n\t\t\t<div className=\"z-flex-1 z-margin-right-10\">\r\n\t\t\t\t{getControl(\"Select\", {\r\n\t\t\t\t\tshowSearch: false,\r\n\t\t\t\t\tsize: \"small\",\r\n\t\t\t\t\tplaceholder: \"请选择单选/多选控件\",\r\n\t\t\t\t\tselectList: selectOptionsRef.current,\r\n\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\twidth: \"100%\",\r\n\t\t\t\t\t},\r\n\t\t\t\t\tdropdownMatchSelectWidth: false,\r\n\t\t\t\t\tdropdownStyle: { width: \"400px\" },\r\n\t\t\t\t\toptLabelRender(item) {\r\n\t\t\t\t\t\tconst findItem = getControlitem(item.fieldType);\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div className=\"z-flex-space-between\">\r\n\t\t\t\t\t\t\t\t<span className=\"z-margin-right-8\">{item.label}</span>\r\n\t\t\t\t\t\t\t\t<Tag color=\"#2db7f5\">{findItem.label}</Tag>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t},\r\n\t\t\t\t\t...opt,\r\n\t\t\t\t})}\r\n\t\t\t</div>\r\n\t\t);\r\n\t};\r\n\tif ([\"1\", \"2\", \"3\", \"4\", \"5.1\", \"5.2\"].includes(linkageType)) {\r\n\t\tleftTransferPropsRef.current = {\r\n\t\t\tleftTitle() {\r\n\t\t\t\treturn getSelectControl({\r\n\t\t\t\t\tvalue: linkValue.leftSelectedVal,\r\n\t\t\t\t\tonChange(val) {\r\n\t\t\t\t\t\titemsFromTree({\r\n\t\t\t\t\t\t\ttree: selectOptionsRef.current,\r\n\t\t\t\t\t\t\tsourceItem: { value: val },\r\n\t\t\t\t\t\t\tkeyObj: { id: \"value\", children: \"children\" },\r\n\t\t\t\t\t\t\taction({ tree, currentItem, item, index }) {\r\n\t\t\t\t\t\t\t\tconst config = JSON.parse(currentItem.config);\r\n\t\t\t\t\t\t\t\tsetLeftTransferSelections(config.selectList);\r\n\t\t\t\t\t\t\t\tsetLinkValue({\r\n\t\t\t\t\t\t\t\t\t...linkValue,\r\n\t\t\t\t\t\t\t\t\tleftSelectedVal: currentItem.value,\r\n\t\t\t\t\t\t\t\t\tsrcValues: [],\r\n\t\t\t\t\t\t\t\t\tdistControls: [],\r\n\t\t\t\t\t\t\t\t\tsrcControls: [],\r\n\t\t\t\t\t\t\t\t\tsrcControl: currentItem,\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\tsetLeftTransferSelected([]);\r\n\t\t\t\t\t\t\t\tsetRightTransferSelected([]);\r\n\t\t\t\t\t\t\t\tif (![\"4\", \"5.1\"].includes(linkageType)) {\r\n\t\t\t\t\t\t\t\t\tsetRightTransferSelections(\r\n\t\t\t\t\t\t\t\t\t\tturnSelectOptions(newFormData.sectionList, true, list => {\r\n\t\t\t\t\t\t\t\t\t\t\treturn list.filter(item => item.fieldKey !== val);\r\n\t\t\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tonSrcSelected && onSrcSelected(currentItem);\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t// console.log(turnSelectOptions(newFormData.sectionList));\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\trightTitle: \"已选择的选项\",\r\n\t\t};\r\n\t} else if ([\"6\", \"7\", \"8\", \"9\"].includes(linkageType)) {\r\n\t\tleftTransferPropsRef.current = {\r\n\t\t\tleftTitle: \"可选控件列表\",\r\n\t\t\trightTitle: \"已选择的控件\",\r\n\t\t\tleftItemRender(item, index) {\r\n\t\t\t\tconst findControl = getControlitem(item.fieldType);\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div className=\"z-flex-space-between\">\r\n\t\t\t\t\t\t<span>{item.label}</span>\r\n\t\t\t\t\t\t{findControl ? <Tag color=\"purple\">{findControl.label}</Tag> : null}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t};\r\n\t}\r\n\t//第二个穿梭框的特殊属性\r\n\tconst rightTransferPropsRef = useRef({});\r\n\tif ([\"1\", \"2\", \"3\", \"5.2\", \"6\"].includes(linkageType)) {\r\n\t\trightTransferPropsRef.current = {\r\n\t\t\tleftTitle: \"可选控件列表\",\r\n\t\t\trightTitle: \"已选择的控件\",\r\n\t\t\tleftItemRender(item, index) {\r\n\t\t\t\tconst findControl = getControlitem(item.fieldType);\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div className=\"z-flex-space-between\">\r\n\t\t\t\t\t\t<span>{item.label}</span>\r\n\t\t\t\t\t\t{findControl ? <Tag color=\"purple\">{findControl.label}</Tag> : null}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t};\r\n\t} else if ([\"4\"].includes(linkageType)) {\r\n\t\trightTransferPropsRef.current = {\r\n\t\t\tleftTitle() {\r\n\t\t\t\treturn getSelectControl({\r\n\t\t\t\t\tvalue: linkValue.rightSelectedVal,\r\n\t\t\t\t\tonChange(val) {\r\n\t\t\t\t\t\titemsFromTree({\r\n\t\t\t\t\t\t\ttree: selectOptionsRef.current,\r\n\t\t\t\t\t\t\tsourceItem: { value: val },\r\n\t\t\t\t\t\t\tkeyObj: { id: \"value\", children: \"children\" },\r\n\t\t\t\t\t\t\taction({ tree, currentItem, item, index }) {\r\n\t\t\t\t\t\t\t\tconst config = JSON.parse(currentItem.config);\r\n\t\t\t\t\t\t\t\tsetRightTransferSelections(config.selectList);\r\n\t\t\t\t\t\t\t\tsetLinkValue({\r\n\t\t\t\t\t\t\t\t\t...linkValue,\r\n\t\t\t\t\t\t\t\t\trightSelectedVal: currentItem.value,\r\n\t\t\t\t\t\t\t\t\tdistValues: [],\r\n\t\t\t\t\t\t\t\t\tdistControls: [],\r\n\t\t\t\t\t\t\t\t\tsrcControls: [],\r\n\t\t\t\t\t\t\t\t\tdistControl: currentItem,\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\tsetRightTransferSelected([]);\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\trightTitle: \"已选择的选项\",\r\n\t\t};\r\n\t} else if ([\"5.1\"].includes(linkageType)) {\r\n\t\trightTransferPropsRef.current = {\r\n\t\t\tleftTitle: \"可选组列表\",\r\n\t\t\trightTitle: \"已选择的组\",\r\n\t\t};\r\n\t}\r\n\r\n\tlet linkRemark = null;\r\n\tswitch (linkageType) {\r\n\t\tcase \"1\":\r\n\t\tcase \"2\":\r\n\t\tcase \"3\":\r\n\t\tcase \"5.1\":\r\n\t\tcase \"5.2\":\r\n\t\t\tlinkRemark = linkRemark1({ ...linkValue, linkageType });\r\n\t\t\tbreak;\r\n\t\tcase \"4\":\r\n\t\t\tlinkRemark = linkRemark2(linkValue);\r\n\t\t\tbreak;\r\n\t\tcase \"6\":\r\n\t\t\tlinkRemark = linkRemark3(linkValue, { remmak1: \"身份证输入控件：\", remmak2: \"联动出生年月日接收控件：\" });\r\n\t\t\tbreak;\r\n\t\tcase \"7\":\r\n\t\t\tlinkRemark = linkRemark3(linkValue, { remmak1: \"单选框/下拉框控件：\", remmak2: \"联动异步接收控件：\" });\r\n\t\t\tbreak;\r\n\t\tcase \"8\":\r\n\t\t\tlinkRemark = linkRemark3(linkValue, { remmak1: \"地图选点控件：\", remmak2: \"联动接收控件：\" });\r\n\t\t\tbreak;\r\n\t\tcase \"9\":\r\n\t\t\tlinkRemark = linkRemark3(linkValue, { remmak1: \"证件照(OCR)控件：\", remmak2: \"联动接收控件：\" });\r\n\t\t\tbreak;\r\n\t}\r\n\r\n\tconst selectParamname = {\r\n\t\t8: {\r\n\t\t\tremark: linkRemark4(linkValue, { remmak1: \"选项的行政区划信息传入：\", remmak2: \"的内容是：\" }),\r\n\t\t\tdefaultValue: regionNameRef.current,\r\n\t\t\tonChange: val => {\r\n\t\t\t\tregionNameRef.current = val;\r\n\t\t\t},\r\n\t\t\tselectList: regionNames,\r\n\t\t},\r\n\t\t9: {\r\n\t\t\tremark: linkRemark4(linkValue, { remmak1: \"选项的证件信息传入：\", remmak2: \"的内容是：\" }),\r\n\t\t\tdefaultValue: ocrFieldNameRef.current,\r\n\t\t\tonChange: val => {\r\n\t\t\t\tocrFieldNameRef.current = val;\r\n\t\t\t},\r\n\t\t\tselectList: ocrFieldNames,\r\n\t\t},\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Row gutter={20} className=\"z-margin-top-15\" type=\"flex\">\r\n\t\t\t<Col span={12}>\r\n\t\t\t\t<ZoneWayTransfer\r\n\t\t\t\t\t{...leftTransferPropsRef.current}\r\n\t\t\t\t\tsourceKeys={{\r\n\t\t\t\t\t\tname: \"label\",\r\n\t\t\t\t\t\tid: \"value\",\r\n\t\t\t\t\t\tchildren: \"children\",\r\n\t\t\t\t\t}}\r\n\t\t\t\t\trepeated={false}\r\n\t\t\t\t\tleftSourceData={leftTransferSelections}\r\n\t\t\t\t\trightTargetData={leftTransferSelected}\r\n\t\t\t\t\tonChange={(actionType, rightData, actionItem, sibligItem) => {\r\n\t\t\t\t\t\tsetLinkValue(\r\n\t\t\t\t\t\t\t[\"6\", \"7\", \"8\", \"9\"].includes(linkageType)\r\n\t\t\t\t\t\t\t\t? { ...linkValue, srcControls: rightData }\r\n\t\t\t\t\t\t\t\t: {\r\n\t\t\t\t\t\t\t\t\t\t...linkValue,\r\n\t\t\t\t\t\t\t\t\t\tsrcValues: rightData.map(item => ({ label: item.label, value: item.value })),\r\n\t\t\t\t\t\t\t\t  },\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t</Col>\r\n\t\t\t<Col span={12}>\r\n\t\t\t\t<ZoneWayTransfer\r\n\t\t\t\t\t{...rightTransferPropsRef.current}\r\n\t\t\t\t\trepeated={false}\r\n\t\t\t\t\tsourceKeys={{\r\n\t\t\t\t\t\tname: \"label\",\r\n\t\t\t\t\t\tid: \"value\",\r\n\t\t\t\t\t\tchildren: \"children\",\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tleftSourceData={rightTransferSelections}\r\n\t\t\t\t\trightTargetData={rightTransferSelected}\r\n\t\t\t\t\tonChange={(actionType, rightData, actionItem, sibligItem) => {\r\n\t\t\t\t\t\tsetLinkValue(\r\n\t\t\t\t\t\t\tlinkageType === \"4\"\r\n\t\t\t\t\t\t\t\t? { ...linkValue, distValues: rightData }\r\n\t\t\t\t\t\t\t\t: {\r\n\t\t\t\t\t\t\t\t\t\t...linkValue,\r\n\t\t\t\t\t\t\t\t\t\tdistControls: rightData,\r\n\t\t\t\t\t\t\t\t  },\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t</Col>\r\n\t\t\t<Col span={9} className=\"z-flex-items-center\">\r\n\t\t\t\t{linkageType === \"7\" ? (\r\n\t\t\t\t\t<div className=\"z-linkage-remark\">\r\n\t\t\t\t\t\t<div className=\"z-margin-bottom-12\">\r\n\t\t\t\t\t\t\t{linkRemark4(linkValue, {\r\n\t\t\t\t\t\t\t\tremmak1: \"选项的value传入异步控件：\",\r\n\t\t\t\t\t\t\t\tremmak2: \"的请求参数名：\",\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{getControl(\"Input.Group\", {\r\n\t\t\t\t\t\t\tcompact: true,\r\n\t\t\t\t\t\t\tchildren: (\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t{getControl(\"Input\", {\r\n\t\t\t\t\t\t\t\t\t\tstyle: { width: \"80px\" },\r\n\t\t\t\t\t\t\t\t\t\tdefaultValue: \"value\",\r\n\t\t\t\t\t\t\t\t\t\tdisabled: true,\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t{getControl(\"Input\", {\r\n\t\t\t\t\t\t\t\t\t\tstyle: { width: \"160px\" },\r\n\t\t\t\t\t\t\t\t\t\tdefaultValue: asyncParamNameRef.current,\r\n\t\t\t\t\t\t\t\t\t\tonChange: value => {\r\n\t\t\t\t\t\t\t\t\t\t\tasyncParamNameRef.current = value;\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : null}\r\n\t\t\t\t{[\"8\", \"9\"].includes(linkageType) ? (\r\n\t\t\t\t\t<div className=\"z-linkage-remark\">\r\n\t\t\t\t\t\t<div className=\"z-margin-bottom-12\">{selectParamname[linkageType].remark}</div>\r\n\t\t\t\t\t\t{getControl(\"Select\", {\r\n\t\t\t\t\t\t\tstyle: { width: \"240px\" },\r\n\t\t\t\t\t\t\tdefaultValue: selectParamname[linkageType].defaultValue,\r\n\t\t\t\t\t\t\tselectList: selectParamname[linkageType].selectList,\r\n\t\t\t\t\t\t\tonChange: selectParamname[linkageType].onChange,\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : null}\r\n\t\t\t</Col>\r\n\t\t\t<Col span={12}>\r\n\t\t\t\t<div className=\"z-linkage-line z-linkage-remark z-flex-items-center\">{linkRemark}</div>\r\n\t\t\t</Col>\r\n\t\t\t<Col span={3} className=\"z-flex-items-end\">\r\n\t\t\t\t<div className=\"z-display-inline-block\">\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\ticon=\"check\"\r\n\t\t\t\t\t\tblock\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\tonClick={e => {\r\n\t\t\t\t\t\t\tlet error = false;\r\n\t\t\t\t\t\t\tif ([\"6\", \"7\", \"8\", \"9\"].includes(linkageType)) {\r\n\t\t\t\t\t\t\t\tif (!linkValue.srcControls.length || !linkValue.distControls.length) {\r\n\t\t\t\t\t\t\t\t\terror = true;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else if ([\"4\"].includes(linkageType)) {\r\n\t\t\t\t\t\t\t\tif (!linkValue.srcValues.length || !linkValue.distValues.length) {\r\n\t\t\t\t\t\t\t\t\terror = true;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else if (!linkValue.srcValues.length || !linkValue.distControls.length) {\r\n\t\t\t\t\t\t\t\terror = true;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (error) {\r\n\t\t\t\t\t\t\t\tmessage.error(\"配置不完整\");\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tsetLinkValue({\r\n\t\t\t\t\t\t\t\t...linkValue,\r\n\t\t\t\t\t\t\t\tsrcValues: [],\r\n\t\t\t\t\t\t\t\tsrcControls: [],\r\n\t\t\t\t\t\t\t\tdistValues: [],\r\n\t\t\t\t\t\t\t\tdistControls: [],\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tsetLeftTransferSelected([]);\r\n\t\t\t\t\t\t\tsetRightTransferSelected([]);\r\n\t\t\t\t\t\t\tonOk &&\r\n\t\t\t\t\t\t\t\tonOk(linkValue, {\r\n\t\t\t\t\t\t\t\t\tasyncParamName: asyncParamNameRef.current,\r\n\t\t\t\t\t\t\t\t\tregionName: regionNameRef.current,\r\n\t\t\t\t\t\t\t\t\tocrParamName: ocrFieldNameRef.current,\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t保存到表单\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button type=\"default\" block onClick={onBack} className=\"z-margin-top-15\" icon=\"close\">\r\n\t\t\t\t\t\t关闭窗口\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</div>\r\n\t\t\t</Col>\r\n\t\t</Row>\r\n\t);\r\n}\r\nValueLinkControl.propTypes = propTypes;\r\nexport default React.memo(ValueLinkControl);\r\n","/*\r\n * @Author: zgt\r\n * @Date: 2019-03-28 14:39:38\r\n * @LastEditors: zgt\r\n * @LastEditTime: 2019-10-09 18:25:24\r\n * @Description: file content\r\n */\r\n// export default {\r\n// \tid: 927,\r\n// \tname: \"爆料管理表单\",\r\n// \tcode: \"szhd_disclosure_form\",\r\n// \tversion: 19,\r\n// \tseq: 0,\r\n// \tdescription: \"公众互动项目的爆料管理模块\",\r\n// \tconfiguration: null,\r\n// \tlinkages:\r\n// \t\t'[{\"linkageType\":\"8\",\"name\":\"地图选点取行政区划\",\"src\":{\"fieldKey\":\"address\",\"label\":\"事发地址\",\"fieldType\":13},\"dist\":[{\"fields\":[{\"fieldKey\":\"area\",\"fieldType\":1,\"label\":\"所属区划\",\"regionName\":\"district\"}]}],\"regionName\":\"district\"}]',\r\n// \tcustomOnChange: null,\r\n// \tformTypeId: 8,\r\n// \tgmtCreate: \"2019-08-03 17:22:35\",\r\n// \tgmtModified: \"2019-08-03 17:22:35\",\r\n// \tsectionList: [\r\n// \t\t{\r\n// \t\t\tid: 1054,\r\n// \t\t\tformId: 927,\r\n// \t\t\tname: \"爆料问题信息\",\r\n// \t\t\tseq: 1,\r\n// \t\t\tdescription: null,\r\n// \t\t\tgmtCreate: \"2019-08-03 17:22:35\",\r\n// \t\t\tgmtModified: \"2019-08-03 17:22:35\",\r\n// \t\t\tformFieldInfoList: [\r\n// \t\t\t\t{\r\n// \t\t\t\t\tid: 3385,\r\n// \t\t\t\t\tsectionId: 1054,\r\n// \t\t\t\t\tlabel: \"问题类型\",\r\n// \t\t\t\t\tfieldKey: \"problemType\",\r\n// \t\t\t\t\tfieldType: 6,\r\n// \t\t\t\t\trequired: 1,\r\n// \t\t\t\t\tdisabled: 0,\r\n// \t\t\t\t\tregularExpression: null,\r\n// \t\t\t\t\tdescription: null,\r\n// \t\t\t\t\terrorMsg: null,\r\n// \t\t\t\t\tplaceholder: null,\r\n// \t\t\t\t\tspan: 12,\r\n// \t\t\t\t\tlabelWidth: null,\r\n// \t\t\t\t\tconfig:\r\n// \t\t\t\t\t\t'{\"selectionsType\":2,\"selectListFieldNames\":{\"label\":\"label\",\"value\":\"value\",\"children\":\"children\"},\"selectionsUrl\":{\"selectionsUrlMethod\":\"post\",\"selectionsUrl\":\"/upip-problem-webapi/webapi/v1.0/upip/problem/getProblemTypeTree\",\"requireType\":\"all\"},\"selectionsQuery\":{\"problemClass\":\"1\"},\"changeOnSelect\":0}',\r\n// \t\t\t\t\tinitialValue: null,\r\n// \t\t\t\t\tseq: 1,\r\n// \t\t\t\t\tgmtCreate: \"2019-08-03 17:22:35\",\r\n// \t\t\t\t\tgmtModified: \"2019-08-03 17:22:35\",\r\n// \t\t\t\t},\r\n// \t\t\t\t{\r\n// \t\t\t\t\tid: 3386,\r\n// \t\t\t\t\tsectionId: 1054,\r\n// \t\t\t\t\tlabel: \"问题来源\",\r\n// \t\t\t\t\tfieldKey: \"problemSource\",\r\n// \t\t\t\t\tfieldType: 3,\r\n// \t\t\t\t\trequired: 1,\r\n// \t\t\t\t\tdisabled: 0,\r\n// \t\t\t\t\tregularExpression: null,\r\n// \t\t\t\t\tdescription: null,\r\n// \t\t\t\t\terrorMsg: null,\r\n// \t\t\t\t\tplaceholder: null,\r\n// \t\t\t\t\tspan: 12,\r\n// \t\t\t\t\tlabelWidth: null,\r\n// \t\t\t\t\tconfig:\r\n// \t\t\t\t\t\t'{\"selectionsType\":2,\"selectListFieldNames\":{\"label\":\"label\",\"value\":\"value\",\"children\":\"children\"},\"selectionsUrl\":{\"selectionsUrlMethod\":\"post\",\"selectionsUrl\":\"/upip-problem-webapi/webapi/v1.0/upip/problem/listProblemSource\",\"requireType\":\"all\"},\"selectionsQuery\":{\"problemClass\":\"1\"},\"mode\":\"single\"}',\r\n// \t\t\t\t\tinitialValue: null,\r\n// \t\t\t\t\tseq: 2,\r\n// \t\t\t\t\tgmtCreate: \"2019-08-03 17:22:35\",\r\n// \t\t\t\t\tgmtModified: \"2019-08-03 17:22:35\",\r\n// \t\t\t\t},\r\n// \t\t\t\t{\r\n// \t\t\t\t\tid: 3387,\r\n// \t\t\t\t\tsectionId: 1054,\r\n// \t\t\t\t\tlabel: \"所属区划\",\r\n// \t\t\t\t\tfieldKey: \"area\",\r\n// \t\t\t\t\tfieldType: 1,\r\n// \t\t\t\t\trequired: 0,\r\n// \t\t\t\t\tdisabled: 1,\r\n// \t\t\t\t\tregularExpression: null,\r\n// \t\t\t\t\tdescription: null,\r\n// \t\t\t\t\terrorMsg: null,\r\n// \t\t\t\t\tplaceholder: null,\r\n// \t\t\t\t\tspan: 8,\r\n// \t\t\t\t\tlabelWidth: null,\r\n// \t\t\t\t\tconfig: '{\"type\":\"text\"}',\r\n// \t\t\t\t\tinitialValue: null,\r\n// \t\t\t\t\tseq: 3,\r\n// \t\t\t\t\tgmtCreate: \"2019-08-03 17:22:35\",\r\n// \t\t\t\t\tgmtModified: \"2019-08-03 17:22:35\",\r\n// \t\t\t\t},\r\n// \t\t\t\t{\r\n// \t\t\t\t\tid: 3388,\r\n// \t\t\t\t\tsectionId: 1054,\r\n// \t\t\t\t\tlabel: \"事发地址\",\r\n// \t\t\t\t\tfieldKey: \"address\",\r\n// \t\t\t\t\tfieldType: 13,\r\n// \t\t\t\t\trequired: 1,\r\n// \t\t\t\t\tdisabled: 0,\r\n// \t\t\t\t\tregularExpression: null,\r\n// \t\t\t\t\tdescription: null,\r\n// \t\t\t\t\terrorMsg: null,\r\n// \t\t\t\t\tplaceholder: null,\r\n// \t\t\t\t\tspan: 16,\r\n// \t\t\t\t\tlabelWidth: null,\r\n// \t\t\t\t\tconfig:\r\n// \t\t\t\t\t\t'{\"mapType\":\"amap\",\"secretKey\":\"63QBZ-B5GKV-46RPH-UCUF2-K5TUJ-OKBAK\",\"webserviceUrlDO\":{\"urlMethod\":\"post\",\"url\":\"/form-service/webapi/geography/webService\"}}',\r\n// \t\t\t\t\tinitialValue: null,\r\n// \t\t\t\t\tseq: 4,\r\n// \t\t\t\t\tgmtCreate: \"2019-08-03 17:22:35\",\r\n// \t\t\t\t\tgmtModified: \"2019-08-03 17:22:35\",\r\n// \t\t\t\t},\r\n// \t\t\t\t{\r\n// \t\t\t\t\tid: 3389,\r\n// \t\t\t\t\tsectionId: 1054,\r\n// \t\t\t\t\tlabel: \"问题描述\",\r\n// \t\t\t\t\tfieldKey: \"problemContent\",\r\n// \t\t\t\t\tfieldType: 2,\r\n// \t\t\t\t\trequired: 1,\r\n// \t\t\t\t\tdisabled: 0,\r\n// \t\t\t\t\tregularExpression: null,\r\n// \t\t\t\t\tdescription: null,\r\n// \t\t\t\t\terrorMsg: null,\r\n// \t\t\t\t\tplaceholder: null,\r\n// \t\t\t\t\tspan: 24,\r\n// \t\t\t\t\tlabelWidth: null,\r\n// \t\t\t\t\tconfig: '{\"maxLength\":50}',\r\n// \t\t\t\t\tinitialValue: null,\r\n// \t\t\t\t\tseq: 5,\r\n// \t\t\t\t\tgmtCreate: \"2019-08-03 17:22:35\",\r\n// \t\t\t\t\tgmtModified: \"2019-08-03 17:22:35\",\r\n// \t\t\t\t},\r\n// \t\t\t],\r\n// \t\t},\r\n// \t\t{\r\n// \t\t\tid: 1055,\r\n// \t\t\tformId: 927,\r\n// \t\t\tname: \"曝料人信息\",\r\n// \t\t\tseq: 2,\r\n// \t\t\tdescription: null,\r\n// \t\t\tgmtCreate: \"2019-08-03 17:22:35\",\r\n// \t\t\tgmtModified: \"2019-08-03 17:22:35\",\r\n// \t\t\tformFieldInfoList: [\r\n// \t\t\t\t{\r\n// \t\t\t\t\tid: 3390,\r\n// \t\t\t\t\tsectionId: 1055,\r\n// \t\t\t\t\tlabel: \"曝料人姓名\",\r\n// \t\t\t\t\tfieldKey: \"username\",\r\n// \t\t\t\t\tfieldType: 1,\r\n// \t\t\t\t\trequired: 1,\r\n// \t\t\t\t\tdisabled: 0,\r\n// \t\t\t\t\tregularExpression: null,\r\n// \t\t\t\t\tdescription: null,\r\n// \t\t\t\t\terrorMsg: null,\r\n// \t\t\t\t\tplaceholder: null,\r\n// \t\t\t\t\tspan: 12,\r\n// \t\t\t\t\tlabelWidth: null,\r\n// \t\t\t\t\tconfig: '{\"maxLength\":20,\"type\":\"text\"}',\r\n// \t\t\t\t\tinitialValue: null,\r\n// \t\t\t\t\tseq: 1,\r\n// \t\t\t\t\tgmtCreate: \"2019-08-03 17:22:35\",\r\n// \t\t\t\t\tgmtModified: \"2019-08-03 17:22:35\",\r\n// \t\t\t\t},\r\n// \t\t\t\t{\r\n// \t\t\t\t\tid: 3391,\r\n// \t\t\t\t\tsectionId: 1055,\r\n// \t\t\t\t\tlabel: \"登记人\",\r\n// \t\t\t\t\tfieldKey: \"register\",\r\n// \t\t\t\t\tfieldType: 1,\r\n// \t\t\t\t\trequired: 1,\r\n// \t\t\t\t\tdisabled: 0,\r\n// \t\t\t\t\tregularExpression: null,\r\n// \t\t\t\t\tdescription: null,\r\n// \t\t\t\t\terrorMsg: null,\r\n// \t\t\t\t\tplaceholder: null,\r\n// \t\t\t\t\tspan: 12,\r\n// \t\t\t\t\tlabelWidth: null,\r\n// \t\t\t\t\tconfig: '{\"type\":\"text\"}',\r\n// \t\t\t\t\tinitialValue: null,\r\n// \t\t\t\t\tseq: 2,\r\n// \t\t\t\t\tgmtCreate: \"2019-08-03 17:22:35\",\r\n// \t\t\t\t\tgmtModified: \"2019-08-03 17:22:35\",\r\n// \t\t\t\t},\r\n// \t\t\t\t{\r\n// \t\t\t\t\tid: 3392,\r\n// \t\t\t\t\tsectionId: 1055,\r\n// \t\t\t\t\tlabel: \"联系方式\",\r\n// \t\t\t\t\tfieldKey: \"phone\",\r\n// \t\t\t\t\tfieldType: 1,\r\n// \t\t\t\t\trequired: 1,\r\n// \t\t\t\t\tdisabled: 0,\r\n// \t\t\t\t\tregularExpression: \"^1[3|4|5|6|7|8|9][0-9]\\\\d{8}$\",\r\n// \t\t\t\t\tdescription: null,\r\n// \t\t\t\t\terrorMsg: \"输入的手机号格式有误\",\r\n// \t\t\t\t\tplaceholder: null,\r\n// \t\t\t\t\tspan: 12,\r\n// \t\t\t\t\tlabelWidth: null,\r\n// \t\t\t\t\tconfig: '{\"type\":\"text\"}',\r\n// \t\t\t\t\tinitialValue: null,\r\n// \t\t\t\t\tseq: 3,\r\n// \t\t\t\t\tgmtCreate: \"2019-08-03 17:22:35\",\r\n// \t\t\t\t\tgmtModified: \"2019-08-03 17:22:35\",\r\n// \t\t\t\t},\r\n// \t\t\t\t{\r\n// \t\t\t\t\tid: 3393,\r\n// \t\t\t\t\tsectionId: 1055,\r\n// \t\t\t\t\tlabel: \"爆料时间\",\r\n// \t\t\t\t\tfieldKey: \"time\",\r\n// \t\t\t\t\tfieldType: 5,\r\n// \t\t\t\t\trequired: 1,\r\n// \t\t\t\t\tdisabled: 0,\r\n// \t\t\t\t\tregularExpression: null,\r\n// \t\t\t\t\tdescription: null,\r\n// \t\t\t\t\terrorMsg: null,\r\n// \t\t\t\t\tplaceholder: null,\r\n// \t\t\t\t\tspan: 12,\r\n// \t\t\t\t\tlabelWidth: null,\r\n// \t\t\t\t\tconfig: '{\"format\":\"YYYY-MM-DD HH:mm\"}',\r\n// \t\t\t\t\tinitialValue: null,\r\n// \t\t\t\t\tseq: 4,\r\n// \t\t\t\t\tgmtCreate: \"2019-08-03 17:22:35\",\r\n// \t\t\t\t\tgmtModified: \"2019-08-03 17:22:35\",\r\n// \t\t\t\t},\r\n// \t\t\t],\r\n// \t\t},\r\n// \t\t{\r\n// \t\t\tid: 1056,\r\n// \t\t\tformId: 927,\r\n// \t\t\tname: \"上传图片\",\r\n// \t\t\tseq: 3,\r\n// \t\t\tdescription: null,\r\n// \t\t\tgmtCreate: \"2019-08-03 17:22:35\",\r\n// \t\t\tgmtModified: \"2019-08-03 17:22:35\",\r\n// \t\t\tformFieldInfoList: [\r\n// \t\t\t\t{\r\n// \t\t\t\t\tid: 3394,\r\n// \t\t\t\t\tsectionId: 1056,\r\n// \t\t\t\t\tlabel: \"图片\",\r\n// \t\t\t\t\tfieldKey: \"problemFiles\",\r\n// \t\t\t\t\tfieldType: 11,\r\n// \t\t\t\t\trequired: 1,\r\n// \t\t\t\t\tdisabled: 0,\r\n// \t\t\t\t\tregularExpression: null,\r\n// \t\t\t\t\tdescription: null,\r\n// \t\t\t\t\terrorMsg: null,\r\n// \t\t\t\t\tplaceholder: null,\r\n// \t\t\t\t\tspan: 24,\r\n// \t\t\t\t\tlabelWidth: null,\r\n// \t\t\t\t\tconfig:\r\n// \t\t\t\t\t\t'{\"url\":\"/cloud-oss/webapi/v1.0/cloud/oss/upload/uploadFile\",\"fileAccept\":\"image/*\",\"fileListType\":\"picture-card\",\"wxSourceTypes\":[\"album\",\"camera\"],\"uploaderResponse\":{\"id\":\"id\",\"filePath\":\"filePath\",\"fileSuffix\":\"fileSuffix\",\"fileType\":\"fileType\",\"originalFileName\":\"originalFileName\"},\"urlMethod\":\"post\",\"urlParamName\":\"file\",\"requestMode\":\"single\"}',\r\n// \t\t\t\t\tinitialValue: null,\r\n// \t\t\t\t\tseq: 1,\r\n// \t\t\t\t\tgmtCreate: \"2019-08-03 17:22:35\",\r\n// \t\t\t\t\tgmtModified: \"2019-08-03 17:22:35\",\r\n// \t\t\t\t},\r\n// \t\t\t],\r\n// \t\t},\r\n// \t],\r\n// \tbuttonList: [],\r\n// };\r\n// // export default {\r\n// // \tcode: \"dog_check_in_form\",\r\n// // \tname: \"养犬信息登记表\",\r\n// // \tlabelLayout: \"inline\",\r\n// // \tsectionList: [\r\n// // \t\t{\r\n// // \t\t\tid: 111,\r\n// // \t\t\tname: \"犬只信息\",\r\n// // \t\t\tformFieldInfoList: [\r\n// // \t\t\t\t{\r\n// // \t\t\t\t\tfieldKey: \"dogName\",\r\n// // \t\t\t\t\tfieldType: 1,\r\n// // \t\t\t\t\tid: 466,\r\n// // \t\t\t\t\tconfig: '{\"maxLength\":8,\"minLength\":1}',\r\n// // \t\t\t\t\tinitialValue: null,\r\n// // \t\t\t\t\tlabel: \"犬只名称\",\r\n// // \t\t\t\t\tregularExpression: null,\r\n// // \t\t\t\t\trequired: 1,\r\n// // \t\t\t\t\tsectionId: 111,\r\n// // \t\t\t\t\tspan: 8,\r\n// // \t\t\t\t\tseq: 1,\r\n// // \t\t\t\t},\r\n// // \t\t\t\t{\r\n// // \t\t\t\t\tfieldKey: \"dogType\",\r\n// // \t\t\t\t\tfieldType: 1,\r\n// // \t\t\t\t\tid: 467,\r\n// // \t\t\t\t\tconfig: '{\"maxLength\":16,\"minLength\":1}',\r\n// // \t\t\t\t\tinitialValue: null,\r\n// // \t\t\t\t\tlabel: \"犬只品种\",\r\n// // \t\t\t\t\tregularExpression: null,\r\n// // \t\t\t\t\trequired: 1,\r\n// // \t\t\t\t\tsectionId: 111,\r\n// // \t\t\t\t\tspan: 8,\r\n// // \t\t\t\t\tseq: 2,\r\n// // \t\t\t\t},\r\n// // \t\t\t\t{\r\n// // \t\t\t\t\tfieldKey: \"dogSex\",\r\n// // \t\t\t\t\tfieldType: 9,\r\n// // \t\t\t\t\tid: 468,\r\n// // \t\t\t\t\tconfig: '{\"selectList\":[{\"label\":\"公\",\"value\":\"1\"},{\"label\":\"母\",\"value\":\"2\"}]}',\r\n// // \t\t\t\t\tinitialValue: \"1\",\r\n// // \t\t\t\t\tlabel: \"犬只性别\",\r\n// // \t\t\t\t\tregularExpression: null,\r\n// // \t\t\t\t\trequired: 1,\r\n// // \t\t\t\t\tsectionId: 111,\r\n// // \t\t\t\t\tspan: 8,\r\n// // \t\t\t\t\tseq: 3,\r\n// // \t\t\t\t},\r\n// // \t\t\t\t{\r\n// // \t\t\t\t\tfieldKey: \"dogProperty\",\r\n// // \t\t\t\t\tfieldType: 3,\r\n// // \t\t\t\t\tid: 469,\r\n// // \t\t\t\t\tconfig:\r\n// // \t\t\t\t\t\t'{\"selectList\":[{\"label\":\"普通宠物\",\"value\":\"1\"},{\"label\":\"导盲犬/扶助犬\",\"value\":\"2\"},{\"label\":\"其他\",\"value\":\"3\"}]}',\r\n// // \t\t\t\t\tdisabled: true,\r\n// // \t\t\t\t\tinitialValue: null,\r\n// // \t\t\t\t\tlabel: \"犬只性质\",\r\n// // \t\t\t\t\tregularExpression: null,\r\n// // \t\t\t\t\trequired: 1,\r\n// // \t\t\t\t\tsectionId: 111,\r\n// // \t\t\t\t\tspan: 8,\r\n// // \t\t\t\t\tseq: 4,\r\n// // \t\t\t\t},\r\n// // \t\t\t\t{\r\n// // \t\t\t\t\tfieldKey: \"dogColor\",\r\n// // \t\t\t\t\tfieldType: 1,\r\n// // \t\t\t\t\tid: 470,\r\n// // \t\t\t\t\tconfig: '{\"maxLength\":8,\"minLength\":1}',\r\n// // \t\t\t\t\tinitialValue: null,\r\n// // \t\t\t\t\tlabel: \"犬只颜色\",\r\n// // \t\t\t\t\tregularExpression: null,\r\n// // \t\t\t\t\trequired: 1,\r\n// // \t\t\t\t\tsectionId: 111,\r\n// // \t\t\t\t\tspan: 8,\r\n// // \t\t\t\t\tseq: 5,\r\n// // \t\t\t\t},\r\n// // \t\t\t\t{\r\n// // \t\t\t\t\tfieldKey: \"isIris\",\r\n// // \t\t\t\t\tfieldType: 9,\r\n// // \t\t\t\t\tid: 471,\r\n// // \t\t\t\t\tconfig: '{\"selectList\":[{\"label\":\"是\",\"value\":\"1\"},{\"label\":\"否\",\"value\":\"2\"}]}',\r\n// // \t\t\t\t\tinitialValue: null,\r\n// // \t\t\t\t\tlabel: \"录入虹膜\",\r\n// // \t\t\t\t\tregularExpression: null,\r\n// // \t\t\t\t\trequired: 0,\r\n// // \t\t\t\t\tsectionId: 111,\r\n// // \t\t\t\t\tspan: 8,\r\n// // \t\t\t\t\tseq: 6,\r\n// // \t\t\t\t},\r\n// // \t\t\t\t{\r\n// // \t\t\t\t\tfieldKey: \"rfid\",\r\n// // \t\t\t\t\tfieldType: 9,\r\n// // \t\t\t\t\tid: 472,\r\n// // \t\t\t\t\tconfig: '{\"selectList\":[{\"label\":\"是\",\"value\":\"1\"},{\"label\":\"否\",\"value\":\"2\"}]}',\r\n// // \t\t\t\t\tinitialValue: null,\r\n// // \t\t\t\t\tlabel: \"电子标签\",\r\n// // \t\t\t\t\tregularExpression: null,\r\n// // \t\t\t\t\trequired: 0,\r\n// // \t\t\t\t\tsectionId: 111,\r\n// // \t\t\t\t\tspan: 8,\r\n// // \t\t\t\t\tseq: 7,\r\n// // \t\t\t\t},\r\n// // \t\t\t\t{\r\n// // \t\t\t\t\tfieldKey: \"birthday\",\r\n// // \t\t\t\t\tfieldType: 5,\r\n// // \t\t\t\t\tid: 473,\r\n// // \t\t\t\t\tconfig: '{\"format\":\"YYYY-MM-DD\"}',\r\n// // \t\t\t\t\tinitialValue: null,\r\n// // \t\t\t\t\tlabel: \"出生日期\",\r\n// // \t\t\t\t\tregularExpression: null,\r\n// // \t\t\t\t\trequired: 0,\r\n// // \t\t\t\t\tsectionId: 111,\r\n// // \t\t\t\t\tspan: 8,\r\n// // \t\t\t\t\tseq: 8,\r\n// // \t\t\t\t},\r\n// // \t\t\t\t{\r\n// // \t\t\t\t\tfieldKey: \"pic\",\r\n// // \t\t\t\t\tfieldType: 11,\r\n// // \t\t\t\t\tid: 474,\r\n// // \t\t\t\t\tconfig:\r\n// // \t\t\t\t\t\t'{\"url\":\"/file-upload-service/webapi/v1.0/fileUpload/uploads\",\"accept\":\"87887878\",\"multiple\":false,\"paramName\":\"7878\",\"detailUrl\":\"/file-upload-service/webapi/v1.0/fileUpload/listUploadInfoByIds\"}',\r\n// // \t\t\t\t\tinitialValue: null,\r\n// // \t\t\t\t\tlabel: \"上传文件\",\r\n// // \t\t\t\t\tregularExpression: null,\r\n// // \t\t\t\t\trequired: 0,\r\n// // \t\t\t\t\tsectionId: 111,\r\n// // \t\t\t\t\tspan: 24,\r\n// // \t\t\t\t\tseq: 9,\r\n// // \t\t\t\t},\r\n// // \t\t\t\t{\r\n// // \t\t\t\t\tfieldKey: \"weihubs\",\r\n// // \t\t\t\t\tfieldType: 3,\r\n// // \t\t\t\t\tconfig:\r\n// // \t\t\t\t\t\t'{\"selectionsType\":2,\"selectListFieldNames\":{\"label\":\"deptName\",\"value\":\"id\",\"children\":\"children\"},\"selectionsUrl\":{\"selectionsUrlMethod\":\"post\",\"selectionsUrl\":\"/tibmas2-webapi/api/v1.0/dept/listDeptByPid\",\"requireType\":\"all\"},\"selectionsQuery\":{\"id\":\"0\"}}',\r\n// // \t\t\t\t\tdisabled: 0,\r\n// // \t\t\t\t\tlabel: \"下拉控件\",\r\n// // \t\t\t\t\trequired: 1,\r\n// // \t\t\t\t\tspan: 8,\r\n// // \t\t\t\t\tseq: 10,\r\n// // \t\t\t\t},\r\n// // \t\t\t\t{\r\n// // \t\t\t\t\tfieldKey: \"double\",\r\n// // \t\t\t\t\tfieldType: 8,\r\n// // \t\t\t\t\tconfig:\r\n// // \t\t\t\t\t\t'{\"selectionsType\":2,\"selectListFieldNames\":{\"label\":\"deptName\",\"value\":\"id\",\"children\":\"children\"},\"selectionsUrl\":{\"selectionsUrlMethod\":\"post\",\"selectionsUrl\":\"/tibmas2-webapi/api/v1.0/dept/listDeptByPid\",\"requireType\":\"all\"},\"selectionsQuery\":{\"id\":\"0\"}}',\r\n// // \t\t\t\t\tdisabled: 0,\r\n// // \t\t\t\t\tlabel: \"多选\",\r\n// // \t\t\t\t\trequired: 1,\r\n// // \t\t\t\t\tspan: 8,\r\n// // \t\t\t\t\tseq: 11,\r\n// // \t\t\t\t},\r\n// // \t\t\t\t{\r\n// // \t\t\t\t\tfieldKey: \"single\",\r\n// // \t\t\t\t\tfieldType: 9,\r\n// // \t\t\t\t\tconfig:\r\n// // \t\t\t\t\t\t'{\"selectionsType\":2,\"selectListFieldNames\":{\"label\":\"deptName\",\"value\":\"id\",\"children\":\"children\"},\"selectionsUrl\":{\"selectionsUrlMethod\":\"post\",\"selectionsUrl\":\"/tibmas2-webapi/api/v1.0/dept/listDeptByPid\",\"requireType\":\"all\"},\"selectionsQuery\":{\"id\":\"0\"}}',\r\n// // \t\t\t\t\tdisabled: 0,\r\n// // \t\t\t\t\tlabel: \"单选\",\r\n// // \t\t\t\t\trequired: 1,\r\n// // \t\t\t\t\tspan: 8,\r\n// // \t\t\t\t\tseq: 12,\r\n// // \t\t\t\t},\r\n// // \t\t\t\t{\r\n// // \t\t\t\t\tfieldKey: \"casserole\",\r\n// // \t\t\t\t\tfieldType: 6,\r\n// // \t\t\t\t\tconfig:\r\n// // \t\t\t\t\t\t'{\"selectionsType\":2,\"selectListFieldNames\":{\"label\":\"deptName\",\"value\":\"id\",\"children\":\"children\"},\"selectionsUrl\":{\"selectionsUrlMethod\":\"post\",\"selectionsUrl\":\"/tibmas2-webapi/api/v1.0/dept/listDeptByPid\",\"requireType\":\"part\"},\"selectionsQuery\":{\"id\":\"0\"},\"changeOnSelect\":0}',\r\n// // \t\t\t\t\tdisabled: 0,\r\n// // \t\t\t\t\tlabel: \"级联控件\",\r\n// // \t\t\t\t\trequired: 1,\r\n// // \t\t\t\t\tspan: 8,\r\n// // \t\t\t\t\tseq: 13,\r\n// // \t\t\t\t},\r\n// // \t\t\t\t{\r\n// // \t\t\t\t\tfieldKey: \"treeSelect\",\r\n// // \t\t\t\t\tfieldType: 7,\r\n// // \t\t\t\t\tconfig:\r\n// // \t\t\t\t\t\t'{\"selectionsType\":2,\"selectListFieldNames\":{\"label\":\"deptName\",\"value\":\"id\",\"children\":\"children\"},\"selectionsUrl\":{\"selectionsUrlMethod\":\"post\",\"selectionsUrl\":\"/tibmas2-webapi/api/v1.0/dept/listDeptByPid\",\"requireType\":\"part\"},\"selectionsQuery\":{\"id\":\"0\"}}',\r\n// // \t\t\t\t\tdisabled: 0,\r\n// // \t\t\t\t\tlabel: \"tree控件\",\r\n// // \t\t\t\t\trequired: 1,\r\n// // \t\t\t\t\tspan: 8,\r\n// // \t\t\t\t\tseq: 14,\r\n// // \t\t\t\t},\r\n// // \t\t\t\t{\r\n// // \t\t\t\t\tfieldKey: \"asyncTests\",\r\n// // \t\t\t\t\tfieldType: 3,\r\n// // \t\t\t\t\tconfig:\r\n// // \t\t\t\t\t\t'{\"selectionsType\":2,\"selectListFieldNames\":{\"label\":\"itemName\",\"value\":\"id\",\"children\":\"children\"},\"selectionsUrl\":{\"selectionsUrlMethod\":\"post\",\"selectionsUrl\":\"/system-service/webapi/sysDictionary/listByTypeCode\",\"requireType\":\"all\"},\"selectionsQuery\":{\"typeCode\":\"case_type\"}}',\r\n// // \t\t\t\t\tdisabled: 0,\r\n// // \t\t\t\t\tinitialValue: 8,\r\n// // \t\t\t\t\tlabel: \"下拉测试异步\",\r\n// // \t\t\t\t\trequired: 1,\r\n// // \t\t\t\t\tspan: 8,\r\n// // \t\t\t\t\tseq: 15,\r\n// // \t\t\t\t},\r\n// // \t\t\t\t{\r\n// // \t\t\t\t\tfieldKey: \"asyncYYYYYY\",\r\n// // \t\t\t\t\tfieldType: 3,\r\n// // \t\t\t\t\tconfig:\r\n// // \t\t\t\t\t\t'{\"selectionsType\":2,\"selectListFieldNames\":{\"label\":\"itemName\",\"value\":\"id\",\"children\":\"children\"},\"selectionsUrl\":{\"selectionsUrlMethod\":\"post\",\"selectionsUrl\":\"/system-service/webapi/sysDictionary/listByParentId\",\"requireType\":\"all\"},\"selectionsQuery\":{\"id\":\"0\"}}',\r\n// // \t\t\t\t\tdisabled: 0,\r\n// // \t\t\t\t\tlabel: \"接收异步联动\",\r\n// // \t\t\t\t\trequired: 1,\r\n// // \t\t\t\t\tspan: 8,\r\n// // \t\t\t\t\tseq: 16,\r\n// // \t\t\t\t},\r\n// // \t\t\t\t{\r\n// // \t\t\t\t\tfieldKey: \"yearssss\",\r\n// // \t\t\t\t\tfieldType: 5,\r\n// // \t\t\t\t\tconfig: '{\"format\":\"YYYY\"}',\r\n// // \t\t\t\t\tdisabled: 0,\r\n// // \t\t\t\t\tlabel: \"年份\",\r\n// // \t\t\t\t\trequired: 1,\r\n// // \t\t\t\t\tspan: 8,\r\n// // \t\t\t\t\tseq: 17,\r\n// // \t\t\t\t},\r\n// // \t\t\t],\r\n// // \t\t\tseq: 1,\r\n// // \t\t},\r\n// // \t\t{\r\n// // \t\t\tid: 112,\r\n// // \t\t\tname: \"养犬人信息\",\r\n// // \t\t\tformFieldInfoList: [\r\n// // \t\t\t\t{\r\n// // \t\t\t\t\tfieldKey: \"name\",\r\n// // \t\t\t\t\tfieldType: 1,\r\n// // \t\t\t\t\tid: 475,\r\n// // \t\t\t\t\tconfig: '{\"maxLength\":8,\"minLength\":1}',\r\n// // \t\t\t\t\tinitialValue: null,\r\n// // \t\t\t\t\tlabel: \"养犬人姓名\",\r\n// // \t\t\t\t\tregularExpression: null,\r\n// // \t\t\t\t\trequired: 1,\r\n// // \t\t\t\t\tsectionId: 112,\r\n// // \t\t\t\t\tspan: 8,\r\n// // \t\t\t\t\tseq: 1,\r\n// // \t\t\t\t},\r\n// // \t\t\t\t{\r\n// // \t\t\t\t\tfieldKey: \"type\",\r\n// // \t\t\t\t\tfieldType: 3,\r\n// // \t\t\t\t\tid: 476,\r\n// // \t\t\t\t\tconfig: '{\"selectList\":[{\"label\":\"身份证\",\"value\":\"1\"},{\"label\":\"港澳通行证\",\"value\":\"2\"}]}',\r\n// // \t\t\t\t\tinitialValue: null,\r\n// // \t\t\t\t\tlabel: \"证件类型\",\r\n// // \t\t\t\t\tregularExpression: null,\r\n// // \t\t\t\t\trequired: 1,\r\n// // \t\t\t\t\tsectionId: 112,\r\n// // \t\t\t\t\tspan: 8,\r\n// // \t\t\t\t\tseq: 2,\r\n// // \t\t\t\t},\r\n// // \t\t\t\t{\r\n// // \t\t\t\t\tfieldKey: \"number\",\r\n// // \t\t\t\t\tfieldType: 4,\r\n// // \t\t\t\t\tid: 477,\r\n// // \t\t\t\t\tconfig: '{\"decimalLength\":0}',\r\n// // \t\t\t\t\tinitialValue: null,\r\n// // \t\t\t\t\tlabel: \"证件号码\",\r\n// // \t\t\t\t\tregularExpression: null,\r\n// // \t\t\t\t\trequired: 1,\r\n// // \t\t\t\t\tsectionId: 112,\r\n// // \t\t\t\t\tspan: 8,\r\n// // \t\t\t\t\tseq: 3,\r\n// // \t\t\t\t},\r\n// // \t\t\t\t{\r\n// // \t\t\t\t\tfieldKey: \"tel\",\r\n// // \t\t\t\t\tfieldType: 4,\r\n// // \t\t\t\t\tid: 478,\r\n// // \t\t\t\t\tconfig: '{\"decimalLength\":0}',\r\n// // \t\t\t\t\tinitialValue: null,\r\n// // \t\t\t\t\tlabel: \"移动电话\",\r\n// // \t\t\t\t\tregularExpression: null,\r\n// // \t\t\t\t\trequired: 1,\r\n// // \t\t\t\t\tsectionId: 112,\r\n// // \t\t\t\t\tspan: 8,\r\n// // \t\t\t\t\tseq: 4,\r\n// // \t\t\t\t},\r\n// // \t\t\t\t{\r\n// // \t\t\t\t\tfieldKey: \"telephone\",\r\n// // \t\t\t\t\tfieldType: 1,\r\n// // \t\t\t\t\tid: 479,\r\n// // \t\t\t\t\tconfig: '{\"maxLength\":20,\"minLength\":1}',\r\n// // \t\t\t\t\tinitialValue: null,\r\n// // \t\t\t\t\tlabel: \"固定电话\",\r\n// // \t\t\t\t\tregularExpression: null,\r\n// // \t\t\t\t\trequired: 0,\r\n// // \t\t\t\t\tsectionId: 112,\r\n// // \t\t\t\t\tspan: 8,\r\n// // \t\t\t\t\tseq: 5,\r\n// // \t\t\t\t},\r\n// // \t\t\t\t{\r\n// // \t\t\t\t\tfieldKey: \"email\",\r\n// // \t\t\t\t\tfieldType: 1,\r\n// // \t\t\t\t\tid: 480,\r\n// // \t\t\t\t\tconfig: '{\"maxLength\":20,\"minLength\":1}',\r\n// // \t\t\t\t\tinitialValue: null,\r\n// // \t\t\t\t\tlabel: \"电子邮箱\",\r\n// // \t\t\t\t\tregularExpression: null,\r\n// // \t\t\t\t\trequired: 0,\r\n// // \t\t\t\t\tsectionId: 112,\r\n// // \t\t\t\t\tspan: 8,\r\n// // \t\t\t\t\tseq: 6,\r\n// // \t\t\t\t},\r\n// // \t\t\t\t{\r\n// // \t\t\t\t\tfieldKey: \"dogCount\",\r\n// // \t\t\t\t\tfieldType: 4,\r\n// // \t\t\t\t\tid: 481,\r\n// // \t\t\t\t\tconfig: '{\"decimalLength\":0}',\r\n// // \t\t\t\t\tinitialValue: null,\r\n// // \t\t\t\t\tlabel: \"犬只数量\",\r\n// // \t\t\t\t\tregularExpression: null,\r\n// // \t\t\t\t\trequired: 1,\r\n// // \t\t\t\t\tsectionId: 112,\r\n// // \t\t\t\t\tspan: 8,\r\n// // \t\t\t\t\tseq: 7,\r\n// // \t\t\t\t},\r\n// // \t\t\t\t{\r\n// // \t\t\t\t\tfieldKey: \"address\",\r\n// // \t\t\t\t\tfieldType: 1,\r\n// // \t\t\t\t\tid: 482,\r\n// // \t\t\t\t\tconfig: '{\"maxLength\":50,\"minLength\":1}',\r\n// // \t\t\t\t\tinitialValue: null,\r\n// // \t\t\t\t\tlabel: \"详细地址\",\r\n// // \t\t\t\t\tregularExpression: null,\r\n// // \t\t\t\t\trequired: 0,\r\n// // \t\t\t\t\tsectionId: 112,\r\n// // \t\t\t\t\tspan: 8,\r\n// // \t\t\t\t\tseq: 8,\r\n// // \t\t\t\t},\r\n// // \t\t\t\t{\r\n// // \t\t\t\t\tfieldKey: \"domicile\",\r\n// // \t\t\t\t\tfieldType: 3,\r\n// // \t\t\t\t\tid: 483,\r\n// // \t\t\t\t\tconfig:\r\n// // \t\t\t\t\t\t'{\"selectList\":[{\"label\":\"自有\",\"value\":\"1\"},{\"label\":\"租赁\",\"value\":\"2\"},{\"label\":\"其他\",\"value\":\"3\"}]}',\r\n// // \t\t\t\t\tinitialValue: null,\r\n// // \t\t\t\t\tlabel: \"住所性质\",\r\n// // \t\t\t\t\tregularExpression: null,\r\n// // \t\t\t\t\trequired: 0,\r\n// // \t\t\t\t\tsectionId: 112,\r\n// // \t\t\t\t\tspan: 8,\r\n// // \t\t\t\t\tseq: 9,\r\n// // \t\t\t\t},\r\n// // \t\t\t],\r\n// // \t\t\tseq: 2,\r\n// // \t\t},\r\n// // \t\t{\r\n// // \t\t\tid: 113,\r\n// // \t\t\tname: \"领取方式\",\r\n// // \t\t\tformFieldInfoList: [\r\n// // \t\t\t\t{\r\n// // \t\t\t\t\tfieldKey: \"dogCard\",\r\n// // \t\t\t\t\tfieldType: 1,\r\n// // \t\t\t\t\tid: 484,\r\n// // \t\t\t\t\tconfig: '{\"maxLength\":8,\"minLength\":1}',\r\n// // \t\t\t\t\tinitialValue: \"电子犬证\",\r\n// // \t\t\t\t\tlabel: \"电子犬证\",\r\n// // \t\t\t\t\tregularExpression: null,\r\n// // \t\t\t\t\trequired: 1,\r\n// // \t\t\t\t\tsectionId: 113,\r\n// // \t\t\t\t\tspan: 8,\r\n// // \t\t\t\t\tseq: 1,\r\n// // \t\t\t\t},\r\n// // \t\t\t\t{\r\n// // \t\t\t\t\tfieldKey: \"isEntity\",\r\n// // \t\t\t\t\tfieldType: 9,\r\n// // \t\t\t\t\tid: 490,\r\n// // \t\t\t\t\tconfig: '{\"selectList\":[{\"label\":\"是\",\"value\":\"1\"},{\"label\":\"否\",\"value\":\"2\"}]}',\r\n// // \t\t\t\t\tinitialValue: \"2\",\r\n// // \t\t\t\t\tlabel: \"是否需要实体卡\",\r\n// // \t\t\t\t\tregularExpression: null,\r\n// // \t\t\t\t\trequired: 1,\r\n// // \t\t\t\t\tsectionId: 113,\r\n// // \t\t\t\t\tspan: 8,\r\n// // \t\t\t\t\tseq: 2,\r\n// // \t\t\t\t},\r\n// // \t\t\t\t{\r\n// // \t\t\t\t\tfieldKey: \"payment\",\r\n// // \t\t\t\t\tfieldType: 9,\r\n// // \t\t\t\t\tid: 485,\r\n// // \t\t\t\t\tconfig: '{\"selectList\":[{\"label\":\"自取\",\"value\":\"1\"},{\"label\":\"寄邮到付\",\"value\":\"2\"}]}',\r\n// // \t\t\t\t\tinitialValue: null,\r\n// // \t\t\t\t\tlabel: \"领取方式\",\r\n// // \t\t\t\t\tregularExpression: null,\r\n// // \t\t\t\t\trequired: 1,\r\n// // \t\t\t\t\tsectionId: 113,\r\n// // \t\t\t\t\tspan: 8,\r\n// // \t\t\t\t\tseq: 3,\r\n// // \t\t\t\t},\r\n// // \t\t\t\t{\r\n// // \t\t\t\t\tfieldKey: \"location\",\r\n// // \t\t\t\t\tfieldType: 1,\r\n// // \t\t\t\t\tid: 486,\r\n// // \t\t\t\t\tconfig: '{\"maxLength\":50,\"minLength\":1}',\r\n// // \t\t\t\t\tinitialValue: null,\r\n// // \t\t\t\t\tlabel: \"自取地址\",\r\n// // \t\t\t\t\tregularExpression: null,\r\n// // \t\t\t\t\trequired: 0,\r\n// // \t\t\t\t\tsectionId: 113,\r\n// // \t\t\t\t\tspan: 8,\r\n// // \t\t\t\t\tseq: 4,\r\n// // \t\t\t\t},\r\n// // \t\t\t\t{\r\n// // \t\t\t\t\tfieldKey: \"recipientName\",\r\n// // \t\t\t\t\tfieldType: 1,\r\n// // \t\t\t\t\tid: 487,\r\n// // \t\t\t\t\tconfig: '{\"maxLength\":8,\"minLength\":1}',\r\n// // \t\t\t\t\tinitialValue: null,\r\n// // \t\t\t\t\tlabel: \"收件人姓名\",\r\n// // \t\t\t\t\tregularExpression: null,\r\n// // \t\t\t\t\trequired: 0,\r\n// // \t\t\t\t\tsectionId: 113,\r\n// // \t\t\t\t\tspan: 8,\r\n// // \t\t\t\t\tseq: 5,\r\n// // \t\t\t\t},\r\n// // \t\t\t\t{\r\n// // \t\t\t\t\tfieldKey: \"contact\",\r\n// // \t\t\t\t\tfieldType: 4,\r\n// // \t\t\t\t\tid: 488,\r\n// // \t\t\t\t\tconfig: '{\"decimalLength\":0}',\r\n// // \t\t\t\t\tinitialValue: null,\r\n// // \t\t\t\t\tlabel: \"联系方式\",\r\n// // \t\t\t\t\tregularExpression: null,\r\n// // \t\t\t\t\trequired: 0,\r\n// // \t\t\t\t\tsectionId: 113,\r\n// // \t\t\t\t\tspan: 8,\r\n// // \t\t\t\t\tseq: 6,\r\n// // \t\t\t\t},\r\n// // \t\t\t\t{\r\n// // \t\t\t\t\tfieldKey: \" mailingAddress\",\r\n// // \t\t\t\t\tfieldType: 1,\r\n// // \t\t\t\t\tid: 489,\r\n// // \t\t\t\t\tconfig: '{\"maxLength\":50,\"minLength\":0}',\r\n// // \t\t\t\t\tinitialValue: null,\r\n// // \t\t\t\t\tlabel: \"邮寄地址\",\r\n// // \t\t\t\t\tregularExpression: null,\r\n// // \t\t\t\t\trequired: 0,\r\n// // \t\t\t\t\tsectionId: 113,\r\n// // \t\t\t\t\tspan: 8,\r\n// // \t\t\t\t\tseq: 7,\r\n// // \t\t\t\t},\r\n// // \t\t\t],\r\n// // \t\t\tseq: 3,\r\n// // \t\t},\r\n// // \t],\r\n// // \tlinkages:\r\n// // \t\t'[{\"linkageType\":\"7\",\"name\":\"单选联动其他控件异步选项\",\"src\":{\"fieldKey\":\"asyncTests\",\"label\":\"下拉测试异步\",\"fieldType\":3},\"dist\":[{\"fields\":[{\"srcKey\":\"asyncTests\",\"fieldKey\":\"asyncYYYYYY\",\"label\":\"接收异步联动\",\"fieldType\":3,\"asyncParamName\":\"id\"}]}],\"asyncParamName\":\"id\"}]',\r\n// // };\r\n\r\n// // {\r\n// // \tlinkageType: \"4\",\r\n// // \tname: \"单选/多选 控制 选项\",\r\n// // \tsrc: { fieldKey: \"rfid\" },\r\n// // \tdist: [\r\n// // \t\t{\r\n// // \t\t\tsrcValue: \"1\",\r\n// // \t\t\tfields: [\r\n// // \t\t\t\t{\r\n// // \t\t\t\t\tfieldKey: \"domicile\",\r\n// // \t\t\t\t\tlabel: \"住所性质\",\r\n// // \t\t\t\t\toptions: [\r\n// // \t\t\t\t\t\t{ label: \"自有\", value: \"1\" },\r\n// // \t\t\t\t\t\t{ label: \"租赁\", value: \"2\" },\r\n// // \t\t\t\t\t\t{ label: \"其他\", value: \"3\" },\r\n// // \t\t\t\t\t],\r\n// // \t\t\t\t},\r\n// // \t\t\t],\r\n// // \t\t},\r\n// // \t\t{\r\n// // \t\t\tsrcValue: \"2\",\r\n// // \t\t\tfields: [\r\n// // \t\t\t\t{\r\n// // \t\t\t\t\tfieldKey: \"domicile\",\r\n// // \t\t\t\t\tlabel: \"住所性质\",\r\n// // \t\t\t\t\toptions: [{ label: \"自有\", value: \"1\" }],\r\n// // \t\t\t\t},\r\n// // \t\t\t],\r\n// // \t\t},\r\n// // \t],\r\n// // },\r\n\r\nexport default {\r\n\tlabelLayout: \"inline\",\r\n\tid: 1050,\r\n\tname: \"巡查员问题处理表单(新)\",\r\n\tcode: \"problem_flow_new_xcj_deal_form\",\r\n\tversion: 14,\r\n\tseq: 0,\r\n\tdescription: \"巡查员问题处理表单(新)\",\r\n\tconfiguration: null,\r\n\tlinkages:\r\n\t\t'[{\"linkageType\":\"5.1\",\"name\":\"单选/多选控制组隐藏\",\"src\":{\"fieldKey\":\"dealTag\",\"label\":\"处理方式\",\"fieldType\":9},\"dist\":[{\"srcKey\":\"dealTag\",\"srcValue\":\"1\",\"valueLabel\":\"劝告\",\"fields\":[{\"groupId\":955,\"groupName\":\"警告详情\"},{\"groupId\":956,\"groupName\":\"报告详情\"}]},{\"srcKey\":\"dealTag\",\"srcValue\":\"2\",\"valueLabel\":\"警告\",\"fields\":[{\"groupId\":954,\"groupName\":\"劝告详情\"},{\"groupId\":956,\"groupName\":\"报告详情\"}]},{\"srcKey\":\"dealTag\",\"srcValue\":\"3\",\"valueLabel\":\"报告\",\"fields\":[{\"groupId\":954,\"groupName\":\"劝告详情\"},{\"groupId\":955,\"groupName\":\"警告详情\"}]}]},{\"linkageType\":\"7\",\"name\":\"单选联动其他控件异步选项\",\"src\":{\"fieldKey\":\"problemType\",\"label\":\"问题类型\",\"fieldType\":3},\"dist\":[{\"fields\":[{\"fieldKey\":\"problemReason\",\"fieldType\":3,\"label\":\"问题原由\",\"asyncParamName\":\"itemValue\"}]}],\"asyncParamName\":\"itemValue\"}]',\r\n\tcustomOnChange: null,\r\n\tformTypeId: 2,\r\n\trequiredMsg: null,\r\n\tgmtCreate: \"2019-08-22 09:03:22\",\r\n\tgmtModified: \"2019-08-22 09:03:22\",\r\n\tsectionList: [\r\n\t\t{\r\n\t\t\tid: 1321,\r\n\t\t\tformId: 1050,\r\n\t\t\tname: \"问题信息\",\r\n\t\t\tseq: 1,\r\n\t\t\tdescription: null,\r\n\t\t\tgmtCreate: \"2019-08-22 09:03:22\",\r\n\t\t\tgmtModified: \"2019-08-22 09:03:22\",\r\n\t\t\tformFieldInfoList: [\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: \"自定义\",\r\n\t\t\t\t\tfieldKey: \"mycustoms\",\r\n\t\t\t\t\tfieldType: 14,\r\n\t\t\t\t\trequired: 1,\r\n\t\t\t\t\tdisabled: 0,\r\n\t\t\t\t\tregularExpression: null,\r\n\t\t\t\t\tdescription: null,\r\n\t\t\t\t\terrorMsg: null,\r\n\t\t\t\t\tplaceholder: null,\r\n\t\t\t\t\tspan: 24,\r\n\t\t\t\t\tlabelWidth: null,\r\n\t\t\t\t\tconfig: \"{}\",\r\n\t\t\t\t\tinitialValue: null,\r\n\t\t\t\t\tseq: 1,\r\n\t\t\t\t\tisFormItem: false,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tid: 4435,\r\n\t\t\t\t\tsectionId: 1321,\r\n\t\t\t\t\tlabel: \"现场图片\",\r\n\t\t\t\t\tfieldKey: \"problemPictures\",\r\n\t\t\t\t\tfieldType: 11,\r\n\t\t\t\t\trequired: 1,\r\n\t\t\t\t\tdisabled: 0,\r\n\t\t\t\t\tregularExpression: null,\r\n\t\t\t\t\tdescription: null,\r\n\t\t\t\t\terrorMsg: null,\r\n\t\t\t\t\tplaceholder: null,\r\n\t\t\t\t\tspan: 24,\r\n\t\t\t\t\tlabelWidth: null,\r\n\t\t\t\t\tconfig:\r\n\t\t\t\t\t\t'{\"url\":\"/file-upload-service/webapi/v1.0/fileUpload/huawei/uploadFile\",\"fileAccept\":\"image/*\",\"fileListType\":\"picture-card\",\"wxSourceTypes\":[\"album\",\"camera\"],\"uploaderResponse\":{\"id\":\"id\",\"filePath\":\"filePath\",\"fileSuffix\":\"fileSuffix\",\"originalFileName\":\"originalFileName\"},\"autoUpload\":1,\"maxMegabytes\":10,\"urlMethod\":\"post\",\"urlParamName\":\"file\",\"requestMode\":\"single\",\"minUploadLength\":2}',\r\n\t\t\t\t\tinitialValue: null,\r\n\t\t\t\t\tseq: 1,\r\n\t\t\t\t\tgmtCreate: \"2019-08-22 09:03:22\",\r\n\t\t\t\t\tgmtModified: \"2019-08-22 09:03:22\",\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tid: 4436,\r\n\t\t\t\t\tsectionId: 1321,\r\n\t\t\t\t\tlabel: \"当事人\",\r\n\t\t\t\t\tfieldKey: \"litigantName\",\r\n\t\t\t\t\tfieldType: 1,\r\n\t\t\t\t\trequired: 1,\r\n\t\t\t\t\tdisabled: 0,\r\n\t\t\t\t\tregularExpression: null,\r\n\t\t\t\t\tdescription: null,\r\n\t\t\t\t\terrorMsg: null,\r\n\t\t\t\t\tplaceholder: null,\r\n\t\t\t\t\tspan: 20,\r\n\t\t\t\t\tlabelWidth: null,\r\n\t\t\t\t\tconfig: '{\"maxLength\":40,\"minLength\":2,\"type\":\"text\"}',\r\n\t\t\t\t\tinitialValue: null,\r\n\t\t\t\t\tseq: 2,\r\n\t\t\t\t\tgmtCreate: \"2019-08-22 09:03:22\",\r\n\t\t\t\t\tgmtModified: \"2019-08-22 09:03:22\",\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tid: 4437,\r\n\t\t\t\t\tsectionId: 1321,\r\n\t\t\t\t\tlabel: \"问题类型\",\r\n\t\t\t\t\tfieldKey: \"problemType\",\r\n\t\t\t\t\tfieldType: 3,\r\n\t\t\t\t\trequired: 1,\r\n\t\t\t\t\tdisabled: 0,\r\n\t\t\t\t\tregularExpression: null,\r\n\t\t\t\t\tdescription: null,\r\n\t\t\t\t\terrorMsg: null,\r\n\t\t\t\t\tplaceholder: null,\r\n\t\t\t\t\tspan: 24,\r\n\t\t\t\t\tlabelWidth: null,\r\n\t\t\t\t\tconfig:\r\n\t\t\t\t\t\t'{\"selectionsType\":2,\"selectListFieldNames\":{\"label\":\"itemName\",\"value\":\"itemValue\",\"children\":\"children\"},\"selectionsUrl\":{\"selectionsUrlMethod\":\"post\",\"selectionsUrl\":\"/system-service/api/sysDictionary/listByTypeCode\",\"requireType\":\"all\"},\"selectionsQuery\":{\"typeCode\":\"problem_type\"},\"mode\":\"single\",\"notFoundContent\":\"无相关数据\"}',\r\n\t\t\t\t\tinitialValue: null,\r\n\t\t\t\t\tseq: 3,\r\n\t\t\t\t\tgmtCreate: \"2019-08-22 09:03:22\",\r\n\t\t\t\t\tgmtModified: \"2019-08-22 09:03:22\",\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tid: 4438,\r\n\t\t\t\t\tsectionId: 1321,\r\n\t\t\t\t\tlabel: \"问题原由\",\r\n\t\t\t\t\tfieldKey: \"problemReason\",\r\n\t\t\t\t\tfieldType: 3,\r\n\t\t\t\t\trequired: 1,\r\n\t\t\t\t\tdisabled: 0,\r\n\t\t\t\t\tregularExpression: null,\r\n\t\t\t\t\tdescription: null,\r\n\t\t\t\t\terrorMsg: null,\r\n\t\t\t\t\tplaceholder: null,\r\n\t\t\t\t\tspan: 24,\r\n\t\t\t\t\tlabelWidth: null,\r\n\t\t\t\t\tconfig:\r\n\t\t\t\t\t\t'{\"selectionsType\":2,\"selectListFieldNames\":{\"label\":\"itemName\",\"value\":\"itemValue\",\"children\":\"children\"},\"selectionsUrl\":{\"selectionsUrlMethod\":\"post\",\"selectionsUrl\":\"/system-service/api/sysDictionary/listByItemValue\",\"requireType\":\"all\"},\"selectionsQuery\":{\"itemValue\":\"000\"},\"mode\":\"single\",\"notFoundContent\":\"无相关数据\"}',\r\n\t\t\t\t\tinitialValue: null,\r\n\t\t\t\t\tseq: 4,\r\n\t\t\t\t\tgmtCreate: \"2019-08-22 09:03:22\",\r\n\t\t\t\t\tgmtModified: \"2019-08-22 09:03:22\",\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tid: 4439,\r\n\t\t\t\t\tsectionId: 1321,\r\n\t\t\t\t\tlabel: \"案发地址\",\r\n\t\t\t\t\tfieldKey: \"problemAddress\",\r\n\t\t\t\t\tfieldType: 13,\r\n\t\t\t\t\trequired: 1,\r\n\t\t\t\t\tdisabled: 0,\r\n\t\t\t\t\tregularExpression: null,\r\n\t\t\t\t\tdescription: null,\r\n\t\t\t\t\terrorMsg: null,\r\n\t\t\t\t\tplaceholder: null,\r\n\t\t\t\t\tspan: 24,\r\n\t\t\t\t\tlabelWidth: null,\r\n\t\t\t\t\tconfig:\r\n\t\t\t\t\t\t'{\"mapType\":\"qqmap\",\"secretKey\":\"63QBZ-B5GKV-46RPH-UCUF2-K5TUJ-OKBAK\",\"webserviceUrlDO\":{\"urlMethod\":\"post\",\"url\":\"/system-service/webapi/geography/webService\"}}',\r\n\t\t\t\t\tinitialValue: null,\r\n\t\t\t\t\tseq: 5,\r\n\t\t\t\t\tgmtCreate: \"2019-08-22 09:03:22\",\r\n\t\t\t\t\tgmtModified: \"2019-08-22 09:03:22\",\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t\t{\r\n\t\t\tid: 1322,\r\n\t\t\tformId: 1050,\r\n\t\t\tname: \"问题处理\",\r\n\t\t\tseq: 2,\r\n\t\t\tdescription: null,\r\n\t\t\tgmtCreate: \"2019-08-22 09:03:22\",\r\n\t\t\tgmtModified: \"2019-08-22 09:03:22\",\r\n\t\t\tformFieldInfoList: [\r\n\t\t\t\t{\r\n\t\t\t\t\tid: 4441,\r\n\t\t\t\t\tsectionId: 1322,\r\n\t\t\t\t\tlabel: \"处理方式\",\r\n\t\t\t\t\tfieldKey: \"dealTag\",\r\n\t\t\t\t\tfieldType: 9,\r\n\t\t\t\t\trequired: 1,\r\n\t\t\t\t\tdisabled: 0,\r\n\t\t\t\t\tregularExpression: null,\r\n\t\t\t\t\tdescription: null,\r\n\t\t\t\t\terrorMsg: null,\r\n\t\t\t\t\tplaceholder: null,\r\n\t\t\t\t\tspan: 24,\r\n\t\t\t\t\tlabelWidth: null,\r\n\t\t\t\t\tconfig:\r\n\t\t\t\t\t\t'{\"selectionsType\":1,\"selectListFieldNames\":{\"label\":\"label\",\"value\":\"value\",\"children\":\"children\"},\"selectList\":[{\"id\":\"784184431564453400000\",\"selected\":true,\"label\":\"劝告\",\"value\":\"1\"},{\"id\":\"455066461564453500000\",\"label\":\"警告\",\"value\":\"2\"},{\"id\":\"611918881564453500000\",\"label\":\"报告\",\"value\":\"3\"}],\"selectionsQuery\":{}}',\r\n\t\t\t\t\tinitialValue: \"1\",\r\n\t\t\t\t\tseq: 1,\r\n\t\t\t\t\tgmtCreate: \"2019-08-22 09:03:22\",\r\n\t\t\t\t\tgmtModified: \"2019-08-22 09:03:22\",\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t\t{\r\n\t\t\tid: 1323,\r\n\t\t\tformId: 1050,\r\n\t\t\tname: \"劝告详情\",\r\n\t\t\tseq: 3,\r\n\t\t\tdescription: null,\r\n\t\t\tgmtCreate: \"2019-08-22 09:03:22\",\r\n\t\t\tgmtModified: \"2019-08-22 09:03:22\",\r\n\t\t\tformFieldInfoList: [\r\n\t\t\t\t{\r\n\t\t\t\t\tid: 4442,\r\n\t\t\t\t\tsectionId: 1323,\r\n\t\t\t\t\tlabel: \"劝告后的图片\",\r\n\t\t\t\t\tfieldKey: \"advisePictures\",\r\n\t\t\t\t\tfieldType: 11,\r\n\t\t\t\t\trequired: 1,\r\n\t\t\t\t\tdisabled: 0,\r\n\t\t\t\t\tregularExpression: null,\r\n\t\t\t\t\tdescription: null,\r\n\t\t\t\t\terrorMsg: null,\r\n\t\t\t\t\tplaceholder: null,\r\n\t\t\t\t\tspan: 24,\r\n\t\t\t\t\tlabelWidth: null,\r\n\t\t\t\t\tconfig:\r\n\t\t\t\t\t\t'{\"url\":\"/file-upload-service/webapi/v1.0/fileUpload/huawei/uploadFile\",\"fileAccept\":\"image/*\",\"fileListType\":\"picture-card\",\"wxSourceTypes\":[\"album\",\"camera\"],\"uploaderResponse\":{\"id\":\"id\",\"filePath\":\"filePath\",\"fileSuffix\":\"fileSuffix\",\"originalFileName\":\"originalFileName\"},\"autoUpload\":1,\"maxMegabytes\":10,\"urlMethod\":\"post\",\"urlParamName\":\"file\",\"requestMode\":\"single\"}',\r\n\t\t\t\t\tinitialValue: null,\r\n\t\t\t\t\tseq: 1,\r\n\t\t\t\t\tgmtCreate: \"2019-08-22 09:03:22\",\r\n\t\t\t\t\tgmtModified: \"2019-08-22 09:03:22\",\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tid: 4443,\r\n\t\t\t\t\tsectionId: 1323,\r\n\t\t\t\t\tlabel: \"备注信息\",\r\n\t\t\t\t\tfieldKey: \"adviseRemark\",\r\n\t\t\t\t\tfieldType: 2,\r\n\t\t\t\t\trequired: 0,\r\n\t\t\t\t\tdisabled: 0,\r\n\t\t\t\t\tregularExpression: null,\r\n\t\t\t\t\tdescription: null,\r\n\t\t\t\t\terrorMsg: null,\r\n\t\t\t\t\tplaceholder: null,\r\n\t\t\t\t\tspan: 24,\r\n\t\t\t\t\tlabelWidth: null,\r\n\t\t\t\t\tconfig: '{\"maxLength\":300,\"minLength\":0}',\r\n\t\t\t\t\tinitialValue: null,\r\n\t\t\t\t\tseq: 2,\r\n\t\t\t\t\tgmtCreate: \"2019-08-22 09:03:22\",\r\n\t\t\t\t\tgmtModified: \"2019-08-22 09:03:22\",\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t\t{\r\n\t\t\tid: 1324,\r\n\t\t\tformId: 1050,\r\n\t\t\tname: \"警告详情\",\r\n\t\t\tseq: 4,\r\n\t\t\tdescription: null,\r\n\t\t\tgmtCreate: \"2019-08-22 09:03:22\",\r\n\t\t\tgmtModified: \"2019-08-22 09:03:22\",\r\n\t\t\tformFieldInfoList: [\r\n\t\t\t\t{\r\n\t\t\t\t\tid: 4444,\r\n\t\t\t\t\tsectionId: 1324,\r\n\t\t\t\t\tlabel: \"警告后的图片\",\r\n\t\t\t\t\tfieldKey: \"warnPictrures\",\r\n\t\t\t\t\tfieldType: 11,\r\n\t\t\t\t\trequired: 1,\r\n\t\t\t\t\tdisabled: 0,\r\n\t\t\t\t\tregularExpression: null,\r\n\t\t\t\t\tdescription: null,\r\n\t\t\t\t\terrorMsg: null,\r\n\t\t\t\t\tplaceholder: null,\r\n\t\t\t\t\tspan: 24,\r\n\t\t\t\t\tlabelWidth: null,\r\n\t\t\t\t\tconfig:\r\n\t\t\t\t\t\t'{\"url\":\"/file-upload-service/webapi/v1.0/fileUpload/huawei/uploadFile\",\"fileAccept\":\"image/*\",\"fileListType\":\"picture-card\",\"wxSourceTypes\":[\"album\",\"camera\"],\"uploaderResponse\":{\"id\":\"id\",\"filePath\":\"filePath\",\"fileSuffix\":\"fileSuffix\",\"originalFileName\":\"originalFileName\"},\"autoUpload\":1,\"maxMegabytes\":10,\"urlMethod\":\"post\",\"urlParamName\":\"file\",\"requestMode\":\"single\"}',\r\n\t\t\t\t\tinitialValue: null,\r\n\t\t\t\t\tseq: 1,\r\n\t\t\t\t\tgmtCreate: \"2019-08-22 09:03:22\",\r\n\t\t\t\t\tgmtModified: \"2019-08-22 09:03:22\",\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tid: 4445,\r\n\t\t\t\t\tsectionId: 1324,\r\n\t\t\t\t\tlabel: \"备注说明\",\r\n\t\t\t\t\tfieldKey: \"warnRemark\",\r\n\t\t\t\t\tfieldType: 2,\r\n\t\t\t\t\trequired: 0,\r\n\t\t\t\t\tdisabled: 0,\r\n\t\t\t\t\tregularExpression: null,\r\n\t\t\t\t\tdescription: null,\r\n\t\t\t\t\terrorMsg: null,\r\n\t\t\t\t\tplaceholder: null,\r\n\t\t\t\t\tspan: 24,\r\n\t\t\t\t\tlabelWidth: null,\r\n\t\t\t\t\tconfig: '{\"maxLength\":300,\"minLength\":0}',\r\n\t\t\t\t\tinitialValue: null,\r\n\t\t\t\t\tseq: 2,\r\n\t\t\t\t\tgmtCreate: \"2019-08-22 09:03:22\",\r\n\t\t\t\t\tgmtModified: \"2019-08-22 09:03:22\",\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t\t{\r\n\t\t\tid: 1325,\r\n\t\t\tformId: 1050,\r\n\t\t\tname: \"报告详情\",\r\n\t\t\tseq: 5,\r\n\t\t\tdescription: null,\r\n\t\t\tgmtCreate: \"2019-08-22 09:03:22\",\r\n\t\t\tgmtModified: \"2019-08-22 09:03:22\",\r\n\t\t\tformFieldInfoList: [\r\n\t\t\t\t{\r\n\t\t\t\t\tid: 4446,\r\n\t\t\t\t\tsectionId: 1325,\r\n\t\t\t\t\tlabel: \"报告接收人员\",\r\n\t\t\t\t\tfieldKey: \"reportUserId\",\r\n\t\t\t\t\tfieldType: 3,\r\n\t\t\t\t\trequired: 1,\r\n\t\t\t\t\tdisabled: 0,\r\n\t\t\t\t\tregularExpression: null,\r\n\t\t\t\t\tdescription: null,\r\n\t\t\t\t\terrorMsg: null,\r\n\t\t\t\t\tplaceholder: null,\r\n\t\t\t\t\tspan: 24,\r\n\t\t\t\t\tlabelWidth: null,\r\n\t\t\t\t\tconfig:\r\n\t\t\t\t\t\t'{\"selectionsType\":2,\"selectListFieldNames\":{\"label\":\"userName\",\"value\":\"userAccount\",\"children\":\"children\"},\"selectionsUrl\":{\"selectionsUrlMethod\":\"post\",\"selectionsUrl\":\"/tibmas2-webapi/api/v1.0/user/listUserByDeptIdAndRoleCodesWithPathVarXcjHandler\",\"requireType\":\"all\"},\"selectionsQuery\":{\"roleCodes\":\"AREA_MGR\"},\"mode\":\"single\"}',\r\n\t\t\t\t\tinitialValue: null,\r\n\t\t\t\t\tseq: 1,\r\n\t\t\t\t\tgmtCreate: \"2019-08-22 09:03:22\",\r\n\t\t\t\t\tgmtModified: \"2019-08-22 09:03:22\",\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tid: 4447,\r\n\t\t\t\t\tsectionId: 1325,\r\n\t\t\t\t\tlabel: \"是否为紧急问题\",\r\n\t\t\t\t\tfieldKey: \"emergencyTag\",\r\n\t\t\t\t\tfieldType: 9,\r\n\t\t\t\t\trequired: 1,\r\n\t\t\t\t\tdisabled: 0,\r\n\t\t\t\t\tregularExpression: null,\r\n\t\t\t\t\tdescription: null,\r\n\t\t\t\t\terrorMsg: null,\r\n\t\t\t\t\tplaceholder: null,\r\n\t\t\t\t\tspan: 24,\r\n\t\t\t\t\tlabelWidth: null,\r\n\t\t\t\t\tconfig:\r\n\t\t\t\t\t\t'{\"selectionsType\":1,\"selectListFieldNames\":{\"label\":\"label\",\"value\":\"value\",\"children\":\"children\"},\"selectList\":[{\"id\":\"6665571564456293000\",\"label\":\"否\",\"value\":\"0\"},{\"id\":\"847325661564456300000\",\"label\":\"是\",\"value\":\"1\"}],\"selectionsQuery\":{}}',\r\n\t\t\t\t\tinitialValue: null,\r\n\t\t\t\t\tseq: 2,\r\n\t\t\t\t\tgmtCreate: \"2019-08-22 09:03:22\",\r\n\t\t\t\t\tgmtModified: \"2019-08-22 09:03:22\",\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tid: 4448,\r\n\t\t\t\t\tsectionId: 1325,\r\n\t\t\t\t\tlabel: \"备注说明\",\r\n\t\t\t\t\tfieldKey: \"repoartRemark\",\r\n\t\t\t\t\tfieldType: 2,\r\n\t\t\t\t\trequired: 0,\r\n\t\t\t\t\tdisabled: 0,\r\n\t\t\t\t\tregularExpression: null,\r\n\t\t\t\t\tdescription: null,\r\n\t\t\t\t\terrorMsg: null,\r\n\t\t\t\t\tplaceholder: null,\r\n\t\t\t\t\tspan: 24,\r\n\t\t\t\t\tlabelWidth: null,\r\n\t\t\t\t\tconfig: '{\"maxLength\":300,\"minLength\":0}',\r\n\t\t\t\t\tinitialValue: null,\r\n\t\t\t\t\tseq: 3,\r\n\t\t\t\t\tgmtCreate: \"2019-08-22 09:03:22\",\r\n\t\t\t\t\tgmtModified: \"2019-08-22 09:03:22\",\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t],\r\n\tbuttonList: [],\r\n\tformSubmitTypeCode: 1,\r\n\tcustomControlRender: {\r\n\t\tmycustoms: function(data) {\r\n\t\t\tconsole.log(data);\r\n\t\t\treturn 999;\r\n\t\t},\r\n\t},\r\n};\r\n","import React, { useState, useEffect, useRef, useImperativeHandle, useCallback } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { getControl } from \"../Zform/controls\";\r\nimport { Input, Col } from \"antd\";\r\nimport { getStyle } from \"../zTool\";\r\nconst propTypes = {\r\n\tsize: PropTypes.string,\r\n\tselectList: PropTypes.arrayOf(PropTypes.object),\r\n\tvalue: PropTypes.object,\r\n\tvalueKey: PropTypes.object,\r\n\tdisabled: PropTypes.bool,\r\n\tleftPlaceholder: PropTypes.string,\r\n\tcenterPlaceholder: PropTypes.string,\r\n\trightPlaceholder: PropTypes.string,\r\n\tcontrolCostrom: PropTypes.object,\r\n\tcustomControls: PropTypes.array,\r\n};\r\nconst defaultProps = {\r\n\tvalueKey: { left: \"label\", center: \"value\", right: \"paramName\" },\r\n\tsize: \"default\",\r\n\tselectList: [],\r\n\tleftSpan: 6,\r\n\tcenterSpan: 12,\r\n\trightSpan: 6,\r\n\tdisabled: false,\r\n\tcontrolCostrom: { left: null, center: null, right: null },\r\n\tcustomControls: [],\r\n};\r\n\r\nfunction getNewValue(value, valueKey, currentValue, customControls) {\r\n\tlet newValue = {};\r\n\tif (value) {\r\n\t\tnewValue = { ...value, ...currentValue };\r\n\t} else {\r\n\t\tObject.values(valueKey).forEach(v => {\r\n\t\t\tnewValue[v] = \"\";\r\n\t\t});\r\n\t\tcustomControls.forEach(item => {\r\n\t\t\tnewValue[item.key] = \"\";\r\n\t\t});\r\n\t\tnewValue = { ...newValue, ...currentValue };\r\n\t}\r\n\treturn newValue;\r\n}\r\n\r\nconst MyComponent = React.forwardRef(function ZselectInput(props, ref) {\r\n\tconst {\r\n\t\tsize,\r\n\t\tselectList,\r\n\t\tleftSpan,\r\n\t\tcenterSpan,\r\n\t\trightSpan,\r\n\t\tonChange,\r\n\t\tvalue,\r\n\t\tvalueKey,\r\n\t\tdisabled,\r\n\t\tclassName,\r\n\t\tleftPlaceholder,\r\n\t\tcenterPlaceholder,\r\n\t\trightPlaceholder,\r\n\t\tcontrolCostrom,\r\n\t\tcustomControls,\r\n\t} = props;\r\n\tconst customChange = (val, key) => {\r\n\t\tconst currentValue = { [key]: val };\r\n\t\tlet newValue = getNewValue(value, valueKey, currentValue, customControls);\r\n\t\ttypeof onChange === \"function\" && onChange(newValue);\r\n\t};\r\n\tconst leftChange = val => {\r\n\t\tcustomChange(val, valueKey.left);\r\n\t};\r\n\tconst centerChange = val => {\r\n\t\tcustomChange(val, valueKey.center);\r\n\t};\r\n\tconst rightChange = val => {\r\n\t\tcustomChange(val, valueKey.right);\r\n\t};\r\n\tconst wrapperElRef = useRef();\r\n\tconst _left = value && value[valueKey.left] !== undefined ? value[valueKey.left] : \"\";\r\n\tconst _center = value && value[valueKey.center] !== undefined ? value[valueKey.center] : \"\";\r\n\tconst _right = value && value[valueKey.right] !== undefined ? value[valueKey.right] : \"\";\r\n\tuseEffect(() => {\r\n\t\tconst warperEl = wrapperElRef.current.querySelector(\".z-select-input\");\r\n\t\tif (warperEl) {\r\n\t\t\tArray.from(warperEl.children).forEach((el, i) => {\r\n\t\t\t\tel.removeAttribute(\"style\");\r\n\t\t\t\tconst currentWidth = getStyle(el, \"width\");\r\n\t\t\t\tif (/\\%$/.test(currentWidth) && i !== 0) {\r\n\t\t\t\t\tel.style.width = `calc(${currentWidth} + 1px)`;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}, [leftSpan, centerSpan, rightSpan]);\r\n\r\n\treturn (\r\n\t\t<div ref={wrapperElRef}>\r\n\t\t\t<Input.Group compact size={size} className={`z-select-input ${className || \"\"}`}>\r\n\t\t\t\t{leftSpan ? (\r\n\t\t\t\t\t<Col span={leftSpan}>\r\n\t\t\t\t\t\t{typeof controlCostrom.left === \"function\"\r\n\t\t\t\t\t\t\t? controlCostrom.left(_left, leftChange)\r\n\t\t\t\t\t\t\t: getControl(\"Select\", {\r\n\t\t\t\t\t\t\t\t\tvalue: _left,\r\n\t\t\t\t\t\t\t\t\tselectList,\r\n\t\t\t\t\t\t\t\t\tonChange: leftChange,\r\n\t\t\t\t\t\t\t\t\tdisabled,\r\n\t\t\t\t\t\t\t\t\tclassName: \"z-label\",\r\n\t\t\t\t\t\t\t\t\tplaceholder: leftPlaceholder,\r\n\t\t\t\t\t\t\t  })}\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t) : null}\r\n\t\t\t\t{centerSpan ? (\r\n\t\t\t\t\t<Col span={centerSpan}>\r\n\t\t\t\t\t\t{typeof controlCostrom.center === \"function\"\r\n\t\t\t\t\t\t\t? controlCostrom.center(_center, centerChange)\r\n\t\t\t\t\t\t\t: getControl(\"Input\", {\r\n\t\t\t\t\t\t\t\t\tvalue: _center,\r\n\t\t\t\t\t\t\t\t\tonChange: e => {\r\n\t\t\t\t\t\t\t\t\t\tcenterChange(e);\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tdisabled,\r\n\t\t\t\t\t\t\t\t\tclassName: \"z-value\",\r\n\t\t\t\t\t\t\t\t\tplaceholder: centerPlaceholder,\r\n\t\t\t\t\t\t\t  })}\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t) : null}\r\n\t\t\t\t{rightSpan ? (\r\n\t\t\t\t\t<Col span={rightSpan}>\r\n\t\t\t\t\t\t{typeof controlCostrom.right === \"function\"\r\n\t\t\t\t\t\t\t? controlCostrom.right(_right, rightChange)\r\n\t\t\t\t\t\t\t: getControl(\"Input\", {\r\n\t\t\t\t\t\t\t\t\tvalue: _right,\r\n\t\t\t\t\t\t\t\t\tonChange: e => {\r\n\t\t\t\t\t\t\t\t\t\trightChange(e);\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tdisabled,\r\n\t\t\t\t\t\t\t\t\tclassName: \"z-name\",\r\n\t\t\t\t\t\t\t\t\tplaceholder: rightPlaceholder,\r\n\t\t\t\t\t\t\t  })}\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t) : null}\r\n\t\t\t\t{customControls.map(item => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<Col span={item.span} key={item.key}>\r\n\t\t\t\t\t\t\t{item.render(value, item, customChange)}\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t);\r\n\t\t\t\t})}\r\n\t\t\t</Input.Group>\r\n\t\t</div>\r\n\t);\r\n});\r\nMyComponent.propTypes = propTypes;\r\nMyComponent.defaultProps = defaultProps;\r\nexport default React.memo(MyComponent);\r\n","import React, { useState, useEffect, useRef, useImperativeHandle, useCallback } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { Icon, Modal, message } from \"antd\";\r\nimport { getControl } from \"../Zform/controls\";\r\nimport httpAjax from \"../zTool/httpAjax\";\r\nimport { dataType } from \"../zTool\";\r\nimport ZerodMainContext from \"../ZerodMainContext\";\r\nimport ZerodLayerContext from \"../ZerodLayerContext\";\r\nimport Zviewer from \"../Zviewer\";\r\nfunction getFileUids(files, key = \"uid\") {\r\n\treturn files.map(file => {\r\n\t\treturn file[key];\r\n\t});\r\n}\r\nconst propTypes = {\r\n\tconfig: PropTypes.object,\r\n\tgetUserInfo: PropTypes.func,\r\n\tgetInsertLocation: PropTypes.func,\r\n\tgetLayerModalInsertLocation: PropTypes.func,\r\n\tshowModalLoading: PropTypes.func,\r\n\tshowLayerModalLoading: PropTypes.func,\r\n\tvalue: PropTypes.array,\r\n\tonChange: PropTypes.func,\r\n\tfield: PropTypes.object,\r\n\tnoWrapper: PropTypes.bool,\r\n};\r\nconst defaultProps = {\r\n\tgetUserInfo: function() {\r\n\t\treturn {};\r\n\t},\r\n\tgetInsertLocation: function() {\r\n\t\treturn null;\r\n\t},\r\n\tshowModalLoading: function() {\r\n\t\treturn null;\r\n\t},\r\n\tnoWrapper: false,\r\n};\r\n/**\r\n * config\r\n * \t{\r\n * \t\turl: string //多文件上传的接口,\r\n * \t\turlMethod: string //多文件上传请求方式,\r\n * \t\turlParamName: string //上传接口的参数名,\r\n *      uploaderResponse: object //转发value接收的字段名\r\n * \t\tuserIdName: string ,// 用户id参数名\r\n *      autoUpload ：boolean //是否自动上传（是否出现确认上传按钮）\r\n *      requestMode: string  //上传接口上传模式  single(单文件) | multiple(多文件)\r\n *      isSourceFile ： boolean // onChange事件导出的value是否带着文件流数据，true时以上属性都无效，即不会调用上传接口，不会出现确认上传按钮\r\n *      fileAccept: string //上传可选的文件类型\r\n *      maxUploadLength ： number  //最大上传数量\r\n *      fileListType ： stirng  //列表展示模式  picture | picture-card\r\n *      maxMegabytes : number // 允许选择最大文件大小（M） 默认 10M\r\n * \t}\r\n */\r\n//上传文件组件(多文件)\r\nconst MyUpload = React.forwardRef(function(props, ref) {\r\n\tconst {\r\n\t\tconfig,\r\n\t\tgetUserInfo,\r\n\t\tgetInsertLocation,\r\n\t\tgetLayerModalInsertLocation,\r\n\t\tshowModalLoading,\r\n\t\tshowLayerModalLoading,\r\n\t\tvalue,\r\n\t\tonChange,\r\n\t\tfield,\r\n\t\tbuttonName,\r\n\t\tnoWrapper,\r\n\t} = props;\r\n\tconst getModalName = getLayerModalInsertLocation || getInsertLocation;\r\n\tconst showLoading = showLayerModalLoading || showModalLoading;\r\n\r\n\tconst { fileAccept, requestMode, maxUploadLength, autoUpload, isSourceFile } = config;\r\n\tconst fileListType = config.fileListType || \"picture-card\";\r\n\tconst maxMegabytes = typeof config.maxMegabytes === \"number\" ? config.maxMegabytes : 10;\r\n\tconst isPictureCardType = fileListType === \"picture-card\";\r\n\tconst isOnlyPicture = fileAccept === \"image/*\";\r\n\tconst uploaderResponse = config.uploaderResponse || {\r\n\t\tid: \"id\",\r\n\t\tfilePath: \"filePath\",\r\n\t\tfileSuffix: \"fileSuffix\",\r\n\t\toriginalFileName: \"originalFileName\",\r\n\t};\r\n\t//是否单文件接口\r\n\tconst isSingle = requestMode === \"single\";\r\n\t//fileList：上传文件的列表数据，setTruefileList：文件数据流\r\n\tconst [fileState, setFileState] = useState({ fileList: [], setTruefileList: [] });\r\n\t//保存已上传文件的uid和服务id\r\n\tconst hasUploadDoneServerIdsRef = useRef([]);\r\n\t//过滤出未上传的文件\r\n\tconst noUploader = fileState.setTruefileList.filter(file => {\r\n\t\t// console.log(\"---ids\", hasUploadDoneServerIdsRef.current, getFileUids(hasUploadDoneServerIdsRef.current));\r\n\t\treturn !getFileUids(hasUploadDoneServerIdsRef.current).includes(file.uid);\r\n\t});\r\n\t// console.log(noUploader, hasUploadDoneServerIdsRef.current, fileState);\r\n\t//获取调用showModalLoading的第二个参数\r\n\tconst modalRef = useRef(\"\");\r\n\t//处理value\r\n\t// console.log(\"render\", value);\r\n\tuseEffect(() => {\r\n\t\tif (!Array.isArray(value) || !value.length) {\r\n\t\t\tsetFileState({\r\n\t\t\t\tfileList: [],\r\n\t\t\t\tsetTruefileList: [],\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst hasGetDetailIds = value.filter(server => {\r\n\t\t\tconst isObject = dataType.isObject(server);\r\n\t\t\tconst currentServers = getFileUids(hasUploadDoneServerIdsRef.current, \"serverId\");\r\n\r\n\t\t\tconst hasServer = currentServers.find(item =>\r\n\t\t\t\tisObject\r\n\t\t\t\t\t? item[uploaderResponse.id]\r\n\t\t\t\t\t\t? item[uploaderResponse.id] === server[uploaderResponse.id]\r\n\t\t\t\t\t\t: item[uploaderResponse.filePath] === server[uploaderResponse.filePath]\r\n\t\t\t\t\t: item === server,\r\n\t\t\t);\r\n\t\t\treturn !hasServer;\r\n\t\t});\r\n\t\tif (hasGetDetailIds.length) {\r\n\t\t\tconst files = hasGetDetailIds\r\n\t\t\t\t.filter(item => {\r\n\t\t\t\t\tconst isPic = dataType.isObject(item) ? item[uploaderResponse.filePath] : item;\r\n\t\t\t\t\tif (!isPic) {\r\n\t\t\t\t\t\tconsole.warn(\"上传控件的value缺少相关的文件地址\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn isPic;\r\n\t\t\t\t})\r\n\t\t\t\t.map(item => {\r\n\t\t\t\t\tconst isObject = dataType.isObject(item);\r\n\t\t\t\t\thasUploadDoneServerIdsRef.current.push({\r\n\t\t\t\t\t\tuid: isObject ? item[uploaderResponse.id] || item[uploaderResponse.filePath] : item,\r\n\t\t\t\t\t\tserverId: item,\r\n\t\t\t\t\t});\r\n\t\t\t\t\tif (isObject) {\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\tuid: item[uploaderResponse.id] || item[uploaderResponse.filePath],\r\n\t\t\t\t\t\t\tname: `${item[uploaderResponse.originalFileName]}.${item[uploaderResponse.fileSuffix]}`,\r\n\t\t\t\t\t\t\tstatus: \"done\",\r\n\t\t\t\t\t\t\ttype:\r\n\t\t\t\t\t\t\t\titem[uploaderResponse.fileSuffix] &&\r\n\t\t\t\t\t\t\t\t/(webp|svg|png|gif|jpg|jpeg|bmp|dpg)$/.test(item[uploaderResponse.fileSuffix])\r\n\t\t\t\t\t\t\t\t\t? \"image\"\r\n\t\t\t\t\t\t\t\t\t: \"\",\r\n\t\t\t\t\t\t\turl: item[uploaderResponse.filePath],\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\tuid: item,\r\n\t\t\t\t\t\t\tname: \"\",\r\n\t\t\t\t\t\t\tstatus: \"done\",\r\n\t\t\t\t\t\t\ttype: /\\.(webp|svg|png|gif|jpg|jpeg|bmp|dpg)$/.test(item) ? \"image\" : \"\",\r\n\t\t\t\t\t\t\turl: item,\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\tsetFileState({\r\n\t\t\t\tfileList: [...fileState.fileList, ...files],\r\n\t\t\t\tsetTruefileList: [...fileState.setTruefileList, ...files],\r\n\t\t\t});\r\n\t\t}\r\n\t}, [value]);\r\n\t//上传文件\r\n\tconst uploadAsync = () => {\r\n\t\tif (!config.url) {\r\n\t\t\tmessage.error(\"未配置上传多文件的后台地址\");\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst userinfo = getUserInfo();\r\n\t\tconst userId = userinfo && userinfo.userDO ? userinfo.userDO.id : \"\";\r\n\t\t// console.log(\"userinfo---\", userinfo);\r\n\t\tconst formData = new FormData();\r\n\t\tnoUploader.forEach(file => {\r\n\t\t\tformData.append(config.urlParamName ? config.urlParamName : \"files\", file);\r\n\t\t});\r\n\t\tshowLoading(true, modalRef.current, \"上传中...\");\r\n\t\tif (config.url)\r\n\t\t\thttpAjax(\r\n\t\t\t\tconfig.urlMethod ? config.urlMethod : \"post\",\r\n\t\t\t\t`${config.url}?${config.userIdName ? config.userIdName : \"userId\"}=${userId}`,\r\n\t\t\t\tformData,\r\n\t\t\t)\r\n\t\t\t\t.then(re => {\r\n\t\t\t\t\tconst ulploadData = isSingle ? [re.data] : re.data;\r\n\t\t\t\t\thasUploadDoneServerIdsRef.current = [\r\n\t\t\t\t\t\t...hasUploadDoneServerIdsRef.current,\r\n\t\t\t\t\t\t...ulploadData.map((server, i) => {\r\n\t\t\t\t\t\t\treturn { uid: noUploader[i].uid, serverId: server };\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\t];\r\n\t\t\t\t\tsetFileState({\r\n\t\t\t\t\t\t...fileState,\r\n\t\t\t\t\t\tfileList: fileState.fileList.map(file => {\r\n\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t...file,\r\n\t\t\t\t\t\t\t\tstatus: getFileUids(hasUploadDoneServerIdsRef.current).includes(file.uid)\r\n\t\t\t\t\t\t\t\t\t? \"done\"\r\n\t\t\t\t\t\t\t\t\t: \"undetermined\",\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\t});\r\n\t\t\t\t\tmessage.success(\"上传成功。\");\r\n\t\t\t\t\tconst newValue = getFileUids(hasUploadDoneServerIdsRef.current, \"serverId\");\r\n\t\t\t\t\tconsole.log(\"上传完的value\", newValue);\r\n\t\t\t\t\treturn typeof onChange === \"function\" && onChange(newValue, noUploader);\r\n\t\t\t\t})\r\n\t\t\t\t.catch(re => {\r\n\t\t\t\t\t// message.error(re && re.msg ? re.msg : \"上传失败。\");\r\n\t\t\t\t\t//自动上传模式，上传失败时移除列表\r\n\t\t\t\t\tif (autoUpload) {\r\n\t\t\t\t\t\tsetFileState({\r\n\t\t\t\t\t\t\tfileList: fileState.fileList.filter(file => {\r\n\t\t\t\t\t\t\t\tconst isNoUploader = noUploader.find(item => item.uid === file.uid);\r\n\t\t\t\t\t\t\t\treturn !isNoUploader;\r\n\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\tsetTruefileList: fileState.setTruefileList.filter(file => {\r\n\t\t\t\t\t\t\t\tconst isNoUploader = noUploader.find(item => item.uid === file.uid);\r\n\t\t\t\t\t\t\t\treturn !isNoUploader;\r\n\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.finally(() => {\r\n\t\t\t\t\tshowLoading(false, modalRef.current);\r\n\t\t\t\t});\r\n\t};\r\n\t//确认上传事件\r\n\tconst handleUpload = () => {\r\n\t\tif (noUploader.length) {\r\n\t\t\tuploadAsync();\r\n\t\t}\r\n\t};\r\n\t//确认上传按钮\r\n\tconst commitButton = isPictureCardType ? (\r\n\t\t<div\r\n\t\t\tclassName=\"ant-upload ant-upload-select ant-upload-select-picture-card z-float-left z-flex-items-center\"\r\n\t\t\tonClick={handleUpload}\r\n\t\t>\r\n\t\t\t<Icon type=\"check\" />\r\n\t\t\t<div>确认上传</div>\r\n\t\t</div>\r\n\t) : (\r\n\t\t<div className=\"z-liveform-upload-btn z-margin-top-10\" onClick={handleUpload}>\r\n\t\t\t<span>\r\n\t\t\t\t<Icon type=\"check\" /> 确认上传\r\n\t\t\t</span>\r\n\t\t</div>\r\n\t);\r\n\tconst uploadButtonName = buttonName ? buttonName : isOnlyPicture ? \"选择图片\" : \"选择文件\";\r\n\t//选文件按钮\r\n\tconst uploadButton =\r\n\t\tisSingle && noUploader.length ? null : isPictureCardType ? (\r\n\t\t\t<span>\r\n\t\t\t\t<Icon type=\"upload\" /> {uploadButtonName}\r\n\t\t\t</span>\r\n\t\t) : (\r\n\t\t\t<div className=\"z-liveform-upload-btn\">\r\n\t\t\t\t<span>\r\n\t\t\t\t\t<Icon type=\"upload\" /> {uploadButtonName}\r\n\t\t\t\t</span>\r\n\t\t\t</div>\r\n\t\t);\r\n\tconst viewerRef = useRef();\r\n\tuseEffect(() => {\r\n\t\tautoUpload && !isSourceFile && handleUpload();\r\n\t}, [fileState]);\r\n\r\n\tconst contentNode = (\r\n\t\t<div\r\n\t\t\tclassName=\"z-clear-fix\"\r\n\t\t\tref={el => {\r\n\t\t\t\tmodalRef.current = getModalName(el);\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t{/* 使用antd的上传组件 */}\r\n\t\t\t{getControl(\"Upload\", {\r\n\t\t\t\tdisabled: !!field.disabled,\r\n\t\t\t\tchildren: maxUploadLength && maxUploadLength <= fileState.fileList.length ? null : uploadButton,\r\n\t\t\t\tmultiple: false,\r\n\t\t\t\t// action: config.url,\r\n\t\t\t\tlistType: fileListType,\r\n\t\t\t\tname: \"file\",\r\n\t\t\t\tclassName: `z-liveform-upload ${fileListType === \"picture-card\" ? \"z-float-left\" : \"\"}`,\r\n\t\t\t\taccept: fileAccept !== \"all\" ? fileAccept : undefined,\r\n\t\t\t\t//onChange={this.handleUploadChange}\r\n\t\t\t\tfileList: fileState.fileList,\r\n\t\t\t\tonPreview: file => {\r\n\t\t\t\t\t// console.log(\"----\", file, fileState.fileList);\r\n\t\t\t\t\tif (file.type && !file.type.includes(\"image\")) {\r\n\t\t\t\t\t\tmessage.error(\"无法预览非图片文件\");\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tviewerRef.current && viewerRef.current.viewer.show(true);\r\n\t\t\t\t\tviewerRef.current &&\r\n\t\t\t\t\t\tviewerRef.current.viewer.view(fileState.fileList.findIndex(item => item.url === file.url));\r\n\t\t\t\t},\r\n\t\t\t\t//移除\r\n\t\t\t\tonRemove: file => {\r\n\t\t\t\t\tfunction removeFlieFromList() {\r\n\t\t\t\t\t\tconst index = fileState.fileList.findIndex(item => {\r\n\t\t\t\t\t\t\treturn item.uid === file.uid;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tconst serverIndex = hasUploadDoneServerIdsRef.current.findIndex(item => {\r\n\t\t\t\t\t\t\treturn item.uid === file.uid;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tif (serverIndex > -1) {\r\n\t\t\t\t\t\t\thasUploadDoneServerIdsRef.current.splice(serverIndex, 1);\r\n\t\t\t\t\t\t\tconst newValue = getFileUids(hasUploadDoneServerIdsRef.current, \"serverId\");\r\n\t\t\t\t\t\t\tconsole.log(\"移除完的value\", newValue);\r\n\t\t\t\t\t\t\ttypeof onChange === \"function\" && onChange(newValue);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (index > -1) {\r\n\t\t\t\t\t\t\tfileState.fileList.splice(index, 1);\r\n\t\t\t\t\t\t\tfileState.setTruefileList.splice(index, 1);\r\n\t\t\t\t\t\t\tsetFileState({\r\n\t\t\t\t\t\t\t\tfileList: [...fileState.fileList],\r\n\t\t\t\t\t\t\t\tsetTruefileList: [...fileState.setTruefileList],\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (getFileUids(hasUploadDoneServerIdsRef.current).includes(file.uid)) {\r\n\t\t\t\t\t\tModal.confirm({\r\n\t\t\t\t\t\t\ttitle: \"此文件已上传到服务器，确定从列表中移除?\",\r\n\t\t\t\t\t\t\tcontent: \"\",\r\n\t\t\t\t\t\t\tokText: \"确定\",\r\n\t\t\t\t\t\t\tcancelText: \"取消\",\r\n\t\t\t\t\t\t\tonOk() {\r\n\t\t\t\t\t\t\t\tremoveFlieFromList();\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t// onCancel() {\r\n\t\t\t\t\t\t\t// \tconsole.log(\"Cancel\");\r\n\t\t\t\t\t\t\t// },\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tremoveFlieFromList();\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t//取消自动上传，实现手动上传\r\n\t\t\t\tbeforeUpload: file => {\r\n\t\t\t\t\t// console.log(\"--beforeload--\", file);\r\n\t\t\t\t\tconst currM = file.size / 1024 / 1024;\r\n\t\t\t\t\tif (currM > maxMegabytes) {\r\n\t\t\t\t\t\tmessage.error(`选择的文件近${currM.toFixed(2)}M,不允许上传超过${maxMegabytes}M的文件`);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tlet reader = new FileReader();\r\n\t\t\t\t\treader.readAsDataURL(file);\r\n\t\t\t\t\treader.onloadend = () => {\r\n\t\t\t\t\t\tlet setTruefileList = [];\r\n\r\n\t\t\t\t\t\tif (isSourceFile) {\r\n\t\t\t\t\t\t\tconst sourceFile = {\r\n\t\t\t\t\t\t\t\t[uploaderResponse.id]: file.uid,\r\n\t\t\t\t\t\t\t\tuid: file.uid,\r\n\t\t\t\t\t\t\t\t[uploaderResponse.filePath]: reader.result,\r\n\t\t\t\t\t\t\t\tsourceFile: file,\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\thasUploadDoneServerIdsRef.current = [\r\n\t\t\t\t\t\t\t\t...hasUploadDoneServerIdsRef.current,\r\n\t\t\t\t\t\t\t\t{ uid: file.uid, serverId: sourceFile },\r\n\t\t\t\t\t\t\t];\r\n\t\t\t\t\t\t\tsetTruefileList = [...fileState.setTruefileList, sourceFile];\r\n\t\t\t\t\t\t\ttypeof onChange === \"function\" && onChange(setTruefileList);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tsetTruefileList = [...fileState.setTruefileList, file];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tsetFileState({\r\n\t\t\t\t\t\t\tfileList: [\r\n\t\t\t\t\t\t\t\t...fileState.fileList,\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tuid: file.uid,\r\n\t\t\t\t\t\t\t\t\tname: file.name,\r\n\t\t\t\t\t\t\t\t\tstatus: \"undetermined\",\r\n\t\t\t\t\t\t\t\t\ttype: file.type,\r\n\t\t\t\t\t\t\t\t\turl: reader.result,\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\tsetTruefileList,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t};\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t},\r\n\t\t\t})}\r\n\t\t\t{noUploader.length && !autoUpload && !isSourceFile ? commitButton : null}\r\n\t\t\t{fileState.fileList.length\r\n\t\t\t\t? ReactDOM.createPortal(\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tposition: \"fixed\",\r\n\t\t\t\t\t\t\t\tvisibility: \"hidden\",\r\n\t\t\t\t\t\t\t\ttop: 0,\r\n\t\t\t\t\t\t\t\tleft: 0,\r\n\t\t\t\t\t\t\t\twidth: \"100%\",\r\n\t\t\t\t\t\t\t\ttransform: \"translate(-100%,0)\",\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Zviewer\r\n\t\t\t\t\t\t\t\turls={fileState.fileList\r\n\t\t\t\t\t\t\t\t\t.filter(item => item.type && item.type.includes(\"image\"))\r\n\t\t\t\t\t\t\t\t\t.map(item => item.url)}\r\n\t\t\t\t\t\t\t\tref={viewerRef}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>,\r\n\t\t\t\t\t\tdocument.body,\r\n\t\t\t\t  )\r\n\t\t\t\t: null}\r\n\t\t</div>\r\n\t);\r\n\r\n\treturn noWrapper ? contentNode : <div className=\"z-liveform-upload-wrapper\">{contentNode}</div>;\r\n});\r\nMyUpload.propTypes = propTypes;\r\nMyUpload.defaultProps = defaultProps;\r\nexport default ZerodMainContext.setConsumer(ZerodLayerContext.setConsumer(React.memo(MyUpload)));\r\n","module.exports = (__webpack_require__(\"9w1k\"))(305);","import React, { useRef } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport httpAjax from \"../zTool/httpAjax\";\r\nimport ZeroUpload from \"./ZeroUpload\";\r\nimport ZerodMainContext from \"../ZerodMainContext\";\r\nimport ZerodLayerContext from \"../ZerodLayerContext\";\r\nimport { message } from \"antd\";\r\nconst propTypes = {\r\n\tgetInsertLocation: PropTypes.func,\r\n\tgetLayerModalInsertLocation: PropTypes.func,\r\n\tshowModalLoading: PropTypes.func,\r\n\tshowLayerModalLoading: PropTypes.func,\r\n\tvalue: PropTypes.array,\r\n\tonChange: PropTypes.func,\r\n\tconfig: PropTypes.object,\r\n\tfield: PropTypes.object,\r\n};\r\nconst defaultProps = {\r\n\tgetUserInfo: function() {\r\n\t\treturn {};\r\n\t},\r\n\tgetInsertLocation: function() {\r\n\t\treturn null;\r\n\t},\r\n\tshowModalLoading: function() {\r\n\t\treturn null;\r\n\t},\r\n};\r\nconst ZprosAndCons = React.memo(props => {\r\n\tconst {\r\n\t\tvalue,\r\n\t\tonChange,\r\n\t\tconfig,\r\n\t\tfield,\r\n\t\tgetLayerModalInsertLocation,\r\n\t\tgetInsertLocation,\r\n\t\tshowLayerModalLoading,\r\n\t\tshowModalLoading,\r\n\t} = props;\r\n\tconst currentValue = value || [];\r\n\tconst getModalName = getLayerModalInsertLocation || getInsertLocation;\r\n\tconst showLoading = showLayerModalLoading || showModalLoading;\r\n\tconst modalRef = useRef(\"\");\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName=\"z-liveform-upload-wrapper z-flex\"\r\n\t\t\tref={el => {\r\n\t\t\t\tmodalRef.current = getModalName(el);\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<ZeroUpload\r\n\t\t\t\tnoWrapper={true}\r\n\t\t\t\tvalue={currentValue[0] ? [currentValue[0]] : undefined}\r\n\t\t\t\tonChange={(val, uploadFiles) => {\r\n\t\t\t\t\tif (val.length && uploadFiles && uploadFiles.length) {\r\n\t\t\t\t\t\tconst picData = val[0] || null;\r\n\t\t\t\t\t\tconst { ocrUrl, ocrUrlMethod, ocrEnabled } = config;\r\n\t\t\t\t\t\tif ((ocrEnabled === undefined || ocrEnabled) && ocrUrl) {\r\n\t\t\t\t\t\t\tconst formData = new FormData();\r\n\t\t\t\t\t\t\tuploadFiles.forEach(file => {\r\n\t\t\t\t\t\t\t\tformData.append(\"file\", file);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tshowLoading(true, modalRef.current, \"证件识别中...\");\r\n\t\t\t\t\t\t\treturn httpAjax(ocrUrlMethod, ocrUrl, formData).then(res => {\r\n\t\t\t\t\t\t\t\tmessage.success(\"证件识别成功。\");\r\n\t\t\t\t\t\t\t\tcurrentValue[0] = picData;\r\n\t\t\t\t\t\t\t\tpicData[\"ocr\"] = res.data;\r\n\t\t\t\t\t\t\t\tonChange && onChange([...currentValue]);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tcurrentValue[0] = picData;\r\n\t\t\t\t\t\t\tonChange && onChange([...currentValue]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tcurrentValue[0] = val[0];\r\n\t\t\t\t\t\tonChange && onChange([...currentValue]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}}\r\n\t\t\t\tconfig={{ ...config, maxUploadLength: 1, fileAccept: \"image/*\", fileListType: \"picture-card\" }}\r\n\t\t\t\tfield={field}\r\n\t\t\t\tbuttonName=\"正面\"\r\n\t\t\t/>\r\n\t\t\t<ZeroUpload\r\n\t\t\t\tnoWrapper={true}\r\n\t\t\t\tvalue={currentValue[1] ? [currentValue[1]] : undefined}\r\n\t\t\t\tonChange={(val, formData) => {\r\n\t\t\t\t\tcurrentValue[1] = val[0] || null;\r\n\t\t\t\t\tonChange && onChange([...currentValue]);\r\n\t\t\t\t}}\r\n\t\t\t\tconfig={{ ...config, maxUploadLength: 1, fileAccept: \"image/*\", fileListType: \"picture-card\" }}\r\n\t\t\t\tfield={field}\r\n\t\t\t\tbuttonName=\"反面\"\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n});\r\nZprosAndCons.propTypes = propTypes;\r\nZprosAndCons.defaultProps = defaultProps;\r\nexport default ZerodMainContext.setConsumer(ZerodLayerContext.setConsumer(ZprosAndCons));\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { getControl } from \"../Zform/controls\";\r\nimport { dataType } from \"../zTool\";\r\nimport ZerodMainContext from \"../ZerodMainContext\";\r\nimport ZerodLayerContext from \"../ZerodLayerContext\";\r\nimport httpAjax from \"../zTool/httpAjax\";\r\nimport { message } from \"antd\";\r\n\r\nconst LoadMapIframe = React.forwardRef(function(props, ref) {\r\n\tconst { mapType, value, onChange } = props;\r\n\tuseEffect(() => {\r\n\t\tlet messageCallback = null;\r\n\t\tif (mapType === \"amap\") {\r\n\t\t\t//高德地图\r\n\t\t\tconst iframe = document.getElementById(\"addressIframe\").contentWindow;\r\n\t\t\tdocument.getElementById(\"addressIframe\").onload = function() {\r\n\t\t\t\tiframe.postMessage(\"hello\", \"https://m.amap.com/picker/\");\r\n\t\t\t};\r\n\t\t\tmessageCallback = function(event) {\r\n\t\t\t\tconst loc = event.data;\r\n\t\t\t\tconst latlng = loc.location.split(\",\");\r\n\t\t\t\tonChange &&\r\n\t\t\t\t\tonChange({\r\n\t\t\t\t\t\tname: `${loc.name}(${loc.address})`,\r\n\t\t\t\t\t\taddress: loc.address,\r\n\t\t\t\t\t\tlongitude: latlng[0],\r\n\t\t\t\t\t\tlatitude: latlng[1],\r\n\t\t\t\t\t});\r\n\t\t\t};\r\n\t\t} else if (mapType === \"qqmap\") {\r\n\t\t\t//腾讯地图\r\n\t\t\tmessageCallback = function(event) {\r\n\t\t\t\t// 接收位置信息，用户选择确认位置点后选点组件会触发该事件，回传用户的位置信息\r\n\t\t\t\tconst loc = event.data;\r\n\t\t\t\tif (loc && loc.module == \"locationPicker\") {\r\n\t\t\t\t\t//防止其他应用也会向该页面post信息，需判断module是否为'locationPicker'\r\n\t\t\t\t\tonChange &&\r\n\t\t\t\t\t\tonChange({\r\n\t\t\t\t\t\t\tname: `${loc.poiname}(${loc.poiaddress})`,\r\n\t\t\t\t\t\t\taddress: loc.poiaddress,\r\n\t\t\t\t\t\t\tlongitude: loc.latlng.lng,\r\n\t\t\t\t\t\t\tlatitude: loc.latlng.lat,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t}\r\n\t\tif (messageCallback) {\r\n\t\t\twindow.addEventListener(\"message\", messageCallback, false);\r\n\r\n\t\t\treturn () => {\r\n\t\t\t\twindow.removeEventListener(\"message\", messageCallback, false);\r\n\t\t\t};\r\n\t\t}\r\n\t}, []);\r\n\tlet url = \"\";\r\n\tlet center = \"\";\r\n\tif (dataType.isObject(value)) {\r\n\t\tcenter = `${value.longitude},${value.latitude}`;\r\n\t}\r\n\tif (mapType === \"amap\") {\r\n\t\turl = `https://m.amap.com/picker/?center=${center}&key=3d5c1c6169c64554d6f9fcca35d4abff&total=20&keywords=街道`;\r\n\t} else if (mapType === \"qqmap\") {\r\n\t\turl = `https://apis.map.qq.com/tools/locpicker?coord=${center}&search=1&type=1&key=63QBZ-B5GKV-46RPH-UCUF2-K5TUJ-OKBAK&referer=wx_map&total=20`;\r\n\t}\r\n\treturn <iframe frameBorder=\"0\" width=\"100%\" height=\"100%\" id=\"addressIframe\" src={url} />;\r\n});\r\n\r\nfunction getWebService(\r\n\twebserviceUrlDO = { urlMethod: \"post\", url: \"/form-service/webapi/geography/webService\" },\r\n\tquery,\r\n) {\r\n\treturn httpAjax(webserviceUrlDO.urlMethod, webserviceUrlDO.url, query);\r\n}\r\n\r\n//获取坐标位置详细信息\r\nconst geocoder = {\r\n\tamap: (location, webserviceUrlDO) => {\r\n\t  //process.env.amap 内网环境的映射路径\r\n\t  const amaporigin = process && process.env && process.env.amap ? process.env.amap : 'https://restapi.amap.com';\r\n\t  return getWebService(webserviceUrlDO, {\r\n\t\tserviceApi: `${amaporigin}/v3/geocode/regeo`,\r\n\t\tquery: {\r\n\t\t  key: '8c0945ac5a3ca41937724434563346c2',\r\n\t\t  //高德的是\"经度,纬度\"\r\n\t\t  location: `${location.longitude},${location.latitude}`,\r\n\t\t},\r\n\t  });\r\n\t},\r\n\tqqmap: (location, webserviceUrlDO) => {\r\n\t  const qqmaporigin = process && process.env && process.env.qqmap ? process.env.qqmap : 'https://apis.map.qq.com';\r\n\t  return getWebService(webserviceUrlDO, {\r\n\t\tserviceApi: `${qqmaporigin}/ws/geocoder/v1`,\r\n\t\tquery: {\r\n\t\t  key: '63QBZ-B5GKV-46RPH-UCUF2-K5TUJ-OKBAK',\r\n\t\t  //腾讯的是\"纬度,经度\"\r\n\t\t  location: `${location.latitude},${location.longitude}`,\r\n\t\t},\r\n\t  });\r\n\t},\r\n  };\r\n\r\nexport const MapChooseAddress = React.memo(\r\n\tReact.forwardRef(function(props, ref) {\r\n\t\tconst {\r\n\t\t\tvalue,\r\n\t\t\tonChange,\r\n\t\t\tplaceholder,\r\n\t\t\tshowRightModal,\r\n\t\t\tshowModalLoading,\r\n\t\t\tshowLayerRightModal,\r\n\t\t\tshowLayerModalLoading,\r\n\t\t\tmapType,\r\n\t\t\tdisabled,\r\n\t\t\twebserviceUrlDO,\r\n\t\t} = props;\r\n\t\tconst thisType = mapType || \"qqmap\";\r\n\t\tconst [inputValue, setInputValue] = useState();\r\n\t\tuseEffect(() => {\r\n\t\t\tsetInputValue(dataType.isObject(value) ? value.name : \"\");\r\n\t\t}, [value]);\r\n\t\tconst triggerModal = showLayerRightModal || showRightModal;\r\n\t\tconst triggerModalLodaing = showLayerModalLoading || showModalLoading;\r\n\t\t// useEffect(() => {}, []);\r\n\t\tconst openMap = () => {\r\n\t\t\ttriggerModal({\r\n\t\t\t\tshow: true,\r\n\t\t\t\tmodal: \"addressModal\",\r\n\t\t\t\tscroll: false,\r\n\t\t\t\twidth: \"500px\",\r\n\t\t\t\tcontent: (\r\n\t\t\t\t\t<LoadMapIframe\r\n\t\t\t\t\t\tmapType={thisType}\r\n\t\t\t\t\t\tvalue={value}\r\n\t\t\t\t\t\tonChange={val => {\r\n\t\t\t\t\t\t\ttriggerModalLodaing(true, \"addressModal\");\r\n\t\t\t\t\t\t\tgeocoder[thisType](val, webserviceUrlDO)\r\n\t\t\t\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\t\t\t\tlet area = {};\r\n\t\t\t\t\t\t\t\t\tif (thisType === \"amap\") {\r\n\t\t\t\t\t\t\t\t\t\tconst ac = res.data.regeocode.addressComponent;\r\n\t\t\t\t\t\t\t\t\t\tarea = {\r\n\t\t\t\t\t\t\t\t\t\t\tadcode: ac.adcode,\r\n\t\t\t\t\t\t\t\t\t\t\tcitycode: ac.citycode,\r\n\t\t\t\t\t\t\t\t\t\t\tcountry: ac.country,\r\n\t\t\t\t\t\t\t\t\t\t\ttowncode: ac.towncode,\r\n\t\t\t\t\t\t\t\t\t\t\tprovince: ac.province === ac.city ? \"\" : ac.province,\r\n\t\t\t\t\t\t\t\t\t\t\tcity: ac.city,\r\n\t\t\t\t\t\t\t\t\t\t\tdistrict: ac.district,\r\n\t\t\t\t\t\t\t\t\t\t\tstreet: ac.streetNumber ? ac.streetNumber.street : \"\",\r\n\t\t\t\t\t\t\t\t\t\t\tpointWkt: `POINT(${val.longitude} ${val.latitude})`,\r\n\t\t\t\t\t\t\t\t\t\t\tpointWkt2000: \"\",\r\n\t\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t\t} else if (thisType === \"qqmap\") {\r\n\t\t\t\t\t\t\t\t\t\tconst ac = res.data.result.ad_info;\r\n\t\t\t\t\t\t\t\t\t\tarea = {\r\n\t\t\t\t\t\t\t\t\t\t\tadcode: ac.adcode, //区划编码\r\n\t\t\t\t\t\t\t\t\t\t\tcitycode: ac.city_code,\r\n\t\t\t\t\t\t\t\t\t\t\tcountry: ac.nation, //国\r\n\t\t\t\t\t\t\t\t\t\t\tprovince: ac.province === ac.city ? \"\" : ac.province, //省\r\n\t\t\t\t\t\t\t\t\t\t\tcity: ac.city, //城市\r\n\t\t\t\t\t\t\t\t\t\t\tdistrict: ac.district, //区\r\n\t\t\t\t\t\t\t\t\t\t\tstreet: ac.street, //街道\r\n\t\t\t\t\t\t\t\t\t\t\tpointWkt: `POINT(${val.longitude} ${val.latitude})`,\r\n\t\t\t\t\t\t\t\t\t\t\tpointWkt2000: \"\",\r\n\t\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tonChange && onChange({ ...val, ...area });\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t.catch(re => {\r\n\t\t\t\t\t\t\t\t\tmessage.error(re && re.msg ? re.msg : \"获取区划信息失败，请重试\");\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t.finally(() => {\r\n\t\t\t\t\t\t\t\t\ttriggerModalLodaing(false, \"addressModal\");\r\n\t\t\t\t\t\t\t\t\ttriggerModal({\r\n\t\t\t\t\t\t\t\t\t\tshow: false,\r\n\t\t\t\t\t\t\t\t\t\tmodal: \"addressModal\",\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t),\r\n\t\t\t});\r\n\t\t};\r\n\t\treturn getControl(\"Input\", {\r\n\t\t\tvalue: inputValue,\r\n\t\t\taddonAfter: (\r\n\t\t\t\t<i className=\"zero-icon zerod-address z-address-btn\" onClick={!disabled ? openMap : undefined} />\r\n\t\t\t),\r\n\t\t\tplaceholder,\r\n\t\t\tonChange(e) {\r\n\t\t\t\tif (dataType.isObject(value)) {\r\n\t\t\t\t\tvalue.name = e;\r\n\t\t\t\t\tsetInputValue(value.name);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonBlur(e) {\r\n\t\t\t\tif (dataType.isObject(value)) {\r\n\t\t\t\t\tvalue.name = e.target.value;\r\n\t\t\t\t\tonChange && onChange({ ...value });\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonFocus() {\r\n\t\t\t\tif (!dataType.isObject(value) && !disabled) {\r\n\t\t\t\t\topenMap();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t});\r\n\t}),\r\n);\r\n\r\nexport default ZerodMainContext.setConsumer(ZerodLayerContext.setConsumer(MapChooseAddress));\r\n","import React, { useState, useEffect, useRef, useImperativeHandle, useCallback } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { getControl, regExps } from \"../Zform/controls\";\r\nimport { Input } from \"antd\";\r\nconst InputGroup = Input.Group;\r\nconst regExpsList = [{ label: \"自定义\", value: \"custom\", pattern: \"\" }].concat(\r\n\tObject.keys(regExps).map(key => {\r\n\t\treturn {\r\n\t\t\t...regExps[key],\r\n\t\t\tpattern: regExps[key].pattern.toString().replace(/(^\\/|\\/$)/g, \"\"),\r\n\t\t\tvalue: key,\r\n\t\t\tlabel: regExps[key].name,\r\n\t\t};\r\n\t}),\r\n);\r\n\r\nexport default React.memo(\r\n\tReact.forwardRef(function ZauxiliaryInput(props, ref) {\r\n\t\tconst { value, onChange } = props;\r\n\t\tconst [inputValue, setInputValue] = useState(\"\");\r\n\t\tconst [selectValue, setSelectValue] = useState(\"custom\");\r\n\t\tfunction setVals(pattern) {\r\n\t\t\tconst selected = regExpsList.find(item => {\r\n\t\t\t\treturn item.pattern === pattern;\r\n\t\t\t});\r\n\t\t\tsetSelectValue(selected ? selected.value : \"custom\");\r\n\t\t\tsetInputValue(pattern);\r\n\t\t}\r\n\t\tuseEffect(() => {\r\n\t\t\tsetVals(value);\r\n\t\t}, [value]);\r\n\t\treturn (\r\n\t\t\t<InputGroup compact>\r\n\t\t\t\t{getControl(\"Input\", {\r\n\t\t\t\t\tvalue: inputValue,\r\n\t\t\t\t\tonChange(e) {\r\n\t\t\t\t\t\tsetVals(e);\r\n\t\t\t\t\t\tonChange(e);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\twidth: \"75%\",\r\n\t\t\t\t\t},\r\n\t\t\t\t})}\r\n\t\t\t\t{getControl(\"Select\", {\r\n\t\t\t\t\tvalue: selectValue,\r\n\t\t\t\t\tonChange(val) {\r\n\t\t\t\t\t\tconst selected = regExpsList.find(item => {\r\n\t\t\t\t\t\t\treturn item.value === val;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tif (selected) {\r\n\t\t\t\t\t\t\tsetInputValue(selected.pattern);\r\n\t\t\t\t\t\t\tonChange(selected.pattern);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tsetSelectValue(val);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tselectList: regExpsList,\r\n\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\twidth: \"25%\",\r\n\t\t\t\t\t},\r\n\t\t\t\t})}\r\n\t\t\t</InputGroup>\r\n\t\t);\r\n\t}),\r\n);\r\n","module.exports = (__webpack_require__(\"9w1k\"))(316);","import React, { useState, useEffect } from \"react\";\r\nimport { getControl } from \"../Zform/controls\";\r\nimport { httpAjax } from \"../zTool\";\r\nimport { treeDataAddKey } from \"./common\";\r\n//Cascader 异步加载子节点组件\r\nconst CascaderLoader = React.forwardRef(function(props, ref) {\r\n\tconst {\r\n\t\tchangeOnSelect,\r\n\t\tselectList,\r\n\t\tselectionsUrl,\r\n\t\tselectionsQuery,\r\n\t\tselectListFieldNames,\r\n\t\toptionsChange,\r\n\t\t...others\r\n\t} = props;\r\n\tconst [options, setOptions] = useState([]);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetOptions(selectList);\r\n\t}, [selectList]);\r\n\tuseEffect(() => {\r\n\t\toptionsChange && optionsChange(options);\r\n\t}, [options]);\r\n\treturn getControl(\"Cascader\", {\r\n\t\t...others,\r\n\t\toptions,\r\n\t\tchangeOnSelect: Boolean(changeOnSelect),\r\n\t\tshowSearch: false,\r\n\t\tloadData:\r\n\t\t\tselectionsUrl && selectionsUrl.requireType === \"part\"\r\n\t\t\t\t? selectedOptions => {\r\n\t\t\t\t\t\tconst targetOption = selectedOptions[selectedOptions.length - 1];\r\n\t\t\t\t\t\ttargetOption.loading = true;\r\n\t\t\t\t\t\thttpAjax(selectionsUrl.selectionsUrlMethod, selectionsUrl.selectionsUrl, {\r\n\t\t\t\t\t\t\t...selectionsQuery,\r\n\t\t\t\t\t\t\tid: targetOption.value,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.then(re => {\r\n\t\t\t\t\t\t\t\tif (Array.isArray(re.data) && re.data.length) {\r\n\t\t\t\t\t\t\t\t\ttargetOption.children = treeDataAddKey(\r\n\t\t\t\t\t\t\t\t\t\tre.data,\r\n\t\t\t\t\t\t\t\t\t\tundefined,\r\n\t\t\t\t\t\t\t\t\t\tselectListFieldNames,\r\n\t\t\t\t\t\t\t\t\t\tfalse,\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\ttargetOption.children = null;\r\n\t\t\t\t\t\t\t\t\ttargetOption.isLeaf = true;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.catch(re => {\r\n\t\t\t\t\t\t\t\ttargetOption.children = null;\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.finally(() => {\r\n\t\t\t\t\t\t\t\ttargetOption.loading = false;\r\n\t\t\t\t\t\t\t\tsetOptions([...options]);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t  }\r\n\t\t\t\t: undefined,\r\n\t});\r\n});\r\n\r\nexport default CascaderLoader;\r\n","/*\r\n * @Author: zgt\r\n * @Date: 2019-03-29 12:10:53\r\n * @LastEditors: zgt\r\n * @LastEditTime: 2019-09-29 19:55:45\r\n * @Description: file content\r\n */\r\nimport React, { useEffect, useRef, useCallback } from \"react\";\r\nimport { dataType } from \"../zTool\";\r\nimport { Button } from \"antd\";\r\nimport linkageAction, { autoCheckedBySelected } from \"./linkageAction\";\r\nimport { pareLinkages } from \"./common\";\r\n//返回获取最新formGroups的callback\r\nexport function useGetGroupsCallback(formGroups) {\r\n\tconst groupsRef = useRef();\r\n\tuseEffect(() => {\r\n\t\tgroupsRef.current = formGroups;\r\n\t}, [formGroups]);\r\n\r\n\treturn useCallback(() => {\r\n\t\treturn groupsRef.current;\r\n\t}, [groupsRef.current]);\r\n}\r\n//返回执行linkageAction的callback\r\nexport function useLinkageCallback(formData, getGroupsFn) {\r\n\tconst doLinkage = useCallback(\r\n\t\tselfItem => {\r\n\t\t\tif (formData) {\r\n\t\t\t\tconst linkages = pareLinkages(formData.linkages);\r\n\t\t\t\tautoCheckedBySelected(linkages, getGroupsFn);\r\n\t\t\t\tlinkageAction(linkages, getGroupsFn, selfItem);\r\n\t\t\t}\r\n\t\t},\r\n\t\t[getGroupsFn, formData],\r\n\t);\r\n\treturn doLinkage;\r\n}\r\n//返回获取formGroups中非隐藏的forms的callback\r\nexport function useGetOtherFormsCallback(formGroups) {\r\n\treturn useCallback(\r\n\t\tcurrentForm => {\r\n\t\t\tconst forms = Array.isArray(formGroups)\r\n\t\t\t\t? formGroups.filter(g => {\r\n\t\t\t\t\t\tif (!g.groupRef.current) {\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tconst o = g.groupRef.current.getForm();\r\n\t\t\t\t\t\treturn currentForm !== o.form && g.groupRef.current.getShowState();\r\n\t\t\t\t  })\r\n\t\t\t\t: [];\r\n\r\n\t\t\treturn forms.map(g => g.groupRef.current.getForm().form);\r\n\t\t},\r\n\t\t[formGroups],\r\n\t);\r\n}\r\n\r\nexport function getEachFormMethod(formGroups, isAll) {\r\n\tlet subForm = isAll ? [] : null;\r\n\tfor (let index = 0; index < formGroups.length; index++) {\r\n\t\tconst g = formGroups[index];\r\n\t\tif (g.groupRef.current.getShowState()) {\r\n\t\t\tif (isAll) {\r\n\t\t\t\tsubForm.push(g.groupRef.current.getForm());\r\n\t\t\t} else {\r\n\t\t\t\tsubForm = g.groupRef.current.getForm();\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn subForm;\r\n}\r\n\r\n//返回执行formGroups中任意一个非隐藏的onSubmit的callback\r\nexport function useDoSubmitCallback(formGroups) {\r\n\treturn useCallback(\r\n\t\te => {\r\n\t\t\tconst subForm = getEachFormMethod(formGroups);\r\n\t\t\tif (subForm) {\r\n\t\t\t\tsubForm.methods.onSubmit(e);\r\n\t\t\t}\r\n\t\t},\r\n\t\t[formGroups],\r\n\t);\r\n}\r\nconst buttonType = {\r\n\t1: \"primary\",\r\n\t2: \"default\",\r\n\t3: \"dashed\",\r\n\t4: \"danger\",\r\n};\r\n//返回渲染提交按钮的函数\r\nexport function useSubmitBtn(formData, formGroups) {\r\n\tconst doSubmit = useDoSubmitCallback(formGroups);\r\n\treturn useCallback(() => {\r\n\t\treturn formData && dataType.isArray(formData.buttonList) ? (\r\n\t\t\t<div className=\"z-padding-bottom-20 z-text-center\">\r\n\t\t\t\t{formData.buttonList.map(e => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<Button key={e.value} type={buttonType[e.buttonType]} onClick={doSubmit}>\r\n\t\t\t\t\t\t\t{e.value}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t);\r\n\t\t\t\t})}\r\n\t\t\t</div>\r\n\t\t) : null;\r\n\t}, [formData, doSubmit]);\r\n}\r\n","export const linkageTypeActionName = {\r\n\t\"1\": \"禁用\",\r\n\t\"2\": \"必填\",\r\n\t\"3\": \"非必填\",\r\n\t\"4\": \"联动\",\r\n\t\"5.1\": \"组隐藏\",\r\n\t\"5.2\": \"隐藏\",\r\n\t\"6\": \"年月日\",\r\n};\r\n","/*\r\n * @Author: zgt\r\n * @Date: 2019-03-26 09:27:16\r\n * @LastEditors: zgt\r\n * @LastEditTime: 2019-10-15 14:59:29\r\n * @Description: file content\r\n */\r\nimport React from \"react\";\r\nimport linkageAction from \"./linkageAction\";\r\nimport { getControl, getOptions, regExps } from \"../Zform/controls\";\r\nimport { dataType, httpAjax } from \"../zTool\";\r\nimport ZeroUpload from \"./ZeroUpload\";\r\nimport ZprosAndCons from \"./ZprosAndCons\";\r\nimport moment from \"moment\";\r\nimport MapChooseAddress from \"./ZmapChooseAddress\";\r\nimport TreeSelectLoader from \"./TreeSelectLoader\";\r\nimport CascaderLoader from \"./CascaderLoader\";\r\nimport { treeDataAddKey } from \"./common\";\r\n//处理默认的校验规则\r\nexport const getOptionsRules = function(e, rules = [], opt = {}) {\r\n\tconst reg = typeof e.regularExpression === \"string\" ? e.regularExpression.replace(/((^\\/)|(\\/$))/g, \"\") : \"\";\r\n\treturn getOptions({\r\n\t\t...opt,\r\n\t\trequired: e.required,\r\n\t\trequiredMsg: e.errorMsg,\r\n\t\tinitialValue: e.initialValue,\r\n\t\trules: reg\r\n\t\t\t? [\r\n\t\t\t\t\t...rules,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tpattern: reg,\r\n\t\t\t\t\t\tmessage: e.errorMsg,\r\n\t\t\t\t\t},\r\n\t\t\t  ]\r\n\t\t\t: rules,\r\n\t});\r\n};\r\n//日期/时间的格式\r\nexport const dateFormats = {\r\n\t\"YYYY-wo\": \"WeekPicker\",\r\n\tYYYY: \"YearPicker\",\r\n\t\"YYYY-MM\": \"MonthPicker\",\r\n\t\"YYYY-MM-DD\": \"DatePicker\",\r\n\t\"YYYY-MM-DD HH:mm\": \"DatePicker\",\r\n\t\"YYYY-MM-DD HH:mm:ss\": \"DatePicker\",\r\n\t\"YYYY-MM-DD h:mm a\": \"DatePicker\",\r\n\t\"YYYY-MM-DD h:mm:ss a\": \"DatePicker\",\r\n\t\"YYYY-MM-DD - YYYY-MM-DD\": \"RangePicker\",\r\n\t\"YYYY-MM-DD HH:mm - YYYY-MM-DD HH:mm\": \"RangePicker\",\r\n\t\"YYYY-MM-DD HH:mm:ss - YYYY-MM-DD HH:mm:ss\": \"RangePicker\",\r\n\t\"HH:mm\": \"TimePicker\",\r\n\t\"HH:mm:ss\": \"TimePicker\",\r\n\t\"h:mm a\": \"TimePicker\",\r\n\t\"h:mm:ss a\": \"TimePicker\",\r\n\t\"HH:mm - HH:mm\": \"TimeRange\",\r\n\t\"HH:mm:ss - HH:mm:ss\": \"TimeRange\",\r\n};\r\n//\r\nfunction docustomOnChange(e, opt, ...rest) {\r\n\tif (dataType.isObject(e.customOnChange)) {\r\n\t\tconst confun = e.customOnChange[e.fieldKey];\r\n\t\tdataType.isFunction(confun) && confun(e, e.imperative, ...rest);\r\n\t}\r\n\ttypeof opt.onChange === \"function\" && opt.onChange(...rest);\r\n}\r\n\r\nconst defaultFieldConfig = {\r\n\tselectionsType: 1,\r\n\tselectionsUrl: {},\r\n\tselectList: [],\r\n\tselectionsQuery: {},\r\n\tselectListFieldNames: {},\r\n};\r\nfunction selectControl(controlName) {\r\n\treturn function(e = {}, linkages, getGroupsFn = () => [], opt = {}, requestQuery = {}, currentForm) {\r\n\t\tconst isAsync = opt.isAsync;\r\n\t\tdelete opt.isAsync;\r\n\t\tconst noAsync = opt.noAsync;\r\n\t\tdelete opt.noAsync;\r\n\t\tlet config = e.config || {};\r\n\t\tif (typeof e.config == \"string\") {\r\n\t\t\ttry {\r\n\t\t\t\tconfig = JSON.parse(e.config);\r\n\t\t\t} catch (e) {}\r\n\t\t}\r\n\t\tconfig = { ...defaultFieldConfig, ...config };\r\n\t\tconst {\r\n\t\t\tselectionsType,\r\n\t\t\tselectionsUrl,\r\n\t\t\tselectList,\r\n\t\t\tselectionsQuery,\r\n\t\t\tselectListFieldNames,\r\n\t\t\ttagName,\r\n\t\t\t...others\r\n\t\t} = config;\r\n\t\tfunction getCurrentControl(selectList) {\r\n\t\t\tif (currentForm) {\r\n\t\t\t\t//保存已有的selectList\r\n\t\t\t\tcurrentForm.saveFieldOptions[e.fieldKey] = selectList;\r\n\t\t\t\t// if (selectList.length) {\r\n\t\t\t\t// \tselectList[0].selected = true;\r\n\t\t\t\t// }\r\n\t\t\t\t// currentForm.saveOptionsMapKey[e.fieldKey] = selectListFieldNames;\r\n\t\t\t}\r\n\t\t\treturn getControl(controlName, {\r\n\t\t\t\tplaceholder: e.placeholder,\r\n\t\t\t\tselectList,\r\n\t\t\t\t...others,\r\n\t\t\t\t...opt,\r\n\t\t\t\tonChange: (...rest) => {\r\n\t\t\t\t\tlinkageAction(linkages, getGroupsFn, e);\r\n\t\t\t\t\tdocustomOnChange(e, opt, ...rest);\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t}\r\n\t\tlet hasAsync = false;\r\n\t\tif (!isAsync && currentForm) {\r\n\t\t\tconst currnetFormAllAsync = currentForm.getAsyncQueue();\r\n\t\t\tif (currnetFormAllAsync && currnetFormAllAsync.length) {\r\n\t\t\t\thasAsync = true;\r\n\t\t\t}\r\n\t\t}\r\n\t\t//异步类型\r\n\t\tif (selectionsType == 2 && !hasAsync && !noAsync) {\r\n\t\t\tif (!isAsync && currentForm && currentForm.saveFieldOptions[e.fieldKey]) {\r\n\t\t\t\treturn getCurrentControl(currentForm.saveFieldOptions[e.fieldKey]);\r\n\t\t\t}\r\n\t\t\treturn httpAjax(selectionsUrl.selectionsUrlMethod, selectionsUrl.selectionsUrl, {\r\n\t\t\t\t...selectionsQuery,\r\n\t\t\t\t...requestQuery,\r\n\t\t\t})\r\n\t\t\t\t.then(re => {\r\n\t\t\t\t\treturn getCurrentControl(treeDataAddKey(re.data, undefined, selectListFieldNames, undefined));\r\n\t\t\t\t})\r\n\t\t\t\t.catch(() => {\r\n\t\t\t\t\tif (currentForm) {\r\n\t\t\t\t\t\tcurrentForm.saveFieldOptions[e.fieldKey] = [];\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn getCurrentControl([]);\r\n\t\t\t\t});\r\n\t\t}\r\n\t\t//自定义选项类型\r\n\t\treturn getCurrentControl(treeDataAddKey(selectList, undefined, selectListFieldNames, undefined));\r\n\t};\r\n}\r\n\r\nconst controls = {\r\n\t//Input\r\n\t1: {\r\n\t\tgetControl(e = {}, linkages, getGroupsFn = () => [], opt = {}) {\r\n\t\t\tdelete opt.noAsync;\r\n\t\t\tlet config = e.config || {};\r\n\t\t\tif (typeof e.config == \"string\") {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconfig = JSON.parse(e.config);\r\n\t\t\t\t} catch (e) {}\r\n\t\t\t}\r\n\r\n\t\t\treturn getControl(\"Input\", {\r\n\t\t\t\tplaceholder: e.placeholder,\r\n\t\t\t\t...config,\r\n\t\t\t\t...opt,\r\n\t\t\t\tonBlur: (...rest) => {\r\n\t\t\t\t\tlinkageAction(linkages, getGroupsFn, e);\r\n\t\t\t\t},\r\n\t\t\t\tonChange: (...rest) => {\r\n\t\t\t\t\tdocustomOnChange(e, opt, ...rest);\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t},\r\n\t\tgetOptions(e, rules = []) {\r\n\t\t\tconst regType = e.regType; //regType 来自Zform/controls的regExps\r\n\t\t\treturn getOptionsRules(e, regType ? [regExps[regType], ...rules] : rules, { validateTrigger: \"onBlur\" });\r\n\t\t},\r\n\t},\r\n\t//TextArea\r\n\t2: {\r\n\t\tgetControl(e = {}, linkages, getGroupsFn = () => [], opt = {}) {\r\n\t\t\tdelete opt.noAsync;\r\n\t\t\tlet config = e.config || {};\r\n\t\t\tif (typeof e.config == \"string\") {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconfig = JSON.parse(e.config);\r\n\t\t\t\t} catch (e) {}\r\n\t\t\t}\r\n\r\n\t\t\treturn getControl(\"TextArea\", {\r\n\t\t\t\tplaceholder: e.placeholder,\r\n\t\t\t\t...config,\r\n\t\t\t\t...opt,\r\n\t\t\t\tonChange: (...rest) => {\r\n\t\t\t\t\tdocustomOnChange(e, opt, ...rest);\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t},\r\n\t\tgetOptions(e, rules = []) {\r\n\t\t\tconst regType = e.regType; //regType 来自Zform/controls的regExps\r\n\t\t\treturn getOptionsRules(e, regType ? [regExps[regType], ...rules] : rules, { validateTrigger: \"onBlur\" });\r\n\t\t},\r\n\t},\r\n\t//Select\r\n\t3: {\r\n\t\tgetControl: selectControl(\"Select\"),\r\n\t\tgetOptions(e, rules = []) {\r\n\t\t\tconst field = { ...e };\r\n\t\t\tlet config = e.config || {};\r\n\t\t\tif (typeof e.config == \"string\") {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconfig = JSON.parse(e.config);\r\n\t\t\t\t} catch (e) {}\r\n\t\t\t}\r\n\t\t\tconfig = { ...defaultFieldConfig, ...config };\r\n\t\t\tif ([\"multiple\", \"tags\"].includes(config.mode)) {\r\n\t\t\t\tfield.initialValue =\r\n\t\t\t\t\ttypeof field.initialValue === \"string\" ? field.initialValue.replace(\"，\", \",\").split(\",\") : [];\r\n\t\t\t}\r\n\t\t\treturn getOptionsRules(field, rules);\r\n\t\t},\r\n\t},\r\n\r\n\t//InputNumber\r\n\t4: {\r\n\t\tgetControl(e = {}, linkages, getGroupsFn = () => [], opt = {}) {\r\n\t\t\tdelete opt.noAsync;\r\n\t\t\tlet config = e.config || {};\r\n\t\t\tif (typeof e.config == \"string\") {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconfig = JSON.parse(e.config);\r\n\t\t\t\t} catch (e) {}\r\n\t\t\t}\r\n\r\n\t\t\treturn getControl(\"InputNumber\", {\r\n\t\t\t\tplaceholder: e.placeholder,\r\n\t\t\t\t...config,\r\n\t\t\t\t...opt,\r\n\t\t\t\tonChange: (...rest) => {\r\n\t\t\t\t\tdocustomOnChange(e, opt, ...rest);\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t},\r\n\t\tgetOptions: getOptionsRules,\r\n\t},\r\n\t//日期/时间控件\r\n\t5: {\r\n\t\tgetControl(e = {}, linkages, getGroupsFn = () => [], opt = {}) {\r\n\t\t\tdelete opt.noAsync;\r\n\t\t\tlet config = e.config || {};\r\n\t\t\tif (typeof e.config == \"string\") {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconfig = JSON.parse(e.config);\r\n\t\t\t\t} catch (e) {}\r\n\t\t\t}\r\n\r\n\t\t\tlet showTime = false;\r\n\t\t\tconfig.format = config.format ? config.format : \"\";\r\n\r\n\t\t\tlet format = config.format;\r\n\t\t\tconst setShowTime = format => {\r\n\t\t\t\tif (format.startsWith(\"YYYY\") && (format.includes(\"HH\") || format.includes(\"h\"))) {\r\n\t\t\t\t\tshowTime = {\r\n\t\t\t\t\t\tformat: format.split(\" \")[1],\r\n\t\t\t\t\t\tuse12Hours: format.includes(\"h\"),\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tif (config.format.includes(\" - \")) {\r\n\t\t\t\tformat = config.format.split(\" - \")[0];\r\n\t\t\t\t// console.log(format)\r\n\t\t\t\tsetShowTime(format);\r\n\t\t\t} else {\r\n\t\t\t\tsetShowTime(config.format);\r\n\t\t\t}\r\n\t\t\t// let defaultOpt = {};\r\n\t\t\tlet timeOpt = {\r\n\t\t\t\tshowTime,\r\n\t\t\t};\r\n\t\t\tif (dateFormats[config.format] === \"TimePicker\") {\r\n\t\t\t\ttimeOpt = { use12Hours: config.format.includes(\"h\") };\r\n\t\t\t}\r\n\r\n\t\t\treturn getControl(dateFormats[config.format], {\r\n\t\t\t\tformat,\r\n\t\t\t\tplaceholder: e.placeholder,\r\n\t\t\t\t...opt,\r\n\t\t\t\t...timeOpt,\r\n\t\t\t\t// ...defaultOpt,\r\n\t\t\t\tonChange: (...rest) => {\r\n\t\t\t\t\t// console.log(rest);\r\n\t\t\t\t\tdocustomOnChange(e, opt, ...rest);\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t},\r\n\t\tgetOptions(es, rules = []) {\r\n\t\t\tconst e = { ...es };\r\n\t\t\tlet config = e.config || {};\r\n\t\t\tif (typeof e.config == \"string\") {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconfig = JSON.parse(e.config);\r\n\t\t\t\t} catch (e) {}\r\n\t\t\t}\r\n\t\t\tconfig = { ...defaultFieldConfig, ...config };\r\n\t\t\tconfig.format = config.format ? config.format : \"\";\r\n\t\t\tconst isTimeRange = [\"RangePicker\", \"TimeRange\"].includes(dateFormats[config.format]);\r\n\t\t\tconst format = config.format.includes(\" - \") ? config.format.split(\" - \")[0] : config.format;\r\n\t\t\tif (isTimeRange) {\r\n\t\t\t\tif (e.required)\r\n\t\t\t\t\trules.push({\r\n\t\t\t\t\t\tvalidator(rule, value, callback) {\r\n\t\t\t\t\t\t\tif (Array.isArray(value) && value.length === 2) {\r\n\t\t\t\t\t\t\t\tcallback();\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tcallback(\"未填完整\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t});\r\n\t\t\t\te.initialValue =\r\n\t\t\t\t\ttypeof e.initialValue === \"string\" && e.initialValue.includes(\"-\")\r\n\t\t\t\t\t\t? e.initialValue.split(\"-\")\r\n\t\t\t\t\t\t: e.initialValue;\r\n\t\t\t\te.initialValue =\r\n\t\t\t\t\tArray.isArray(e.initialValue) && e.initialValue.length\r\n\t\t\t\t\t\t? e.initialValue.map(time => moment(time, format))\r\n\t\t\t\t\t\t: null;\r\n\t\t\t} else {\r\n\t\t\t\tif (typeof e.initialValue === \"string\") {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\te.initialValue = moment(e.initialValue, format);\r\n\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\tthrow Error(\"initialValue格式有误\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn getOptionsRules(e, rules);\r\n\t\t},\r\n\t},\r\n\t//Cascader级联\r\n\t6: {\r\n\t\tgetControl(e = {}, linkages, getGroupsFn = () => [], opt = {}, requestQuery = {}, currentForm) {\r\n\t\t\tconst isAsync = opt.isAsync;\r\n\t\t\tdelete opt.isAsync;\r\n\t\t\tconst noAsync = opt.noAsync;\r\n\t\t\tdelete opt.noAsync;\r\n\t\t\tlet config = e.config || {};\r\n\t\t\tif (typeof e.config == \"string\") {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconfig = JSON.parse(e.config);\r\n\t\t\t\t} catch (e) {}\r\n\t\t\t}\r\n\t\t\tconfig = { ...defaultFieldConfig, ...config };\r\n\t\t\tconst {\r\n\t\t\t\tselectionsType,\r\n\t\t\t\tselectionsUrl,\r\n\t\t\t\tselectList,\r\n\t\t\t\tselectionsQuery,\r\n\t\t\t\tselectListFieldNames,\r\n\t\t\t\tchangeOnSelect,\r\n\t\t\t\t...others\r\n\t\t\t} = config;\r\n\t\t\tfunction getCurrentControl(selectList) {\r\n\t\t\t\tconst newProps = {\r\n\t\t\t\t\t...others,\r\n\t\t\t\t\tchangeOnSelect,\r\n\t\t\t\t\t...opt,\r\n\t\t\t\t\tselectionsUrl,\r\n\t\t\t\t\tselectionsQuery,\r\n\t\t\t\t\tplaceholder: e.placeholder,\r\n\t\t\t\t\tselectList,\r\n\t\t\t\t\toptionsChange: options => {\r\n\t\t\t\t\t\tif (currentForm) {\r\n\t\t\t\t\t\t\t//保存已有的selectList\r\n\t\t\t\t\t\t\tcurrentForm.saveFieldOptions[e.fieldKey] = options;\r\n\t\t\t\t\t\t\t// currentForm.saveOptionsMapKey[e.fieldKey] = selectListFieldNames;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tselectListFieldNames,\r\n\t\t\t\t\tonChange: (...rest) => {\r\n\t\t\t\t\t\tlinkageAction(linkages, getGroupsFn, e);\r\n\t\t\t\t\t\tdocustomOnChange(e, opt, ...rest);\r\n\t\t\t\t\t},\r\n\t\t\t\t};\r\n\t\t\t\treturn <CascaderLoader {...newProps} />;\r\n\t\t\t}\r\n\t\t\tlet hasAsync = false;\r\n\t\t\tif (!isAsync && currentForm) {\r\n\t\t\t\tconst currnetFormAllAsync = currentForm.getAsyncQueue();\r\n\t\t\t\tif (currnetFormAllAsync && currnetFormAllAsync.length) {\r\n\t\t\t\t\thasAsync = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t//异步类型\r\n\t\t\tif (selectionsType == 2 && !hasAsync && !noAsync) {\r\n\t\t\t\tif (currentForm && currentForm.saveFieldOptions[e.fieldKey]) {\r\n\t\t\t\t\treturn getCurrentControl(currentForm.saveFieldOptions[e.fieldKey]);\r\n\t\t\t\t}\r\n\t\t\t\treturn httpAjax(selectionsUrl.selectionsUrlMethod, selectionsUrl.selectionsUrl, {\r\n\t\t\t\t\t...selectionsQuery,\r\n\t\t\t\t\t...requestQuery,\r\n\t\t\t\t})\r\n\t\t\t\t\t.then(re => {\r\n\t\t\t\t\t\treturn getCurrentControl(\r\n\t\t\t\t\t\t\ttreeDataAddKey(\r\n\t\t\t\t\t\t\t\tre.data,\r\n\t\t\t\t\t\t\t\tundefined,\r\n\t\t\t\t\t\t\t\tselectListFieldNames,\r\n\t\t\t\t\t\t\t\tselectionsUrl.requireType !== \"part\", // false  即为分部加载\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(() => {\r\n\t\t\t\t\t\tif (currentForm) {\r\n\t\t\t\t\t\t\tcurrentForm.saveFieldOptions[e.fieldKey] = [];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn getCurrentControl([]);\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t//自定义选项类型\r\n\t\t\treturn getCurrentControl(treeDataAddKey(selectList, undefined, selectListFieldNames, true));\r\n\t\t},\r\n\t\tgetOptions: getOptionsRules,\r\n\t},\r\n\t//TreeSelect树选择\r\n\t7: {\r\n\t\tgetControl(e = {}, linkages, getGroupsFn = () => [], opt = {}, requestQuery = {}, currentForm) {\r\n\t\t\tconst isAsync = opt.isAsync;\r\n\t\t\tdelete opt.isAsync;\r\n\t\t\tconst noAsync = opt.noAsync;\r\n\t\t\tdelete opt.noAsync;\r\n\t\t\tlet config = e.config || {};\r\n\t\t\tif (typeof e.config == \"string\") {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconfig = JSON.parse(e.config);\r\n\t\t\t\t} catch (e) {}\r\n\t\t\t}\r\n\t\t\tconfig = { ...defaultFieldConfig, ...config };\r\n\t\t\tconst {\r\n\t\t\t\tselectionsType,\r\n\t\t\t\tselectionsUrl,\r\n\t\t\t\tselectList,\r\n\t\t\t\tselectionsQuery,\r\n\t\t\t\tselectListFieldNames,\r\n\t\t\t\t...others\r\n\t\t\t} = config;\r\n\t\t\tfunction getCurrentControl(selectList) {\r\n\t\t\t\tconst newProps = {\r\n\t\t\t\t\t...others,\r\n\t\t\t\t\t...opt,\r\n\t\t\t\t\tselectionsUrl,\r\n\t\t\t\t\tselectionsQuery,\r\n\t\t\t\t\tplaceholder: e.placeholder,\r\n\t\t\t\t\tselectList,\r\n\t\t\t\t\toptionsChange: options => {\r\n\t\t\t\t\t\tif (currentForm) {\r\n\t\t\t\t\t\t\t//保存已有的selectList\r\n\t\t\t\t\t\t\tcurrentForm.saveFieldOptions[e.fieldKey] = options;\r\n\t\t\t\t\t\t\tcurrentForm.saveOptionsMapKey[e.fieldKey] = {\r\n\t\t\t\t\t\t\t\tlabel: \"title\",\r\n\t\t\t\t\t\t\t\tvalue: \"value\",\r\n\t\t\t\t\t\t\t\tchildren: \"children\",\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tselectListFieldNames,\r\n\t\t\t\t\tonChange: (...rest) => {\r\n\t\t\t\t\t\tlinkageAction(linkages, getGroupsFn, e);\r\n\t\t\t\t\t\tdocustomOnChange(e, opt, ...rest);\r\n\t\t\t\t\t},\r\n\t\t\t\t};\r\n\t\t\t\treturn <TreeSelectLoader {...newProps} />;\r\n\t\t\t}\r\n\t\t\tlet hasAsync = false;\r\n\t\t\tif (!isAsync && currentForm) {\r\n\t\t\t\tconst currnetFormAllAsync = currentForm.getAsyncQueue();\r\n\t\t\t\tif (currnetFormAllAsync && currnetFormAllAsync.length) {\r\n\t\t\t\t\thasAsync = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t//异步类型\r\n\t\t\tif (selectionsType == 2 && !hasAsync && !noAsync) {\r\n\t\t\t\tif (currentForm && currentForm.saveFieldOptions[e.fieldKey]) {\r\n\t\t\t\t\treturn getCurrentControl(currentForm.saveFieldOptions[e.fieldKey]);\r\n\t\t\t\t}\r\n\t\t\t\treturn httpAjax(selectionsUrl.selectionsUrlMethod, selectionsUrl.selectionsUrl, {\r\n\t\t\t\t\t...selectionsQuery,\r\n\t\t\t\t\t...requestQuery,\r\n\t\t\t\t})\r\n\t\t\t\t\t.then(re => {\r\n\t\t\t\t\t\treturn getCurrentControl(\r\n\t\t\t\t\t\t\ttreeDataAddKey(\r\n\t\t\t\t\t\t\t\tre.data,\r\n\t\t\t\t\t\t\t\t{ label: \"title\", value: \"value\", children: \"children\", key: \"key\" },\r\n\t\t\t\t\t\t\t\tselectListFieldNames,\r\n\t\t\t\t\t\t\t\tselectionsUrl.requireType !== \"part\", // false  即为分部加载\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(() => {\r\n\t\t\t\t\t\tif (currentForm) {\r\n\t\t\t\t\t\t\tcurrentForm.saveFieldOptions[e.fieldKey] = [];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn getCurrentControl([]);\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t//自定义选项类型\r\n\t\t\treturn getCurrentControl(\r\n\t\t\t\ttreeDataAddKey(\r\n\t\t\t\t\tselectList,\r\n\t\t\t\t\t{ label: \"title\", value: \"value\", children: \"children\", key: \"key\" },\r\n\t\t\t\t\tselectListFieldNames,\r\n\t\t\t\t),\r\n\t\t\t);\r\n\t\t},\r\n\t\tgetOptions: getOptionsRules,\r\n\t},\r\n\t//Checkbox.Group\r\n\t8: {\r\n\t\tgetControl: selectControl(\"Checkbox.Group\"),\r\n\t\tgetOptions(e, rules = []) {\r\n\t\t\tconst field = { ...e };\r\n\t\t\tfield.initialValue =\r\n\t\t\t\ttypeof field.initialValue === \"string\" ? field.initialValue.replace(\"，\", \",\").split(\",\") : [];\r\n\t\t\treturn getOptionsRules(field, rules);\r\n\t\t},\r\n\t},\r\n\t//Radio.Group\r\n\t9: {\r\n\t\tgetControl: selectControl(\"Radio.Group\"),\r\n\t\tgetOptions: getOptionsRules,\r\n\t},\r\n\t//Switch\r\n\t10: {\r\n\t\tgetControl(e = {}, linkages, getGroupsFn = () => [], opt = {}) {\r\n\t\t\tdelete opt.noAsync;\r\n\t\t\tlet config = e.config || {};\r\n\t\t\tif (typeof e.config == \"string\") {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconfig = JSON.parse(e.config);\r\n\t\t\t\t} catch (e) {}\r\n\t\t\t}\r\n\r\n\t\t\treturn getControl(\"Switch\", {\r\n\t\t\t\tplaceholder: e.placeholder,\r\n\t\t\t\t...config,\r\n\t\t\t\t...opt,\r\n\t\t\t\tonChange: (...rest) => {\r\n\t\t\t\t\tdocustomOnChange(e, opt, ...rest);\r\n\t\t\t\t\tlinkageAction(linkages, getGroupsFn, e);\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t},\r\n\t\tgetOptions(e, rules = []) {\r\n\t\t\te.initialValue = dataType.isString(e.initialValue) ? Number(e.initialValue) : e.initialValue;\r\n\t\t\treturn getOptionsRules(e, rules, { valuePropName: \"checked\" });\r\n\t\t},\r\n\t},\r\n\t//Upload\r\n\t11: {\r\n\t\tgetControl(e = {}, linkages, getGroupsFn = () => [], opt = {}, requestQuery = {}) {\r\n\t\t\tdelete opt.noAsync;\r\n\t\t\tlet config = e.config || {};\r\n\t\t\tif (typeof e.config == \"string\") {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconfig = JSON.parse(e.config);\r\n\t\t\t\t} catch (e) {}\r\n\t\t\t}\r\n\t\t\tconfig = { ...defaultFieldConfig, ...config };\r\n\t\t\treturn <ZeroUpload config={config} field={e} />;\r\n\t\t},\r\n\t\tgetOptions(e, rules = []) {\r\n\t\t\tlet config = e.config || {};\r\n\t\t\tif (typeof e.config == \"string\") {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconfig = JSON.parse(e.config);\r\n\t\t\t\t} catch (e) {}\r\n\t\t\t}\r\n\t\t\tconfig = { ...defaultFieldConfig, ...config };\r\n\t\t\tconst newRules = [\r\n\t\t\t\t{\r\n\t\t\t\t\tvalidator(rule, value, callback) {\r\n\t\t\t\t\t\tconsole.log(\"验证\", value, config);\r\n\t\t\t\t\t\tif (Array.isArray(value)) {\r\n\t\t\t\t\t\t\tif (!value.length) {\r\n\t\t\t\t\t\t\t\treturn callback(\"未上传任何文件\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (config.minUploadLength && config.minUploadLength > value.length) {\r\n\t\t\t\t\t\t\t\treturn callback(`上传数量不能少于${config.minUploadLength}`);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn callback();\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t];\r\n\r\n\t\t\treturn getOptionsRules(e, newRules.concat(rules), { validateTrigger: \"onChange\" });\r\n\t\t},\r\n\t},\r\n\t//ColorPicker\r\n\t12: {\r\n\t\tgetControl(e = {}, linkages, getGroupsFn = () => [], opt = {}, requestQuery = {}) {\r\n\t\t\tdelete opt.noAsync;\r\n\t\t\tlet config = e.config || {};\r\n\t\t\tif (typeof e.config == \"string\") {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconfig = JSON.parse(e.config);\r\n\t\t\t\t} catch (e) {}\r\n\t\t\t}\r\n\t\t\tconfig = { ...defaultFieldConfig, ...config };\r\n\t\t\treturn getControl(\"ColorPicker\", {\r\n\t\t\t\t...config,\r\n\t\t\t\t...opt,\r\n\t\t\t\tonChange: (...rest) => {\r\n\t\t\t\t\te.currentSaturability = rest[1] ? rest[1].hsv.s : 0;\r\n\t\t\t\t\t// console.log(\"color-change\", rest[1]);\r\n\t\t\t\t\tdocustomOnChange(e, opt, ...rest);\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t},\r\n\t\tgetOptions(e, rules = []) {\r\n\t\t\tlet config = e.config || {};\r\n\t\t\tif (typeof e.config == \"string\") {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconfig = JSON.parse(e.config);\r\n\t\t\t\t} catch (e) {}\r\n\t\t\t}\r\n\t\t\tconfig = { ...defaultFieldConfig, ...config };\r\n\t\t\tif (config.minSaturability > 0) {\r\n\t\t\t\trules.push({\r\n\t\t\t\t\tvalidator(rule, value, callback) {\r\n\t\t\t\t\t\tconst currentSaturability = e.currentSaturability;\r\n\t\t\t\t\t\tif (currentSaturability && config.minSaturability > currentSaturability) {\r\n\t\t\t\t\t\t\treturn callback(e.errorMsg ? e.errorMsg : `饱和度不能小于${config.minSaturability * 100}%`);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn callback();\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\treturn getOptionsRules(e, rules);\r\n\t\t},\r\n\t},\r\n\t//地图选点\r\n\t13: {\r\n\t\tgetControl(e = {}, linkages, getGroupsFn = () => [], opt = {}) {\r\n\t\t\tdelete opt.noAsync;\r\n\t\t\tlet config = e.config || {};\r\n\t\t\tif (typeof e.config == \"string\") {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconfig = JSON.parse(e.config);\r\n\t\t\t\t} catch (e) {}\r\n\t\t\t}\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<MapChooseAddress\r\n\t\t\t\t\t{...{\r\n\t\t\t\t\t\tplaceholder: e.placeholder,\r\n\t\t\t\t\t\t...config,\r\n\t\t\t\t\t\t...opt,\r\n\t\t\t\t\t\tonChange: (...rest) => {\r\n\t\t\t\t\t\t\tlinkageAction(linkages, getGroupsFn, e);\r\n\t\t\t\t\t\t\tdocustomOnChange(e, opt, ...rest);\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t);\r\n\t\t},\r\n\t\tgetOptions(e, rules = []) {\r\n\t\t\trules.push({\r\n\t\t\t\tvalidator(rule, value, callback) {\r\n\t\t\t\t\tif (dataType.isObject(value)) {\r\n\t\t\t\t\t\tif (!/^.{10,}/.test(value.name)) {\r\n\t\t\t\t\t\t\treturn callback(\"地址名称不能少于10个字符\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn callback();\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t\treturn getOptionsRules(e, rules);\r\n\t\t},\r\n\t},\r\n\t//自定义占位\r\n\t14: {\r\n\t\tgetControl(e = {}, linkages, getGroupsFn = () => [], opt = {}) {\r\n\t\t\tif (dataType.isObject(e.customControlRender)) {\r\n\t\t\t\tconst confun = e.customControlRender[e.fieldKey];\r\n\t\t\t\tif (dataType.isFunction(confun)) {\r\n\t\t\t\t\treturn confun({ field: e, linkages, getGroupsFn, linkageAction });\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn <div className=\"z-form-control-placeholder\">自定义区域</div>;\r\n\t\t},\r\n\t\tgetOptions: getOptionsRules,\r\n\t},\r\n\t//电子签名\r\n\t15: {\r\n\t\tgetControl(e = {}, linkages, getGroupsFn = () => [], opt = {}) {\r\n\t\t\tif (dataType.isObject(e.customControlRender)) {\r\n\t\t\t\tconst confun = e.customControlRender[e.fieldKey];\r\n\t\t\t\tif (dataType.isFunction(confun)) {\r\n\t\t\t\t\treturn confun({ field: e, linkages, getGroupsFn, linkageAction });\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn <div className=\"z-form-control-placeholder\">手动电子签名只支持小程序</div>;\r\n\t\t},\r\n\t\tgetOptions: getOptionsRules,\r\n\t},\r\n\t//证件照\r\n\t16: {\r\n\t\tgetControl(e = {}, linkages, getGroupsFn = () => [], opt = {}, requestQuery = {}) {\r\n\t\t\tdelete opt.noAsync;\r\n\t\t\tlet config = e.config || {};\r\n\t\t\tif (typeof e.config == \"string\") {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconfig = JSON.parse(e.config);\r\n\t\t\t\t} catch (e) {}\r\n\t\t\t}\r\n\t\t\tconfig = { ...defaultFieldConfig, ...config };\r\n\t\t\treturn (\r\n\t\t\t\t<ZprosAndCons\r\n\t\t\t\t\tconfig={config}\r\n\t\t\t\t\tfield={e}\r\n\t\t\t\t\tonChange={(...rest) => {\r\n\t\t\t\t\t\tlinkageAction(linkages, getGroupsFn, e);\r\n\t\t\t\t\t\tdocustomOnChange(e, opt, ...rest);\r\n\t\t\t\t\t}}\r\n\t\t\t\t></ZprosAndCons>\r\n\t\t\t);\r\n\t\t},\r\n\t\tgetOptions(e, rules = []) {\r\n\t\t\tlet config = e.config || {};\r\n\t\t\tif (typeof e.config == \"string\") {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconfig = JSON.parse(e.config);\r\n\t\t\t\t} catch (e) {}\r\n\t\t\t}\r\n\t\t\tconfig = { ...defaultFieldConfig, ...config };\r\n\t\t\tconst newRules = [\r\n\t\t\t\t{\r\n\t\t\t\t\tvalidator(rule, value, callback) {\r\n\t\t\t\t\t\tif (Array.isArray(value)) {\r\n\t\t\t\t\t\t\tif (!value[0] || !value[1]) {\r\n\t\t\t\t\t\t\t\treturn callback(\"正反面图片都要上传\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn callback();\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t];\r\n\r\n\t\t\treturn getOptionsRules(e, newRules.concat(rules));\r\n\t\t},\r\n\t},\r\n\t//文书配置\r\n\t20: {\r\n\t\tgetControl(e = {}, linkages, getGroupsFn = () => [], opt = {}) {\r\n\t\t\tdelete opt.noAsync;\r\n\t\t\tlet config = e.config || {};\r\n\t\t\tif (typeof e.config == \"string\") {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconfig = JSON.parse(e.config);\r\n\t\t\t\t} catch (e) {}\r\n\t\t\t}\r\n\r\n\t\t\treturn getControl(\"Input\", {\r\n\t\t\t\tplaceholder: e.placeholder,\r\n\t\t\t\t...config,\r\n\t\t\t\t...opt,\r\n\t\t\t\tonBlur: (...rest) => {\r\n\t\t\t\t\tlinkageAction(linkages, getGroupsFn, e);\r\n\t\t\t\t},\r\n\t\t\t\tonChange: (...rest) => {\r\n\t\t\t\t\tdocustomOnChange(e, opt, ...rest);\r\n\t\t\t\t},\r\n\t\t\t\tdisabled: true,\r\n\t\t\t});\r\n\t\t},\r\n\t\tgetOptions(e, rules = []) {\r\n\t\t\tconst regType = e.regType; //regType 来自Zform/controls的regExps\r\n\t\t\treturn getOptionsRules(e, regType ? [regExps[regType], ...rules] : rules);\r\n\t\t},\r\n\t},\r\n};\r\nexport default controls;\r\n","import React from \"react\";\r\nimport { Tag } from \"antd\";\r\nimport { linkageTypeActionName } from \"../liveCanstant\";\r\n\r\nfunction srcControlRemark(srcControl, srcValues) {\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Tag color=\"volcano\">{srcControl ? srcControl.label : \"未选控件\"}</Tag>\r\n\t\t\t<span>的值：</span>\r\n\t\t\t{srcValues.map(item => (\r\n\t\t\t\t<Tag color=\"#2db7f5\" key={item.label}>\r\n\t\t\t\t\t{item.label}\r\n\t\t\t\t</Tag>\r\n\t\t\t))}\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport function linkRemark1({ srcControl, srcValues, distControls, linkageType }={}) {\r\n\treturn (\r\n\t\t<span>\r\n\t\t\t{srcControlRemark(srcControl, srcValues)}\r\n\t\t\t<span className=\"z-margin-right-5\">联动</span>\r\n\t\t\t{distControls.map(item => (\r\n\t\t\t\t<Tag color=\"magenta\" key={item.label}>\r\n\t\t\t\t\t{item.label}\r\n\t\t\t\t</Tag>\r\n\t\t\t))}\r\n\t\t\t<span>{linkageTypeActionName[linkageType]}</span>\r\n\t\t</span>\r\n\t);\r\n}\r\n\r\nexport function linkRemark2({ srcControl, srcValues, distControl, distValues } = {}) {\r\n\treturn (\r\n\t\t<span>\r\n\t\t\t{srcControlRemark(srcControl, srcValues)}\r\n\t\t\t<span className=\"z-margin-right-5\">联动</span>\r\n\t\t\t<Tag color=\"volcano\">{distControl ? distControl.label : \"未选控件\"}</Tag>\r\n\t\t\t<span>可选项：</span>\r\n\t\t\t{distValues.map(item => (\r\n\t\t\t\t<Tag color=\"#2db7f5\" key={item.label}>\r\n\t\t\t\t\t{item.label}\r\n\t\t\t\t</Tag>\r\n\t\t\t))}\r\n\t\t</span>\r\n\t);\r\n}\r\n\r\nexport function linkRemark3({ srcControls, distControls } = {}, { remmak1, remmak2 } = {}) {\r\n\treturn (\r\n\t\t<span>\r\n\t\t\t<span>{remmak1}</span>\r\n\t\t\t{srcControls.map(item => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Tag color=\"volcano\" key={item.label}>\r\n\t\t\t\t\t\t{item.label}\r\n\t\t\t\t\t</Tag>\r\n\t\t\t\t);\r\n\t\t\t})}\r\n\t\t\t<span className=\"z-margin-right-5\">{remmak2}</span>\r\n\t\t\t{distControls.map(item => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Tag color=\"volcano\" key={item.label}>\r\n\t\t\t\t\t\t{item.label}\r\n\t\t\t\t\t</Tag>\r\n\t\t\t\t);\r\n\t\t\t})}\r\n\t\t</span>\r\n\t);\r\n}\r\nexport function linkRemark4({ srcControls, distControls } = {}, { remmak1, remmak2 } = {}) {\r\n\treturn (\r\n\t\t<span>\r\n\t\t\t{srcControls.map(item => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Tag color=\"volcano\" key={item.label}>\r\n\t\t\t\t\t\t{item.label}\r\n\t\t\t\t\t</Tag>\r\n\t\t\t\t);\r\n\t\t\t})}\r\n\t\t\t<span className=\"z-margin-right-5\">{remmak1}</span>\r\n\t\t\t{distControls.map(item => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Tag color=\"volcano\" key={item.label}>\r\n\t\t\t\t\t\t{item.label}\r\n\t\t\t\t\t</Tag>\r\n\t\t\t\t);\r\n\t\t\t})}\r\n\t\t\t<span>{remmak2}</span>\r\n\t\t</span>\r\n\t);\r\n}\r\n","import React, { useState, useEffect, useRef, useImperativeHandle, useCallback } from \"react\";\r\n// import { getControl, getOptions } from \"../../Zform/controls\";\r\nimport { Row, Col, Tag, Icon, Tooltip } from \"antd\";\r\nimport { linkageTypeActionName } from \"../liveCanstant\";\r\nfunction ValueLinkConfigured(props, ref) {\r\n\tconst { linkageType, onRemove } = props;\r\n\tconst [configured, setConfigured] = useState([]);\r\n\tuseImperativeHandle(ref, () => {\r\n\t\treturn {\r\n\t\t\tgetCurrentConfigured() {\r\n\t\t\t\treturn configured;\r\n\t\t\t},\r\n\t\t\tsetConfigured,\r\n\t\t};\r\n\t});\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{configured.map((c,index) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Row gutter={16} key={c.srcValue} type=\"flex\" className=\"z-link-configured\">\r\n\t\t\t\t\t\t<Col span={6}>\r\n\t\t\t\t\t\t\t<div className=\"z-flex-space-between\">\r\n\t\t\t\t\t\t\t\t<Tag color=\"#2db7f5\">{c.valueLabel}</Tag>\r\n\t\t\t\t\t\t\t\t<span>{linkageTypeActionName[linkageType]}</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col span={14}>\r\n\t\t\t\t\t\t\t{c.fields.map(item => {\r\n\t\t\t\t\t\t\t\tif (Array.isArray(item.options)) {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<div key={item.fieldKey}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Tag color=\"magenta\">{item.label}</Tag>\r\n\t\t\t\t\t\t\t\t\t\t\t<span>可选的选项：</span>\r\n\t\t\t\t\t\t\t\t\t\t\t{item.options.map(opt => {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Tag key={opt.value} color=\"#2db7f5\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{opt.label}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<Tag color=\"magenta\" key={item.fieldKey ? item.fieldKey : item.groupName}>\r\n\t\t\t\t\t\t\t\t\t\t{item.fieldKey ? item.label : item.groupName}\r\n\t\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col span={4}>\r\n\t\t\t\t\t\t\t<Tooltip placement=\"top\" title=\"移除\">\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclassName=\"z-live-tool-item delete all-border small\"\r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\ttypeof onRemove === \"function\" && onRemove(c,index);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Icon type=\"delete\" />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t);\r\n\t\t\t})}\r\n\t\t\t{!configured.length ? <p className=\"z-text-center\">无配置</p> : null}\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default React.memo(React.forwardRef(ValueLinkConfigured));\r\n","import React from \"react\";\r\nimport { ZliveForm } from \"zerod\";\r\nimport HOC from \"@/HOC/load-HOC.js\";\r\nconst { AmdDocHOC, AshowDemoHOC } = HOC;\r\nimport doc from \"zerod/components/ZliveForm/doc.md\";\r\nimport formData from \"./formData\";\r\n// import linkages from \"./linkages\";\r\nimport { Button } from \"antd\";\r\nexport default AmdDocHOC(doc, {\r\n\tdemo0: function() {\r\n\t\tclass Myjavascript extends React.PureComponent {\r\n\t\t\tformData = { ...formData };\r\n\t\t\tonSave = newFormData => {\r\n\t\t\t\tconsole.log(newFormData);\r\n\t\t\t};\r\n\t\t\trender() {\r\n\t\t\t\treturn <ZliveForm formData={this.formData} onSave={this.onSave} />;\r\n\t\t\t}\r\n\t\t}\r\n\t\tconst Dom = AshowDemoHOC(<Myjavascript />, true);\r\n\t\treturn <Dom />;\r\n\t},\r\n\tdemo1: function() {\r\n\t\tclass Myjavascript extends React.PureComponent {\r\n\t\t\tstate = {\r\n\t\t\t\tformValue: {\r\n\t\t\t\t\tbusId: \"ee351e47c614415385fd7eb09a2c6358\",\r\n\t\t\t\t\tcontactName: \"李三66\",\r\n\t\t\t\t\tproblemNo: \"201908190002\",\r\n\t\t\t\t\tistName: \"【201908190002】问题登记\",\r\n\t\t\t\t\tregisterProblemDescription: \"待定\",\r\n\t\t\t\t\tcaseTypeLabel: \"殡葬管理\",\r\n\t\t\t\t\tinitiatorName: \"admin\",\r\n\t\t\t\t\tremark: \"纷纷\",\r\n\t\t\t\t\tinitiatorId: \"admin\",\r\n\t\t\t\t\tregisterPictures: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tid: 5377,\r\n\t\t\t\t\t\t\toriginalFileName: \"234646s74vk3ttzteclwkc\",\r\n\t\t\t\t\t\t\tfileName: \"2019/08/19/16/aa0a3722857c4172993e90838f0a6246\",\r\n\t\t\t\t\t\t\tfileSuffix: \"jpg\",\r\n\t\t\t\t\t\t\tfilePath: \"http://172.16.8.35:19004/2019/08/19/16/aa0a3722857c4172993e90838f0a6246.jpg\",\r\n\t\t\t\t\t\t\tfileSize: 288618,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t],\r\n\t\t\t\t\tcaseReasonCode: \"A0114003\",\r\n\t\t\t\t\tproblemOriginCodeLabel: \"新闻媒体曝光\",\r\n\t\t\t\t\tcaseType: \"A0114\",\r\n\t\t\t\t\tproblemAddress: {\r\n\t\t\t\t\t\tname: \"南山区政府(广东省深圳市南山区桃园路2号南山区委大楼)\",\r\n\t\t\t\t\t\taddress: \"广东省深圳市南山区桃园路2号南山区委大楼\",\r\n\t\t\t\t\t\tlongitude: 113.93041,\r\n\t\t\t\t\t\tlatitude: 22.53332,\r\n\t\t\t\t\t\tadcode: \"440305\",\r\n\t\t\t\t\t\tcitycode: \"156440300\",\r\n\t\t\t\t\t\tcountry: \"中国\",\r\n\t\t\t\t\t\tprovince: \"广东省\",\r\n\t\t\t\t\t\tcity: \"深圳市\",\r\n\t\t\t\t\t\tdistrict: \"南山区\",\r\n\t\t\t\t\t},\r\n\t\t\t\t\tproblemOriginCode: \"C0203\",\r\n\t\t\t\t\tcaseReasonCodeLabel: \"未经批准从事殡葬服务业务\",\r\n\t\t\t\t\tcontactPhone: \"1342166188\",\r\n\t\t\t\t\tbusStatus: \"101\",\r\n\t\t\t\t\tdispatchTag: \"2\",\r\n\t\t\t\t\tdispatchTagLabel: \"巡查员\",\r\n\t\t\t\t\treceiveUserAccount: \"FSADFSD\",\r\n\t\t\t\t\treceiveUserAccountLabel: \"FDASFS-未分组\",\r\n\t\t\t\t\tbusStatusName: \"待核实\",\r\n\t\t\t\t},\r\n\t\t\t};\r\n\t\t\tformData = { ...formData };\r\n\t\t\tonSubmit = values => {\r\n\t\t\t\tconsole.log(values);\r\n\t\t\t\treturn Promise.resolve();\r\n\t\t\t};\r\n\t\t\tcomponentDidMount() {\r\n\t\t\t\t// setTimeout(() => {\r\n\t\t\t\t// \tthis.setState({\r\n\t\t\t\t// \t\tformValue:{\r\n\t\t\t\t// \t\t\tdogName:\"8888\"\r\n\t\t\t\t// \t\t}\r\n\t\t\t\t// \t})\r\n\t\t\t\t// }, 2000);\r\n\t\t\t}\r\n\t\t\trender() {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div className=\"z-padding-15\">\r\n\t\t\t\t\t\t<ZliveForm.FormViewer\r\n\t\t\t\t\t\t\tformValues={this.state.formValue}\r\n\t\t\t\t\t\t\tformData={this.formData}\r\n\t\t\t\t\t\t\tonSubmit={this.onSubmit}\r\n\t\t\t\t\t\t\tmomentFormat={true}\r\n\t\t\t\t\t\t\tsubmitBtnRender={submit => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<div className=\"z-text-center\">\r\n\t\t\t\t\t\t\t\t\t\t<Button type=\"primary\" onClick={submit}>\r\n\t\t\t\t\t\t\t\t\t\t\t提交数据\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t}\r\n\t\tconst Dom = AshowDemoHOC(<Myjavascript />, true);\r\n\t\treturn <Dom />;\r\n\t},\r\n\tdemo2: function() {\r\n\t\tclass Myjavascript extends React.PureComponent {\r\n\t\t\trender() {\r\n\t\t\t\treturn <span />;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn <Myjavascript />;\r\n\t},\r\n});\r\n","import React, { useState, useEffect, useRef, useImperativeHandle, useCallback } from \"react\";\r\nimport ReactDom from \"react-dom\";\r\n// import Zform from \"../Zform\";\r\n// import { getControl, getOptions } from \"../../Zform/controls\";\r\nimport { Tag, Modal } from \"antd\";\r\nimport ZerodMainContext from \"../../ZerodMainContext\";\r\nimport Ztabs from \"../../Ztabs\";\r\nimport { ZcascaderItemGroup } from \"../../Zcascader\";\r\nimport ValueLinkControl from \"./ValueLinkControl\";\r\nimport ValueLinkConfigured from \"./ValueLinkConfigured\";\r\nimport IDLinkagesConfigured from \"./IDLinkagesConfigured\";\r\nconst linkageTypes = [\r\n\t{\r\n\t\ttab: \"单选/多选控制控件禁用\",\r\n\t\tkey: \"1\",\r\n\t\tactive: true,\r\n\t},\r\n\t{\r\n\t\ttab: \"单选/多选控制控件必填\",\r\n\t\tkey: \"2\",\r\n\t},\r\n\t{\r\n\t\ttab: \"单选/多选控制控件非必填\",\r\n\t\tkey: \"3\",\r\n\t},\r\n\t{\r\n\t\ttab: \"单选/多选控制选项\",\r\n\t\tkey: \"4\",\r\n\t},\r\n\t{\r\n\t\ttab: \"单选/多选控制组隐藏\",\r\n\t\tkey: \"5.1\",\r\n\t},\r\n\t{\r\n\t\ttab: \"单选/多选控制控件隐藏\",\r\n\t\tkey: \"5.2\",\r\n\t},\r\n\t{\r\n\t\ttab: \"身份证取出生年月日\",\r\n\t\tkey: \"6\",\r\n\t},\r\n\t{\r\n\t\ttab: \"单选联动其他控件异步选项\",\r\n\t\tkey: \"7\",\r\n\t},\r\n\t{\r\n\t\ttab: \"地图选点取行政区划\",\r\n\t\tkey: \"8\",\r\n\t},\r\n\t{\r\n\t\ttab: \"OCR识别取值\",\r\n\t\tkey: \"9\",\r\n\t},\r\n];\r\nconst itemKeys = {\r\n\tname: \"tab\",\r\n\tid: \"key\",\r\n};\r\n// const propTypes = {};\r\nconst defaultProps = {\r\n\t//默认的linkages\r\n\tdefaultValue: [],\r\n};\r\n\r\nfunction LinkageConfig(props) {\r\n\tconst { getInsertLocation, showRightModal, newFormData, defaultValue, onChange } = props;\r\n\tconst wrapperRef = useRef(null);\r\n\tconst [tabPanes, setTabPanes] = useState([\r\n\t\t{\r\n\t\t\ttab: \"联动列表\",\r\n\t\t\tkey: \"1\",\r\n\t\t\tcontent: null,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttab: \"联动配置\",\r\n\t\t\tkey: \"2\",\r\n\t\t\tcontent: null,\r\n\t\t},\r\n\t]);\r\n\tconst [tabKey, setTabKey] = useState(\"1\");\r\n\tconst [linkageTypesState, setLinkageTypes] = useState(linkageTypes);\r\n\tconst curentLinkTypeRef = useRef(linkageTypesState.find(item => item.active));\r\n\tconst objRef = useRef(null);\r\n\tconst defaultLinkagesRef = useRef(defaultValue);\r\n\t// console.log(\"defaultValue\", defaultValue);\r\n\tconst [insetLocaltion, setInsetLocaltion] = useState();\r\n\tuseEffect(() => {\r\n\t\t// 首先得获取wrapperRef.current元素所在得位置\r\n\t\tconst insetLocaltion = getInsertLocation(wrapperRef.current);\r\n\t\tlet parEl = wrapperRef.current;\r\n\t\twhile (parEl && !parEl.dataset.zgt_modal) {\r\n\t\t\tparEl = parEl.parentElement;\r\n\t\t}\r\n\t\tif (parEl) {\r\n\t\t\tobjRef.current = parEl.querySelector(\"#ZpageHeaderBox\");\r\n\t\t}\r\n\t\tsetInsetLocaltion(insetLocaltion);\r\n\t}, []);\r\n\tconst onItemClick = useCallback((e, item, i, props) => {\r\n\t\tsetLinkageTypes(\r\n\t\t\tlinkageTypesState.map(l => {\r\n\t\t\t\tconst active = l.key === item.data.key;\r\n\t\t\t\tif (active) {\r\n\t\t\t\t\tcurentLinkTypeRef.current = item.data;\r\n\t\t\t\t}\r\n\t\t\t\treturn { ...l, active };\r\n\t\t\t}),\r\n\t\t);\r\n\t}, []);\r\n\t//当前选择的控件\r\n\tconst [currentControl, setCurrentControl] = useState({});\r\n\t//取ValueLinkConfigured提供的属性\r\n\tconst configuredRef = useRef(null);\r\n\tuseEffect(() => {\r\n\t\tif (Array.isArray(defaultLinkagesRef.current) && [\"6\", \"7\", \"8\", \"9\"].includes(curentLinkTypeRef.current.key)) {\r\n\t\t\tconst IDconfigured = defaultLinkagesRef.current.filter(age => {\r\n\t\t\t\treturn age.linkageType === curentLinkTypeRef.current.key;\r\n\t\t\t});\r\n\t\t\tconfiguredRef.current && configuredRef.current.setConfigured(IDconfigured);\r\n\t\t} else {\r\n\t\t\tconfiguredRef.current && configuredRef.current.setConfigured([]);\r\n\t\t}\r\n\t}, [curentLinkTypeRef.current.key]);\r\n\r\n\tconst onRemove = (currentConf, srcIndex, distIndex) => {\r\n\t\tModal.confirm({\r\n\t\t\ttitle: \"是否确认移除这条配置?\",\r\n\t\t\tokText: \"确定\",\r\n\t\t\tcancelText: \"取消\",\r\n\t\t\tonOk() {\r\n\t\t\t\tconst currentConfigured = configuredRef.current.getCurrentConfigured();\r\n\t\t\t\tconst currentLinkageType = curentLinkTypeRef.current.key;\r\n\t\t\t\tlet ageIndex = -1;\r\n\t\t\t\tconst getageIndex = currentKey => {\r\n\t\t\t\t\treturn defaultLinkagesRef.current.findIndex(item => {\r\n\t\t\t\t\t\treturn item.linkageType === currentLinkageType && item.src.fieldKey === currentKey;\r\n\t\t\t\t\t});\r\n\t\t\t\t};\r\n\t\t\t\tif ([\"6\", \"7\", \"8\", \"9\"].includes(currentLinkageType)) {\r\n\t\t\t\t\tageIndex = getageIndex(currentConf.src.fieldKey);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tageIndex = getageIndex(currentConf.srcKey);\r\n\t\t\t\t}\r\n\t\t\t\tif (ageIndex > -1) {\r\n\t\t\t\t\tif ([\"6\", \"7\", \"8\", \"9\"].includes(currentLinkageType)) {\r\n\t\t\t\t\t\tcurrentConf.dist.splice(distIndex, 1);\r\n\t\t\t\t\t\tcurrentConfigured[srcIndex].dist = currentConf.dist;\r\n\t\t\t\t\t\tdefaultLinkagesRef.current[ageIndex].dist = currentConf.dist;\r\n\t\t\t\t\t\tif (!currentConf.dist.length) {\r\n\t\t\t\t\t\t\tcurrentConfigured.splice(srcIndex, 1);\r\n\t\t\t\t\t\t\tdefaultLinkagesRef.current.splice(ageIndex, 1);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tcurrentConfigured.splice(srcIndex, 1);\r\n\t\t\t\t\t\tdefaultLinkagesRef.current[ageIndex].dist = [...currentConfigured];\r\n\t\t\t\t\t\tif (!currentConfigured.length) {\r\n\t\t\t\t\t\t\tdefaultLinkagesRef.current.splice(ageIndex, 1);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconst newConfigured = [...currentConfigured];\r\n\t\t\t\t\tconfiguredRef.current.setConfigured(newConfigured);\r\n\t\t\t\t\tdefaultLinkagesRef.current = [...defaultLinkagesRef.current];\r\n\t\t\t\t\tonChange && onChange(defaultLinkagesRef.current);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<section ref={wrapperRef} className=\"z-age-config\">\r\n\t\t\t{objRef.current\r\n\t\t\t\t? ReactDom.createPortal(\r\n\t\t\t\t\t\t<div className=\"z-age-tab\">\r\n\t\t\t\t\t\t\t<Ztabs\r\n\t\t\t\t\t\t\t\ttabPanes={tabPanes}\r\n\t\t\t\t\t\t\t\tactiveKey={tabKey}\r\n\t\t\t\t\t\t\t\tonChange={key => {\r\n\t\t\t\t\t\t\t\t\tsetTabKey(key);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>,\r\n\t\t\t\t\t\tobjRef.current,\r\n\t\t\t\t  )\r\n\t\t\t\t: null}\r\n\t\t\t{tabKey === \"1\" ? (\r\n\t\t\t\t<section className=\"z-panel\">\r\n\t\t\t\t\t<div className=\"z-panel-body z-text-center\">未完待续</div>\r\n\t\t\t\t</section>\r\n\t\t\t) : null}\r\n\t\t\t{tabKey === \"2\" ? (\r\n\t\t\t\t<section>\r\n\t\t\t\t\t<div className=\"z-padding-15\">\r\n\t\t\t\t\t\t<div className=\"z-panel\">\r\n\t\t\t\t\t\t\t<div className=\"z-panel-body z-padding-bottom-0-important\">\r\n\t\t\t\t\t\t\t\t<ZcascaderItemGroup\r\n\t\t\t\t\t\t\t\t\tlabel=\"联动类型\"\r\n\t\t\t\t\t\t\t\t\titemData={linkageTypesState}\r\n\t\t\t\t\t\t\t\t\titemKeys={itemKeys}\r\n\t\t\t\t\t\t\t\t\tonItemClick={onItemClick}\r\n\t\t\t\t\t\t\t\t\tautoExpanded={true}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<ValueLinkControl\r\n\t\t\t\t\t\t\t\t\tnewFormData={newFormData}\r\n\t\t\t\t\t\t\t\t\tlinkageType={curentLinkTypeRef.current.key}\r\n\t\t\t\t\t\t\t\t\tonSrcSelected={control => {\r\n\t\t\t\t\t\t\t\t\t\tlet existLinkage = null;\r\n\t\t\t\t\t\t\t\t\t\tif (Array.isArray(defaultLinkagesRef.current)) {\r\n\t\t\t\t\t\t\t\t\t\t\texistLinkage = defaultLinkagesRef.current.find(age => {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tage.linkageType === curentLinkTypeRef.current.key &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tage.src.fieldKey === control.fieldKey\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tconfiguredRef.current.setConfigured(existLinkage ? [...existLinkage.dist] : []);\r\n\t\t\t\t\t\t\t\t\t\tsetCurrentControl(control);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tonOk={(links, other) => {\r\n\t\t\t\t\t\t\t\t\t\t// if(curentLinkTypeRef.current.key === \"6\"){\r\n\r\n\t\t\t\t\t\t\t\t\t\t// }\r\n\r\n\t\t\t\t\t\t\t\t\t\t//转成linkage\r\n\t\t\t\t\t\t\t\t\t\tlet age = {\r\n\t\t\t\t\t\t\t\t\t\t\tlinkageType: curentLinkTypeRef.current.key,\r\n\t\t\t\t\t\t\t\t\t\t\tname: curentLinkTypeRef.current.tab,\r\n\t\t\t\t\t\t\t\t\t\t\tsrc: null,\r\n\t\t\t\t\t\t\t\t\t\t\tdist: null,\r\n\t\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t\t\tif (links.srcControl) {\r\n\t\t\t\t\t\t\t\t\t\t\tage.src = {\r\n\t\t\t\t\t\t\t\t\t\t\t\tfieldKey: links.srcControl.fieldKey,\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel: links.srcControl.label,\r\n\t\t\t\t\t\t\t\t\t\t\t\tfieldType: links.srcControl.fieldType,\r\n\t\t\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tlet linkages = [];\r\n\t\t\t\t\t\t\t\t\t\tif ([\"1\", \"2\", \"3\", \"5.2\"].includes(curentLinkTypeRef.current.key)) {\r\n\t\t\t\t\t\t\t\t\t\t\tage.dist = links.srcValues.map(val => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tconst fields = links.distControls.map(d => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfieldKey: d.fieldKey,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel: d.label,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfieldType: d.fieldType,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsrcKey: age.src.fieldKey,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsrcValue: val.value,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalueLabel: val.label,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfields,\r\n\t\t\t\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t} else if ([\"4\"].includes(curentLinkTypeRef.current.key)) {\r\n\t\t\t\t\t\t\t\t\t\t\tage.dist = links.srcValues.map(val => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tconst fields = [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfieldKey: links.distControl.fieldKey,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel: links.distControl.label,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfieldType: links.distControl.fieldType,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\toptions: links.distValues.map(dv => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn { label: dv.label, value: dv.value };\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t];\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsrcKey: age.src.fieldKey,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsrcValue: val.value,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalueLabel: val.label,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfields,\r\n\t\t\t\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t} else if ([\"5.1\"].includes(curentLinkTypeRef.current.key)) {\r\n\t\t\t\t\t\t\t\t\t\t\tage.dist = links.srcValues.map(val => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tconst fields = links.distControls.map(d => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tgroupId: d.id,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tgroupName: d.label,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsrcKey: age.src.fieldKey,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsrcValue: val.value,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalueLabel: val.label,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfields,\r\n\t\t\t\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t} else if ([\"6\", \"7\", \"8\", \"9\"].includes(curentLinkTypeRef.current.key)) {\r\n\t\t\t\t\t\t\t\t\t\t\tconst asyncParamName =\r\n\t\t\t\t\t\t\t\t\t\t\t\tcurentLinkTypeRef.current.key === \"7\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t? other.asyncParamName\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t: undefined;\r\n\t\t\t\t\t\t\t\t\t\t\tconst regionName =\r\n\t\t\t\t\t\t\t\t\t\t\t\tcurentLinkTypeRef.current.key === \"8\" ? other.regionName : undefined;\r\n\t\t\t\t\t\t\t\t\t\t\tconst ocrParamName =\r\n\t\t\t\t\t\t\t\t\t\t\t\tcurentLinkTypeRef.current.key === \"9\" ? other.ocrParamName : undefined;\r\n\t\t\t\t\t\t\t\t\t\t\tlinkages = links.srcControls.map(l => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tconst fields = links.distControls.map(d => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfieldKey: d.fieldKey,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfieldType: d.fieldType,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel: d.label,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tasyncParamName,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tregionName,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tocrParamName,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t...age,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsrc: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfieldKey: l.fieldKey,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel: l.label,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfieldType: l.fieldType,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdist: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfields,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tasyncParamName,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tregionName,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tocrParamName,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\t//查找配置的选项中是否存在，存在就替换，不存在就追加\r\n\t\t\t\t\t\t\t\t\t\tif (Array.isArray(age.dist) && age.dist.length) {\r\n\t\t\t\t\t\t\t\t\t\t\tconst currentConfigured = configuredRef.current.getCurrentConfigured();\r\n\t\t\t\t\t\t\t\t\t\t\tage.dist.forEach(di => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tconst existIndex = currentConfigured.findIndex(con => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn con.srcValue !== undefined && con.srcValue === di.srcValue;\r\n\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (existIndex > -1) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tconst newFields = [];\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcurrentConfigured[existIndex].fields.forEach(f => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst hasFieldindex = di.fields.findIndex(df => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(df.fieldKey && df.fieldKey === f.fieldKey) ||\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(df.groupName && df.groupName === f.groupName)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (hasFieldindex > -1) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnewFields.push(di.fields[hasFieldindex]);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdi.fields.splice(hasFieldindex, 1);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnewFields.push(f);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdi.fields = [...newFields, ...di.fields];\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcurrentConfigured.splice(existIndex, 1, di);\r\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcurrentConfigured.push(di);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\tage.dist = [...currentConfigured];\r\n\t\t\t\t\t\t\t\t\t\t\tconfiguredRef.current.setConfigured([...currentConfigured]);\r\n\t\t\t\t\t\t\t\t\t\t\t//新的linkages\r\n\t\t\t\t\t\t\t\t\t\t\tlet existLinkageIndex = -1;\r\n\t\t\t\t\t\t\t\t\t\t\tif (Array.isArray(defaultLinkagesRef.current)) {\r\n\t\t\t\t\t\t\t\t\t\t\t\texistLinkageIndex = defaultLinkagesRef.current.findIndex(item => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tage.linkageType === item.linkageType &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tage.src.fieldKey === item.src.fieldKey\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tif (existLinkageIndex > -1) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tdefaultLinkagesRef.current.splice(existLinkageIndex, 1, age);\r\n\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\tdefaultLinkagesRef.current.push(age);\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t\t\t\t\tArray.isArray(linkages) &&\r\n\t\t\t\t\t\t\t\t\t\t\tlinkages.length &&\r\n\t\t\t\t\t\t\t\t\t\t\tArray.isArray(defaultLinkagesRef.current)\r\n\t\t\t\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\t\t\t\tlinkages.forEach(age => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tconst hasAgeIndex = defaultLinkagesRef.current.findIndex(item => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tage.linkageType === item.linkageType &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tage.src.fieldKey === item.src.fieldKey\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (hasAgeIndex > -1) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tconst hasAge = defaultLinkagesRef.current[hasAgeIndex];\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlet currageKeysConcat = \"\";\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tconst currAgeDist = age.dist[0];\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcurrAgeDist.fields.forEach(f => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcurrageKeysConcat += f.fieldKey;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcurrageKeysConcat += `${currAgeDist.asyncParamName}${currAgeDist.regionName}${currAgeDist.ocrParamName}`;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tconst fieldsIndex = hasAge.dist.findIndex(item => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlet keysConcat = \"\";\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.fields.forEach(f => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkeysConcat += f.fieldKey;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tkeysConcat += `${item.asyncParamName}${item.regionName}${item.ocrParamName}`;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn currageKeysConcat === keysConcat;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (fieldsIndex > -1) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thasAge.dist.splice(fieldsIndex, 1, currAgeDist);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thasAge.dist.push(currAgeDist);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tage.dist = hasAge.dist;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultLinkagesRef.current.splice(hasAgeIndex, 1, age);\r\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultLinkagesRef.current.push(age);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\tconst IDconfigured = defaultLinkagesRef.current.filter(item => {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn item.linkageType === curentLinkTypeRef.current.key;\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\tconfiguredRef.current.setConfigured(IDconfigured);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tdefaultLinkagesRef.current = [...defaultLinkagesRef.current];\r\n\t\t\t\t\t\t\t\t\t\tonChange && onChange(defaultLinkagesRef.current);\r\n\t\t\t\t\t\t\t\t\t\t// console.log(\"联动配置\", age, linkages, defaultLinkagesRef.current);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tonBack={() => {\r\n\t\t\t\t\t\t\t\t\t\tshowRightModal({\r\n\t\t\t\t\t\t\t\t\t\t\tshow: false,\r\n\t\t\t\t\t\t\t\t\t\t\tmodal: insetLocaltion,\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"z-panel-heading\">\r\n\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t{currentControl.label ? <Tag color=\"volcano\">{currentControl.label}</Tag> : null}\r\n\t\t\t\t\t\t\t\t\t已配置的选项\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"z-panel-body\">\r\n\t\t\t\t\t\t\t\t{[\"6\", \"7\", \"8\", \"9\"].includes(curentLinkTypeRef.current.key) ? (\r\n\t\t\t\t\t\t\t\t\t<IDLinkagesConfigured ref={configuredRef} onRemove={onRemove} />\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<ValueLinkConfigured\r\n\t\t\t\t\t\t\t\t\t\tlinkageType={curentLinkTypeRef.current.key}\r\n\t\t\t\t\t\t\t\t\t\tref={configuredRef}\r\n\t\t\t\t\t\t\t\t\t\tonRemove={onRemove}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</section>\r\n\t\t\t) : null}\r\n\t\t</section>\r\n\t);\r\n}\r\nLinkageConfig.defaultProps = defaultProps;\r\nexport default React.memo(ZerodMainContext.setConsumer(LinkageConfig));\r\n","import React, { useState, useEffect, useRef, useImperativeHandle, useCallback } from \"react\";\r\nimport { Icon, Input, Tooltip } from \"antd\";\r\nimport { getControl, getOptions } from \"../Zform/controls\";\r\nexport default React.memo(function GroupNameEdit(props) {\r\n\tconst { value, onChange } = props;\r\n\tconst [inputValue, setInputValue] = useState();\r\n\tconst [edited, setEdited] = useState(false);\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{!edited ? <span>{value}</span> : null}\r\n\t\t\t{edited ? (\r\n\t\t\t\t<div className=\"z-display-inline-block\" style={{ width: \"180px\" }}>\r\n\t\t\t\t\t{getControl(\"Input\", {\r\n\t\t\t\t\t\tsize: \"small\",\r\n\t\t\t\t\t\tvalue: inputValue,\r\n\t\t\t\t\t\tonChange: value => {\r\n\t\t\t\t\t\t\tsetInputValue(value);\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t})}\r\n\t\t\t\t</div>\r\n\t\t\t) : null}\r\n\t\t\t{edited ? (\r\n\t\t\t\t<Tooltip placement=\"top\" title=\"取消\">\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"z-live-tool-item all-border small delete z-margin-left-10\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tsetEdited(false);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Icon type=\"close\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Tooltip>\r\n\t\t\t) : null}\r\n\t\t\t{edited ? (\r\n\t\t\t\t<Tooltip placement=\"top\" title=\"确定\">\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"z-live-tool-item all-border small z-margin-left-10\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tconst returner = typeof onChange === \"function\" && onChange(inputValue);\r\n\t\t\t\t\t\t\tif (returner) {\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tsetEdited(false);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Icon type=\"check\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Tooltip>\r\n\t\t\t) : null}\r\n\t\t\t{!edited ? (\r\n\t\t\t\t<Tooltip placement=\"top\" title=\"修改组名\">\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"z-live-tool-item all-border small z-margin-left-10\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tsetEdited(true);\r\n\t\t\t\t\t\t\tsetInputValue(value);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Icon type=\"form\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Tooltip>\r\n\t\t\t) : null}\r\n\t\t</>\r\n\t);\r\n});\r\n","var map = {\n\t\"./AmdDocHOC/index.jsx\": \"pnNO\",\n\t\"./AshowDemoHOC/index.jsx\": \"+fre\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"jjl2\";","import React, { useState, useRef, useEffect } from \"react\";\r\nimport { getControl } from \"../Zform/controls\";\r\nimport ZlabelInput from \"../ZlabelInput\";\r\nimport { Icon, Tooltip, Tag } from \"antd\";\r\nconst defaultTags = [{ label: \"移动端列表展示字段\", value: \"1\" }, { label: \"PC端列表展示字段\", value: \"2\" }, { label: \"整行展示字段\", value: \"3\" }];\r\nconst colors = [\"#F8AD3A\", \"#01D0A2\", \"#3277FA\", \"#B94354\", \"#7469F1\"];\r\nconst AddTagName = React.memo(\r\n\tReact.forwardRef((props, ref) => {\r\n\t\tconst { value, onChange } = props;\r\n\t\tconst [tagValue, setTagValue] = useState([]);\r\n\t\tconst [tags, setTags] = useState(defaultTags);\r\n\t\tuseEffect(() => {\r\n\t\t\tif (Array.isArray(value)) {\r\n\t\t\t\tconst newTags = [...defaultTags];\r\n\t\t\t\tvalue.forEach(item => {\r\n\t\t\t\t\tconst finded = newTags.find(f => item.value === f.value);\r\n\t\t\t\t\tif (!finded) {\r\n\t\t\t\t\t\tnewTags.push(item);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tsetTags(newTags);\r\n\t\t\t\tsetTagValue(value.map(item => item.value));\r\n\t\t\t}\r\n\t\t}, [value]);\r\n\t\tuseEffect(() => {\r\n\t\t\tconst newValue = [];\r\n\t\t\ttags.forEach(item => {\r\n\t\t\t\tif (tagValue.includes(item.value)) {\r\n\t\t\t\t\tnewValue.push(item);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tonChange && onChange(newValue);\r\n\t\t}, [tagValue]);\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<div style={{ paddingTop: \"10px\" }}>\r\n\t\t\t\t\t{getControl(\"Checkbox.Group\", {\r\n\t\t\t\t\t\tlayout: \"vertical\",\r\n\t\t\t\t\t\tvalue: tagValue,\r\n\t\t\t\t\t\toptLabelRender: (item, index) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<Tag style={{ cursor: \"pointer\" }} color={colors[index % colors.length]}>\r\n\t\t\t\t\t\t\t\t\t{`${item.label}--[${item.value}]`}\r\n\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tselectList: tags,\r\n\t\t\t\t\t\tonChange: vals => {\r\n\t\t\t\t\t\t\tsetTagValue(vals);\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t})}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div style={{ padding: \"10px 0\" }}>自加标签</div>\r\n\t\t\t\t\t<CustomTagName\r\n\t\t\t\t\t\tonOk={newVal => {\r\n\t\t\t\t\t\t\tconst finded = tags.findIndex(item => item.value === newVal.value);\r\n\t\t\t\t\t\t\tif (finded > -1) {\r\n\t\t\t\t\t\t\t\ttags.splice(finded, 1, newVal);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tsetTags([...tags, newVal]);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t></CustomTagName>\r\n\t\t\t\t\t{/* {defaultTags.map(item => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\t\tkey={item.name}\r\n\t\t\t\t\t\t\t\tcolor={item.color}\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tsetInputValue(item.name);\r\n                                }}\r\n                                style={{cursor:\"pointer\"}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{item.name}\r\n\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})} */}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}),\r\n);\r\n\r\nconst CustomTagName = React.memo(function NameEdit(props) {\r\n\tconst { onOk } = props;\r\n\tconst [inputValue, setInputValue] = useState();\r\n\treturn (\r\n\t\t<div className=\"z-flex\">\r\n\t\t\t<div className=\"z-flex-1\">\r\n\t\t\t\t<ZlabelInput\r\n\t\t\t\t\tlabelPlaceholder=\"请输入label\"\r\n\t\t\t\t\tvaluePlaceholder=\"请输入value\"\r\n\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\tvalue={inputValue}\r\n\t\t\t\t\tonChange={val => {\r\n\t\t\t\t\t\tsetInputValue(val);\r\n\t\t\t\t\t}}\r\n\t\t\t\t></ZlabelInput>\r\n\t\t\t</div>\r\n\t\t\t<Tooltip placement=\"top\" title=\"确定\">\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName=\"z-live-tool-item all-border small z-margin-left-10 z-margin-top-2\"\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\ttypeof onOk === \"function\" && onOk(inputValue);\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Icon type=\"check\" />\r\n\t\t\t\t</div>\r\n\t\t\t</Tooltip>\r\n\t\t</div>\r\n\t);\r\n});\r\n\r\nexport default AddTagName;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { getControl } from \"../Zform/controls\";\r\nimport { httpAjax, itemsFromTree } from \"../zTool\";\r\nimport { treeDataAddKey } from \"./common\";\r\n//treeSelect 异步加载子节点组件\r\nconst TreeSelectLoader = React.forwardRef(function(props, ref) {\r\n\tconst { selectList, selectionsUrl, selectionsQuery, selectListFieldNames, optionsChange, ...others } = props;\r\n\tconst [options, setOptions] = useState([]);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetOptions(selectList);\r\n\t}, [selectList]);\r\n\tuseEffect(() => {\r\n\t\toptionsChange && optionsChange(options);\r\n\t}, [options]);\r\n\treturn getControl(\"TreeSelect\", {\r\n\t\t...others,\r\n\t\ttreeData: options,\r\n\t\tshowSearch: false,\r\n\t\ttreeDefaultExpandAll: false,\r\n\t\tallowClear: true,\r\n\t\tloadData:\r\n\t\t\tselectionsUrl && selectionsUrl.requireType === \"part\"\r\n\t\t\t\t? treeNode => {\r\n\t\t\t\t\t\t// console.log(treeNode);\r\n\t\t\t\t\t\tif (treeNode.props.isLeaf) {\r\n\t\t\t\t\t\t\treturn Promise.resolve();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn httpAjax(selectionsUrl.selectionsUrlMethod, selectionsUrl.selectionsUrl, {\r\n\t\t\t\t\t\t\t...selectionsQuery,\r\n\t\t\t\t\t\t\tid: treeNode.props.value,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.then(re => {\r\n\t\t\t\t\t\t\t\titemsFromTree({\r\n\t\t\t\t\t\t\t\t\ttree: options,\r\n\t\t\t\t\t\t\t\t\tsourceItem: { value: treeNode.props.value },\r\n\t\t\t\t\t\t\t\t\tkeyObj: { id: \"value\", children: \"children\" },\r\n\t\t\t\t\t\t\t\t\taction({ tree, currentItem, item, index, keyObj }) {\r\n\t\t\t\t\t\t\t\t\t\tif (Array.isArray(re.data) && re.data.length) {\r\n\t\t\t\t\t\t\t\t\t\t\tcurrentItem.children = treeDataAddKey(\r\n\t\t\t\t\t\t\t\t\t\t\t\tre.data,\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel: \"title\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"value\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tchildren: \"children\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey: \"key\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\tselectListFieldNames,\r\n\t\t\t\t\t\t\t\t\t\t\t\tfalse,\r\n\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\tcurrentItem.children = null;\r\n\t\t\t\t\t\t\t\t\t\t\tcurrentItem.isLeaf = true;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.finally(() => {\r\n\t\t\t\t\t\t\t\tsetOptions([...options]);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t  }\r\n\t\t\t\t: undefined,\r\n\t});\r\n});\r\nexport default TreeSelectLoader;\r\n","/*\r\n * @Author: zgt\r\n * @Date: 2019-05-18 14:14:29\r\n * @LastEditors: zgt\r\n * @LastEditTime: 2019-10-12 15:55:32\r\n * @Description: file content\r\n */\r\nimport React from \"react\";\r\nimport { dataType } from \"../zTool\";\r\nimport controls from \"./controls\";\r\n\r\nexport const regionNames = [\r\n\t{ label: \"省份\", value: \"province\" },\r\n\t{ label: \"城市\", value: \"city\" },\r\n\t{ label: \"区\", value: \"district\" },\r\n\t{ label: \"街道\", value: \"street\" },\r\n\t{ label: \"省市\", value: \"province,city\" },\r\n\t{ label: \"省市区\", value: \"province,city,district\" },\r\n\t{ label: \"省市区街道\", value: \"province,city,district,street\" },\r\n];\r\nexport const ocrFieldNames = [\r\n\t{ label: \"姓名\", value: \"name\" },\r\n\t{ label: \"性别\", value: \"sex\" },\r\n\t{ label: \"民族\", value: \"national\" },\r\n\t{ label: \"出生日期\", value: \"born\" },\r\n\t{ label: \"地址\", value: \"address\" },\r\n\t{ label: \"证件号码\", value: \"idCard\" },\r\n\t{ label: \"年龄\", value: \"age\" },\r\n];\r\n//以 \"seq\" 字段排序\r\nfunction sortList(o1, o2) {\r\n\tconst v1 = o1.hasOwnProperty(\"seq\") ? o1[\"seq\"] : 0;\r\n\tconst v2 = o2.hasOwnProperty(\"seq\") ? o2[\"seq\"] : 0;\r\n\treturn v1 - v2;\r\n}\r\n\r\nexport function pareLinkages(linkages) {\r\n\tif (Array.isArray(linkages)) {\r\n\t\treturn linkages;\r\n\t} else if (typeof linkages === \"string\" && /^\\[.+/.test(linkages)) {\r\n\t\treturn JSON.parse(linkages);\r\n\t}\r\n\treturn [];\r\n}\r\n//单个formItem\r\nexport function getFormItem({\r\n\tfield,\r\n\tgroup,\r\n\tlinkage,\r\n\tgetGroupsFn,\r\n\timperative,\r\n\tcustomOnChange,\r\n\tcustomFormRules,\r\n\tcustomControlRender,\r\n\tnoAsync,\r\n}) {\r\n\tconst getRules = customFormRules ? customFormRules[field.fieldKey] : null;\r\n\tlet config = field.config || {};\r\n\ttry {\r\n\t\tconfig = JSON.parse(field.config);\r\n\t} catch (e) {}\r\n\tconst newField = {\r\n\t\t...field,\r\n\t\tgroupId: group.id,\r\n\t\tseq: field.seq,\r\n\t\tkey: field.fieldKey,\r\n\t\tlabel: field.label,\r\n\t\tspan: field.span ? field.span : 8,\r\n\t\ttagName:\r\n\t\t\tArray.isArray(field.tagName) && field.tagName.length\r\n\t\t\t\t? field.tagName\r\n\t\t\t\t: Array.isArray(config.tagName)\r\n\t\t\t\t? config.tagName\r\n\t\t\t\t: [],\r\n\t\tlabelFocused: [5, 8, 9, 10, 11, 14, 15, 16].includes(field.fieldType),\r\n\t\timperative,\r\n\t\tcustomOnChange,\r\n\t\tcustomControlRender: field.fieldType === 14 ? customControlRender : undefined,\r\n\t};\r\n\tif (!customControlRender && field.fieldType === 14) {\r\n\t\tnewField.isFormItem = true;\r\n\t}\r\n\tnewField.options = controls[field.fieldType].getOptions(\r\n\t\tnewField,\r\n\t\ttypeof getRules === \"function\" ? getRules(newField, imperative) : [],\r\n\t);\r\n\r\n\tnewField.render = currentForm => {\r\n\t\treturn controls[newField.fieldType].getControl(\r\n\t\t\tnewField,\r\n\t\t\tlinkage,\r\n\t\t\tgetGroupsFn,\r\n\t\t\t{ disabled: field.disabled, noAsync },\r\n\t\t\tundefined,\r\n\t\t\tcurrentForm,\r\n\t\t);\r\n\t};\r\n\treturn newField;\r\n}\r\n//从item.formFieldInfoList生成Zform的items\r\nexport function getGroupItem(opt = {}) {\r\n\tconst { group, labelLayout } = opt;\r\n\tconst formItems = group.formFieldInfoList.map(field => {\r\n\t\treturn getFormItem({\r\n\t\t\tfield,\r\n\t\t\t...opt,\r\n\t\t});\r\n\t});\r\n\tformItems.sort(sortList);\r\n\treturn {\r\n\t\tadditive: group.additive, //添加状态\r\n\t\tgroupRef: React.createRef(),\r\n\t\tseq: group.seq,\r\n\t\tid: group.id,\r\n\t\tname: group.name,\r\n\t\tformItems,\r\n\t\tlabelLayout,\r\n\t};\r\n}\r\n//从formData生成group数据\r\nexport function translateGroups({\r\n\tformData,\r\n\tgetGroupsFn,\r\n\tlinkage,\r\n\timperative,\r\n\tcustomOnChange,\r\n\tcustomFormRules,\r\n\tcustomControlRender,\r\n\tnoAsync,\r\n}) {\r\n\tif (dataType.isObject(formData) && Array.isArray(formData.sectionList)) {\r\n\t\tconst groups = formData.sectionList.map(group => {\r\n\t\t\treturn getGroupItem({\r\n\t\t\t\tgroup,\r\n\t\t\t\tlinkage: linkage ? pareLinkages(formData.linkages) : null,\r\n\t\t\t\tgetGroupsFn,\r\n\t\t\t\timperative,\r\n\t\t\t\tcustomOnChange: customOnChange || formData.customOnChange,\r\n\t\t\t\tcustomFormRules: customFormRules || formData.customFormRules,\r\n\t\t\t\tcustomControlRender: customControlRender || formData.customControlRender,\r\n\t\t\t\tlabelLayout: formData.labelLayout,\r\n\t\t\t\tnoAsync,\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tgroups.sort(sortList);\r\n\t\treturn groups;\r\n\t} else {\r\n\t\treturn [];\r\n\t}\r\n}\r\n//移除linkageRef对应fieldKey的联动配置\r\nexport function removeSomeLinkage(linkageRef, fieldKey) {\r\n\tlet hasRemoveAge = false;\r\n\tlinkageRef.current = linkageRef.current.filter(age => {\r\n\t\tconst unlikeness = age.src[\"fieldKey\"] !== fieldKey;\r\n\t\tif (unlikeness) {\r\n\t\t\tage.dist.forEach(d => {\r\n\t\t\t\td.fields = d.fields.filter(f => {\r\n\t\t\t\t\tconst unlikeness = f[\"fieldKey\"] !== fieldKey;\r\n\t\t\t\t\tif (!hasRemoveAge && !unlikeness) {\r\n\t\t\t\t\t\thasRemoveAge = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn unlikeness;\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t\tif (!hasRemoveAge && !unlikeness) {\r\n\t\t\thasRemoveAge = true;\r\n\t\t}\r\n\t\treturn unlikeness;\r\n\t});\r\n\treturn hasRemoveAge;\r\n}\r\n\r\nexport function treeDataAddKey(tree = [], distMap, srcMap, isLeaf) {\r\n\tconst distKey = Object.assign({ label: \"label\", value: \"value\", children: \"children\", key: \"key\" }, distMap || {});\r\n\tconst srcKey = Object.assign({ label: \"label\", value: \"value\", children: \"children\" }, srcMap || {});\r\n\treturn Array.isArray(tree)\r\n\t\t? tree.map(item => {\r\n\t\t\t\tconst ciilds = treeDataAddKey(item[srcKey.children], distKey, srcKey, isLeaf);\r\n\t\t\t\treturn {\r\n\t\t\t\t\t[distKey.label]: item[srcKey.label],\r\n\t\t\t\t\t[distKey.value]: item[srcKey.value],\r\n\t\t\t\t\t[distKey.children]: ciilds.length ? ciilds : null,\r\n\t\t\t\t\t[distKey.key]: item[srcKey.value],\r\n\t\t\t\t\tisLeaf,\r\n\t\t\t\t};\r\n\t\t  })\r\n\t\t: [];\r\n}\r\n","module.exports = (__webpack_require__(\"9w1k\"))(366);","import React, { useState, useEffect, useRef, useImperativeHandle, useCallback } from \"react\";\r\nimport { Icon, Tooltip } from \"antd\";\r\n\r\nexport default React.memo(function InsertGroupBtns(props) {\r\n\tconst { onInsertUp, onInsertDown } = props;\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Tooltip placement=\"top\" title=\"向上插入一组\">\r\n\t\t\t\t<div className=\"z-live-tool-item all-border move small z-margin-right-10\" onClick={onInsertUp}>\r\n\t\t\t\t\t<Icon type=\"arrow-up\" className=\"z-group-insert\"/>\r\n\t\t\t\t</div>\r\n\t\t\t</Tooltip>\r\n\t\t\t<Tooltip placement=\"top\" title=\"向下插入一组\">\r\n\t\t\t\t<div className=\"z-live-tool-item all-border move small z-margin-right-10\" onClick={onInsertDown}>\r\n\t\t\t\t\t<Icon type=\"arrow-down\"  className=\"z-group-insert\"/>\r\n\t\t\t\t</div>\r\n\t\t\t</Tooltip>\r\n\t\t</>\r\n\t);\r\n});\r\n","import React, { useState, useEffect, useRef, useImperativeHandle, useCallback } from \"react\";\r\n// import { getControl, getOptions } from \"../../Zform/controls\";\r\nimport { Row, Col, Tag, Tooltip, Icon } from \"antd\";\r\nimport { regionNames, ocrFieldNames } from \"../common\";\r\nfunction IDLinkagesConfigured(props, ref) {\r\n\tconst { onRemove } = props;\r\n\tconst [configured, setConfigured] = useState([]);\r\n\tuseImperativeHandle(ref, () => {\r\n\t\treturn {\r\n\t\t\tgetCurrentConfigured() {\r\n\t\t\t\treturn configured;\r\n\t\t\t},\r\n\t\t\tsetConfigured,\r\n\t\t};\r\n\t});\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{configured.map((c, index) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Row gutter={16} key={c.linkageType + c.src.fieldKey} type=\"flex\" className=\"z-link-configured\">\r\n\t\t\t\t\t\t<Col span={6}>\r\n\t\t\t\t\t\t\t{c.linkageType === \"6\" ? <span>身份证输入控件：</span> : null}\r\n\t\t\t\t\t\t\t<Tag color=\"#2db7f5\">{c.src.label}</Tag>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col span={18}>\r\n\t\t\t\t\t\t\t{c.dist.map((d, distIndex) => {\r\n\t\t\t\t\t\t\t\tlet key = \"\";\r\n\t\t\t\t\t\t\t\td.fields.forEach(f => {\r\n\t\t\t\t\t\t\t\t\tkey += f.fieldKey;\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\tkey += `${d.asyncParamName}${d.regionName}${d.ocrParamName}`;\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<div key={key} className=\"z-margin-bottom-10 z-flex\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"z-flex-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>{c.linkageType === \"6\" ? \"出生年月日接收控件：\" : \"联动控件：\"}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{d.fields.map(item => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Tag color=\"magenta\" key={item.fieldKey}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{item.label}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t{d.asyncParamName ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t请求选项，其参数名：<Tag color=\"red\">{d.asyncParamName}</Tag>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t\t\t\t{d.regionName ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t内容是：\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Tag color=\"red\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{regionNames.find(item => item.value === d.regionName).label}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t\t\t\t{d.ocrParamName ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t内容是：\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Tag color=\"red\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tocrFieldNames.find(item => item.value === d.ocrParamName)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.label\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div style={{ width: \"60px\" }}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Tooltip placement=\"top\" title=\"移除\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"z-live-tool-item delete all-border small\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttypeof onRemove === \"function\" && onRemove(c, index, distIndex);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Icon type=\"delete\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t{/* <Col span={4}>\r\n\t\t\t\t\t\t\t<Tooltip placement=\"top\" title=\"移除\">\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclassName=\"z-live-tool-item delete all-border small\"\r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\ttypeof onRemove === \"function\" && onRemove(c, index);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Icon type=\"delete\" />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t</Col> */}\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t);\r\n\t\t\t})}\r\n\t\t\t{!configured.length ? <p className=\"z-text-center\">无配置</p> : null}\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default React.memo(React.forwardRef(IDLinkagesConfigured));\r\n","module.exports = (__webpack_require__(\"9w1k\"))(438);","module.exports = (__webpack_require__(\"9w1k\"))(329);","module.exports = (__webpack_require__(\"9w1k\"))(363);","module.exports = (__webpack_require__(\"9w1k\"))(497);","module.exports = (__webpack_require__(\"9w1k\"))(371);"],"sourceRoot":""}