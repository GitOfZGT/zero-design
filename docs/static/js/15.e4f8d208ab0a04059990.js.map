{"version":3,"sources":["webpack:///delegated ./node_modules/react-transition-group/index.js from dll-reference _dll_vendor_3d2c9e3bcfbe3a2fd368","webpack:///./src/Api sync \\.api.js$","webpack:///./src/views/Main/Config/ServiceWithTableList/DetailTab.jsx","webpack:///./src/views/Main/Config/ServiceWithTableList/getEditPage.js","webpack:///./src/views/Main/Config/ServiceWithTableList/index.jsx","webpack:///./src/views/Main/Config/ServiceWithTableList/ServiceTab.jsx","webpack:///./src/views/Main/Config/ServiceWithTableList/getDetailPage.js"],"names":["DetailTab","getConfig","content","background","padding","split","map","line","n","tmp","startsWith","color","indexOf","idx","key","substring","value","length","tabContent","item","serviceConfig","defaultTabPanes","tab","data","props","cfgcPropertyDOList","index","serviceId","tabpanes","i","tabPanes","getTabPanes","React","PureComponent","propTypes","PropTypes","object","setConsumer","getEditPage","pageType","headerTitle","headerContent","afterSubmitSuccess","configFormItems","label","render","form","setFieldsValue","confProperty","defaultConfigData","default","el","scrollDisableWheel","textAreaRef","options","rules","required","message","formItems","detailKey","pageCofig","pageHeader","show","title","rightMoreContent","type","panelHeader","items","detailApiInterface","id","api","config","getServiceDetail","submitApiInterface","values","addService","Object","assign","environment","updateService","detailId","moreContentRender","detail","searchForm","list","listType","cardCoverRender","actionDataIndex","tableParams","onChange","pagination","filters","sorter","console","log","expandedRowRender","record","indent","expanded","tableColumns","dataIndex","text","instance","showAddBtn","addBtnPermCode","addPageRender","panel","AddPage","closeRightModal","methods","getListData","showDetailBtn","detailBtnPermCode","detailPageRender","DetailPage","serviceName","remark","showUpdateBtn","updateBtnPermCod","updatePageRender","UpdatePage","showDeleteBtn","deleteBtnPermCod","moreBtnMap","name","onMoreBtnClick","success","listApiInterface","query","getServiceList","servcieName","deleteApiInterface","deleteService","showPagination","paginationType","ServiceTab","saveData","showModalLoading","updateServiceConfig","configProperty","then","re","catch","error","msg","finally","arrayOf","getPage","breadcrumbRoutes","span","lg"],"mappings":"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","file":"static/js/15.e4f8d208ab0a04059990.js","sourcesContent":["module.exports = (__webpack_require__(\"9w1k\"))(489);","var map = {\n\t\"./area.api.js\": \"eAri\",\n\t\"./config.api.js\": \"5WI2\",\n\t\"./login.api.js\": \"O3gd\",\n\t\"./scheduling.api.js\": \"Lwzs\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"Revr\";","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n// zerod\r\nimport { Ztabs, ZerodMainContext } from \"zerod\";\r\n\r\nclass DetailTab extends React.PureComponent {\r\n\tstatic propTypes = {\r\n\t\tdata: PropTypes.object,\r\n\t};\r\n\tgetConfig = (content) => {\r\n\t\tif (!content) {\r\n\t\t\treturn <div className=\"z-text-center z-text-gray\">无相关配置信息</div>;\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<div style={{ background: \"#2B2B2B\", padding: 16 }}>\r\n\t\t\t\t{content.split(\"\\n\").map((line, n) => {\r\n\t\t\t\t\tlet tmp = line;\r\n\t\t\t\t\tif (line.startsWith(\"#\")) {\r\n\t\t\t\t\t\ttmp = <span style={{ color: \"#629755\" }}>{line}</span>;\r\n\t\t\t\t\t} else if (line.indexOf(\"=\") > 0) {\r\n\t\t\t\t\t\tconst idx = line.indexOf(\"=\");\r\n\t\t\t\t\t\tconst key = line.substring(0, idx);\r\n\t\t\t\t\t\tconst value = line.substring(idx + 1, line.length);\r\n\t\t\t\t\t\ttmp = (\r\n\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t<span style={{ color: \"#9876AA\" }}>{key}</span>\r\n\t\t\t\t\t\t\t\t<span style={{ color: \"rgba(255,255,255,0.85)\" }}>=</span>\r\n\t\t\t\t\t\t\t\t<span style={{ color: \"#BABABA\" }}>{value}</span>\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn <div key={`${line}-${n}`}>{tmp}</div>;\r\n\t\t\t\t})}\r\n\t\t\t</div>\r\n\t\t);\r\n\t};\r\n\ttabContent = (item) => {\r\n\t\treturn this.getConfig(item.serviceConfig[\"confProperty\"]);\r\n\t};\r\n\tdefaultTabPanes = [\r\n\t\t{ tab: \"默认环境\", key: \"default\", serviceConfig: {}, content: this.tabContent },\r\n\t\t{ tab: \"开发环境\", key: \"dev\", serviceConfig: {}, content: this.tabContent },\r\n\t\t{ tab: \"测试环境\", key: \"test\", serviceConfig: {}, content: this.tabContent },\r\n\t\t{ tab: \"生产环境\", key: \"prod\", serviceConfig: {}, content: this.tabContent },\r\n\t];\r\n\tgetTabPanes(defaultTabPanes) {\r\n\t\tconst { data } = this.props;\r\n\t\tif (data && data.cfgcPropertyDOList) {\r\n\t\t\treturn defaultTabPanes.map((item, index) => {\r\n\t\t\t\titem.serviceId = data.serviceId;\r\n\t\t\t\tconst tabpanes = data.cfgcPropertyDOList;\r\n\t\t\t\tfor (let i = 0; i < tabpanes.length; i++) {\r\n\t\t\t\t\tif (item.key === tabpanes[i][\"environment\"]) {\r\n\t\t\t\t\t\titem.serviceConfig = tabpanes[i];\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn item;\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\treturn [];\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst tabPanes = this.getTabPanes(this.defaultTabPanes);\r\n\t\treturn (\r\n\t\t\t<div className=\"z-panel z-margin-top-20\">\r\n\t\t\t\t<div className=\"z-panel-heading\">配置信息</div>\r\n\t\t\t\t<div className=\"z-panel-body\">\r\n\t\t\t\t\t<Ztabs tabPanes={tabPanes} />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default ZerodMainContext.setConsumer(DetailTab);\r\n","import React from \"react\";\r\n// 第三方组件\r\nimport { Input, InputNumber, Button, message } from \"antd\";\r\n// zerod\r\nimport { ZeditSimpleFormHOC ,zTool} from \"zerod\";\r\n// 后台接口\r\nimport api from \"@/App.api.js\";\r\n\r\n// import components from '@/components/load-components'\r\n\r\nimport defaultConfigData from \"@/mock/serviceDefaultConfigData.js\";\r\n\r\nimport ServiceTab from \"./ServiceTab\";\r\n\r\nfunction getEditPage({ pageType, headerTitle, headerContent, afterSubmitSuccess }) {\r\n\tconst configFormItems = [\r\n\t\t{\r\n\t\t\tkey: \"quick\",\r\n\t\t\tlabel: \"快捷操作\",\r\n\t\t\trender: (form) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tform.setFieldsValue({\r\n\t\t\t\t\t\t\t\tconfProperty: defaultConfigData.default,\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t模板配置\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"confProperty\",\r\n\t\t\tlabel: \"默认配置\",\r\n\t\t\trender: (form) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Input.TextArea\r\n\t\t\t\t\t\trows={15}\r\n\t\t\t\t\t\tplaceholder=\"请输入默认配置\"\r\n\t\t\t\t\t\tref={(el) => {\r\n\t\t\t\t\t\t\tzTool.scrollDisableWheel(el.textAreaRef);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t\t//antd的 form.getFieldDecorator的options\r\n\t\t\toptions: {\r\n\t\t\t\t//验证规则\r\n\t\t\t\trules: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: \"不能为空。\",\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t},\r\n\t\t},\r\n\t];\r\n\r\n\tlet formItems = [\r\n\t\t{\r\n\t\t\tkey: \"serviceCode\",\r\n\t\t\tlabel: \"服务编码\",\r\n\t\t\trender: (form) => {\r\n\t\t\t\treturn <Input placeholder=\"请输入服务编码\" />;\r\n\t\t\t},\r\n\t\t\t//antd的 form.getFieldDecorator的options\r\n\t\t\toptions: {\r\n\t\t\t\t//验证规则\r\n\t\t\t\trules: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: \"不能为空。\",\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"serviceName\",\r\n\t\t\tlabel: \"服务名称\",\r\n\t\t\trender: (form) => {\r\n\t\t\t\treturn <Input placeholder=\"请输入服务名称\" />;\r\n\t\t\t},\r\n\t\t\t//antd的 form.getFieldDecorator的options\r\n\t\t\toptions: {\r\n\t\t\t\t//验证规则\r\n\t\t\t\trules: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: \"不能为空。\",\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"serviceRemark\",\r\n\t\t\tlabel: \"服务说明\",\r\n\t\t\trender: (form) => {\r\n\t\t\t\treturn <Input.TextArea rows={2} placeholder=\"请输入服务说明\" />;\r\n\t\t\t},\r\n\t\t\t//antd的 form.getFieldDecorator的options\r\n\t\t\toptions: {\r\n\t\t\t\t//验证规则\r\n\t\t\t\trules: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: \"不能为空。\",\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"servicePort\",\r\n\t\t\tdetailKey:'serviceProt',\r\n\t\t\tlabel: \"端口号\",\r\n\t\t\trender: (form) => {\r\n\t\t\t\treturn <InputNumber min={11110} max={65535} step={10} />;\r\n\t\t\t},\r\n\t\t\t//antd的 form.getFieldDecorator的options\r\n\t\t\toptions: {\r\n\t\t\t\t//验证规则\r\n\t\t\t\trules: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: \"不能为空。\",\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t},\r\n\t\t},\r\n\t];\r\n\tif (pageType === \"add\") {\r\n\t\tformItems = [...formItems, ...configFormItems];\r\n\t}\r\n\tconst pageCofig = {\r\n\t\tpageHeader: {\r\n\t\t\tshow: true,\r\n\t\t\t// any\r\n\t\t\ttitle: headerTitle,\r\n\t\t\t//any\r\n\t\t\tcontent: headerContent,\r\n\t\t\t//element | node\r\n\t\t\trightMoreContent: null,\r\n\t\t},\r\n\t\tform: {\r\n\t\t\ttype: pageType,\r\n\t\t\tpanelHeader: pageType === \"add\" ? \"新增服务信息\" : \"修改基础信息\",\r\n\t\t\titems: formItems,\r\n\t\t\tdetailApiInterface: (id, props) => {\r\n\t\t\t\treturn api.config.getServiceDetail({ serviceId: id });\r\n\t\t\t},\r\n\t\t\tsubmitApiInterface: (values, props) => {\r\n\t\t\t\tif (pageType === \"add\") {\r\n\t\t\t\t\treturn api.config.addService(Object.assign({}, values, { environment: \"default\" }));\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn api.config.updateService(Object.assign({}, values, { serviceId: props.detailId }));\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tafterSubmitSuccess,\r\n\t\t},\r\n\t};\r\n\tif (pageType === \"update\") {\r\n\t\tpageCofig.moreContentRender = (detail) => {\r\n\t\t\t// console.log(detail);\r\n\t\t\treturn <ServiceTab data={detail} formItems={configFormItems} />;\r\n\t\t};\r\n\t}\r\n\treturn ZeditSimpleFormHOC(pageCofig);\r\n}\r\nexport default getEditPage;\r\n","import React from \"react\";\r\nimport { Input,message } from \"antd\";\r\nimport{ ZsearchListHOC } from \"zerod\";\r\n\r\nimport api from \"@/App.api.js\";\r\n\r\nimport getEditPage from \"./getEditPage.js\";\r\nimport getDetailPage from \"./getDetailPage.js\";\r\n// let listExports = null;\r\nconst config = {\r\n\r\n\tpageHeader: {\r\n\t\tshow: true,\r\n\t\t//any\r\n\t\ttitle: \"服务配置\",\r\n\t\t//any\r\n\t\tcontent:\r\n\t\t\t\"微服务的定义，维护其配置。除了Eureka Service及Config Center两种服务不在这里配置，其他服务都必须在此定义和配置！\",\r\n\t\t//element | node\r\n\t\trightMoreContent: <div>右边内容</div>,\r\n\t},\r\n\tsearchForm: {\r\n\t\t// array>[object] | null，如果是null则不显示搜索表单\r\n\t\titems: [\r\n\t\t\t{\r\n\t\t\t\tkey: \"serviceCode\",\r\n\t\t\t\tlabel: \"服务编码\",\r\n\t\t\t\trender: (form) => {\r\n\t\t\t\t\treturn <Input placeholder=\"请输入内容\" />;\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tkey: \"serviceName\",\r\n\t\t\t\tlabel: \"服务名称\",\r\n\t\t\t\trender: (form) => {\r\n\t\t\t\t\treturn <Input placeholder=\"请输入内容\" />;\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t],\r\n\t},\r\n\tlist: {\r\n        // table | card\r\n        listType:\"table\",\r\n        cardCoverRender:null,// listType==\"card\"时的一个前置render\r\n\t\tpanelHeader: \"列表\",\r\n\t\t// 表格操作列的字段key\r\n        actionDataIndex: \"serviceName\",\r\n        // antd  Table的参数\r\n        tableParams:{\r\n            onChange:function(pagination, filters, sorter){\r\n                console.log(sorter)\r\n            },\r\n            expandedRowRender:(record, index, indent, expanded)=>{\r\n                console.log(indent)\r\n                return <div>{index+\"-\"+expanded}</div>\r\n            }\r\n        },\r\n\t\t// 表格列map数据数据，同antd的表格 columns\r\n\t\ttableColumns: [\r\n            {\r\n                title: \"服务名称\",\r\n                dataIndex: \"serviceName\",\r\n            },\r\n\t\t\t{\r\n\t\t\t\ttitle: \"服务编码\",\r\n                dataIndex: \"serviceCode\",\r\n                sorter:true,\r\n\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: \"约定端口号\",\r\n\t\t\t\tdataIndex: \"servicePort\",\r\n\t\t\t\trender: (text,record,index,instance) => {\r\n                    return <span className=\"z-text-red\">{text}</span>},\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: \"服务描述\",\r\n\t\t\t\tdataIndex: \"remark\",\r\n\t\t\t},\r\n\t\t],\r\n\t\t// 是否显示新建按钮\r\n\t\tshowAddBtn: true,\r\n\t\t// 新建按钮权限控制代码\r\n\t\taddBtnPermCode: \"\",\r\n\t\taddPageRender: (panel) => {\r\n\t\t\tconst AddPage = getEditPage({\r\n\t\t\t\tpageType: \"add\",\r\n\t\t\t\theaderTitle: \"新增服务配置\",\r\n\t\t\t\theaderContent: \"新增一个服务,需要录入服务编码服务名称端口号等信息\",\r\n\t\t\t\t// 保存数据成功的回调\r\n\t\t\t\tafterSubmitSuccess: (closeRightModal) => {\r\n\t\t\t\t\t// 保存数据成功后刷新列表数据\r\n\t\t\t\t\tpanel.methods.getListData();\r\n\t\t\t\t\t// 关闭右边modal\r\n\t\t\t\t\tcloseRightModal();\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t\treturn <AddPage />;\r\n\t\t},\r\n\t\t// 是否显示详情按钮\r\n\t\tshowDetailBtn: true,\r\n\t\t// 详情按钮权限控制代码\r\n\t\tdetailBtnPermCode: \"\",\r\n\t\tdetailPageRender: (record) => {\r\n\t\t\tconst DetailPage = getDetailPage({ headerTitle: record.serviceName, headerContent: record.remark });\r\n\t\t\treturn <DetailPage detailId={record.id}/>;\r\n\t\t},\r\n\t\t// 是否显示修改按钮\r\n\t\tshowUpdateBtn: true,\r\n\t\t// 修改按钮权限控制代码\r\n\t\tupdateBtnPermCod: \"\",\r\n\t\tupdatePageRender: (record,panel) => {\r\n\t\t\tconst UpdatePage = getEditPage({\r\n\t\t\t\tpageType: \"update\",\r\n\t\t\t\theaderTitle: record.serviceName,\r\n\t\t\t\theaderContent: record.remark,\r\n\t\t\t\tafterSubmitSuccess: (closeRightModal) => {\r\n\t\t\t\t\tpanel.methods.getListData(); // 保存数据成功后刷新列表数据\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t\treturn <UpdatePage detailId={record.id} />;\r\n\t\t},\r\n\t\t// 是否显示删除按钮\r\n\t\tshowDeleteBtn: true,\r\n\t\t// 删除按钮权限控制代码\r\n\t\tdeleteBtnPermCod: \"\",\r\n\t\t//更多操作按钮的map数据\r\n\t\tmoreBtnMap: [\r\n\t\t\t{\r\n\t\t\t\tkey: '0',\r\n\t\t\t\tname: \"默认的按钮\",\r\n\t\t\t},\r\n\t\t],\r\n\t\t//更多操作按钮的的点击事件\r\n\t\tonMoreBtnClick:(item,record)=>{\r\n\t\t\tmessage.success(`您当前点击的是[${record.serviceName}]这条数据`)\r\n\t\t},\r\n\t\t// 获取列表数据的后台接口函数，其必须内部返回Promise\r\n\t\tlistApiInterface: (query) => {\r\n\t\t\treturn api.config.getServiceList(Object.assign(query, { servcieName: query.serviceName })); //处理字段名\r\n\t\t},\r\n\t\t// 删除按钮的后台接口函数，其必须内部返回Promise\r\n\t\tdeleteApiInterface: (data) => {\r\n\t\t\treturn api.config.deleteService({ id: data.id });\r\n\t\t},\r\n\t\t// exportSomething: (obj) => (listExports = obj),\r\n\t\t//是否显示分页\r\n        showPagination: true,\r\n         // 分页类型 paging | infinite\r\n         paginationType:'paging',\r\n\t},\r\n};\r\nexport default ZsearchListHOC(config);\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n// zerod\r\nimport { Ztabs, Zform, ZerodMainContext } from \"zerod\";\r\n// 第三方组件\r\nimport { message } from \"antd\";\r\n\r\nimport api from \"@/App.api.js\";\r\n\r\nclass ServiceTab extends React.PureComponent {\r\n\tstatic propTypes = {\r\n\t\tdata: PropTypes.object,\r\n\t\tformItems: PropTypes.arrayOf(PropTypes.object),\r\n\t};\r\n\tmethods = {\r\n\t\tsaveData: (item, values) => {\r\n\t\t\tthis.props.showModalLoading(true);\r\n\t\t\treturn api.config\r\n\t\t\t\t.updateServiceConfig({\r\n\t\t\t\t\tconfigProperty: values[\"confProperty\"],\r\n\t\t\t\t\tenvironment: item.key,\r\n\t\t\t\t\tserviceId: item.serviceId,\r\n\t\t\t\t})\r\n\t\t\t\t.then((re) => {\r\n\t\t\t\t\tmessage.success(\"更新配置成功\");\r\n\t\t\t\t})\r\n\t\t\t\t.catch((re) => {\r\n\t\t\t\t\tmessage.error(re && re.msg ? re.msg : \"更新配置失败\");\r\n\t\t\t\t})\r\n\t\t\t\t.finally(() => {\r\n\t\t\t\t\tthis.props.showModalLoading(false);\r\n\t\t\t\t});\r\n\t\t},\r\n\t};\r\n\ttabContent = (item) => {\r\n\t\treturn (\r\n\t\t\t<Zform\r\n\t\t\t\titems={this.props.formItems}\r\n\t\t\t\tformDefaultValues={{\r\n\t\t\t\t\tconfProperty: item.serviceConfig[\"confProperty\"],\r\n\t\t\t\t}}\r\n\t\t\t\tonSubmit={(values) => {\r\n\t\t\t\t\treturn this.methods.saveData(item, values);\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t);\r\n\t};\r\n\tdefaultTabPanes = [\r\n\t\t{ tab: \"默认环境\", key: \"default\", serviceConfig: {}, content: this.tabContent },\r\n\t\t{ tab: \"开发环境\", key: \"dev\", serviceConfig: {}, content: this.tabContent },\r\n\t\t{ tab: \"测试环境\", key: \"test\", serviceConfig: {}, content: this.tabContent },\r\n\t\t{ tab: \"生产环境\", key: \"prod\", serviceConfig: {}, content: this.tabContent },\r\n\t];\r\n\tgetTabPanes(defaultTabPanes) {\r\n\t\tconst { data } = this.props;\r\n\t\tif (data && data.cfgcPropertyDOList) {\r\n\t\t\treturn defaultTabPanes.map((item, index) => {\r\n\t\t\t\titem.serviceId = data.serviceId;\r\n\t\t\t\tconst tabpanes = data.cfgcPropertyDOList;\r\n\t\t\t\tfor (let i = 0; i < tabpanes.length; i++) {\r\n\t\t\t\t\tif (item.key === tabpanes[i][\"environment\"]) {\r\n\t\t\t\t\t\titem.serviceConfig = tabpanes[i];\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn item;\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\treturn [];\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst tabPanes = this.getTabPanes(this.defaultTabPanes);\r\n\t\treturn (\r\n\t\t\t<div className=\"z-panel z-margin-top-20\">\r\n\t\t\t\t<div className=\"z-panel-heading\">修改配置信息</div>\r\n\t\t\t\t<div className=\"z-panel-body\">\r\n\t\t\t\t\t<Ztabs tabPanes={tabPanes} />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default ZerodMainContext.setConsumer(ServiceTab);\r\n","import React from \"react\";\r\n// import { Input, InputNumber, Button } from \"antd\";\r\nimport { ZdetailSimpleBaseHOC } from \"zerod\";\r\nimport api from \"@/App.api.js\";\r\nimport DetailTab from \"./DetailTab\";\r\n\r\nfunction getPage({ headerTitle, headerContent }) {\r\n\tconst pageCofig = {\r\n\t\tpageHeader: {\r\n\t\t\tshow: true,\r\n\t\t\t// array>[object] | null,如果是null则不显示面包屑\r\n\t\t\tbreadcrumbRoutes: null,\r\n\t\t\t// any\r\n\t\t\ttitle: headerTitle,\r\n\t\t\t//any\r\n\t\t\tcontent: headerContent,\r\n\t\t\t//element | node\r\n\t\t\trightMoreContent: <div>右边</div>,\r\n\t\t},\r\n\t\tdetail: {\r\n\t\t\tpanelHeader: \"基础信息\",\r\n\t\t\titems: [\r\n\t\t\t\t{\r\n\t\t\t\t\tkey: \"serviceName\",\r\n\t\t\t\t\tlabel: \"服务名称\",\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tkey: \"serviceCode\",\r\n\t\t\t\t\tlabel: \"服务编码\",\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tkey: \"serviceProt\",\r\n\t\t\t\t\tlabel: \"约定端口号\",\r\n\t\t\t\t\trender: (value, record) => {\r\n\t\t\t\t\t\treturn <span className=\"z-text-red\">{value}</span>;\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tkey: \"serviceRemark\",\r\n\t\t\t\t\tlabel: \"服务描述\",\r\n\t\t\t\t\tspan: { lg: 12 },\r\n\t\t\t\t\trender: (value, record) => {\r\n\t\t\t\t\t\treturn value;\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t\tdetailApiInterface: (id, props) => {\r\n\t\t\t\treturn api.config.getServiceDetail({ serviceId: id });\r\n\t\t\t},\r\n\t\t},\r\n\t\tmoreContentRender: (detail) => {\r\n\t\t\treturn <DetailTab data={detail} />;\r\n\t\t},\r\n\t};\r\n\treturn ZdetailSimpleBaseHOC(pageCofig);\r\n}\r\nexport default getPage;\r\n"],"sourceRoot":""}