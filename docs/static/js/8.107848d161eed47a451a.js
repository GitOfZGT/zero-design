(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"+fre":function(e,t,n){"use strict";n.r(t);var o=n("lRmw"),r=n("aLtU"),a=n.n(r),i=n("2x50"),l=n.n(i),u=n("gEKl"),s=n.n(u),c=n("HTqB"),d=n.n(c),f=n("DLeZ"),p=n.n(f),m=n("uqIC"),h=n.n(m);t.default={name:"AshowDemoHOC",HOC:function(e,t){return function(n){function r(){return a()(this,r),s()(this,d()(r).apply(this,arguments))}return p()(r,n),l()(r,[{key:"componentDidMount",value:function(){var n=this.boxEl.querySelector(".z-open-modal-btn");n._scroll=t,n._render=function(){return e}}},{key:"render",value:function(){var e=this;return h.a.createElement("div",{ref:function(t){e.boxEl=t}},h.a.createElement(o.a,{type:"primary",className:"z-open-modal-btn"},"查看Demo"))}}]),r}(h.a.PureComponent)}}},"02RS":function(e,t,n){var o=n("LPA5"),r=1/0,a=1.7976931348623157e308;e.exports=function(e){return e?(e=o(e))===r||e===-r?(e<0?-1:1)*a:e==e?e:0:0===e?e:0}},"0xes":function(e,t,n){var o=n("C8Zr"),r=n("CBEW");e.exports=n("g24s").getIterator=function(e){var t=r(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return o(t.call(e))}},"2Aml":function(e,t){e.exports=function(e,t,n){for(var o=n-1,r=e.length;++o<r;)if(e[o]===t)return o;return-1}},"2mOb":function(e,t,n){var o=n("WTWm");e.exports=function(e,t){return!(null==e||!e.length)&&o(e,t,0)>-1}},"2o6x":function(e,t){e.exports=function(e){return e!=e}},"3hts":function(e,t,n){var o=n("NN/P"),r=n("oIrN"),a=n("Utsp");e.exports=function(e,t){return o(e)||r(e,t)||a()}},EIku:function(e,t,n){e.exports=n("ZTnV")(318)},GzyK:function(e,t,n){n("mL7D"),n("TWys"),e.exports=n("0xes")},HPR2:function(e,t){e.exports='<div class="z-doc-titles"></div>\n\n<h1 id="-zliveform">动态表单配置：ZliveForm</h1>\n<p><code>ZliveForm</code>是动态表单配置模块（暂未完成）</p>\n<p><code>ZliveForm.FormViewer</code>是动态表单展示模块(包括控件联动效果)</p>\n<p>控件联动功能有：1、单选/多选控制其他控件禁用，2、单选/多选控制其他控件必填，3、单选/多选控制其控件非必填，4、单选/多选 控制 其他单选/多选的选择项，5.1、单选/多选控制一个组隐藏，5.2、单选/多选控制其他控件隐藏</p>\n<p>1、ZliveForm.FormViewer 的例子</p>\n<div class="z-demo-box" data-render="demo1" data-title="ZliveForm.FormViewer的例子"></div>\n\n<pre><code class="language-jsx">import React from &quot;react&quot;;\nimport { ZliveForm } from &quot;zerod&quot;;\nimport formData from &quot;./formData&quot;;\nimport linkages from &quot;./linkages&quot;;\nclass Myjavascript extends React.PureComponent {\n    formData = { ...formData, linkages };\n    onSubmit = (values) =&gt; {\n        console.log(values);\n        return Promise.resolve();\n    };\n    render() {\n        return &lt;ZliveForm.FormViewer formData={this.formData} onSubmit={this.onSubmit} /&gt;;\n    }\n}</code></pre>\n<div class="z-doc-titles"></div>\n\n<h2 id="zliveform-formviewer-props">ZliveForm.FormViewer 的 props</h2>\n<table>\n<thead>\n<tr>\n<th>参数</th>\n<th>说明</th>\n<th>类型</th>\n<th>默认值</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>formData</td>\n<td>渲染整个表单的数据</td>\n<td>object</td>\n<td>--</td>\n</tr>\n<tr>\n<td>onSubmit</td>\n<td>submit 类型的按钮触发表单验证通过后的确定回调函数，同/Zform 的 onSubmit</td>\n<td>function(values){return Promise.resolve()}</td>\n<td>--</td>\n</tr>\n</tbody></table>\n<h2 id="formdata-">formData 基本结构</h2>\n<div class="z-demo-box" data-render="demo2" data-title="formData"></div>\n\n<pre><code class="language-json">{\n    &quot;id&quot;: 111, //formId\n    &quot;name&quot;: &quot;养犬信息登记表&quot;,\n    &quot;code&quot;: &quot;dog_check_in_form&quot;,\n    &quot;description&quot;: &quot;养犬信息登记表&quot;,\n    &quot;linkages&quot;: [\n        //联动配置\n        {\n            &quot;linkageType&quot;: &quot;5.1&quot;,\n            &quot;name&quot;: &quot;单选/多选控制组隐藏&quot;,\n            &quot;src&quot;: { &quot;fieldKey&quot;: &quot;rfid&quot; },\n            &quot;dist&quot;: [\n                {\n                    &quot;srcValue&quot;: &quot;2&quot;,\n                    &quot;fields&quot;: [\n                        {\n                            &quot;groupId&quot;: 113,\n                            &quot;groupName&quot;: &quot;名称&quot;\n                        }\n                    ]\n                }\n            ]\n        },\n        {\n            &quot;linkageType&quot;: &quot;5.2&quot;,\n            &quot;name&quot;: &quot;单选/多选控制控件隐藏&quot;,\n            &quot;src&quot;: { &quot;fieldKey&quot;: &quot;isEntity&quot; },\n            &quot;dist&quot;: [\n                {\n                    &quot;srcValue&quot;: &quot;2&quot;,\n                    &quot;fields&quot;: [\n                        {\n                            &quot;fieldKey&quot;: &quot;recipientName&quot;,\n                            &quot;label&quot;: &quot;收件人姓名&quot;,\n                            &quot;fieldType&quot;: 1\n                        },\n                        {\n                            &quot;fieldKey&quot;: &quot;contact&quot;,\n                            &quot;label&quot;: &quot;联系方式&quot;,\n                            &quot;fieldType&quot;: 4\n                        }\n                    ]\n                }\n            ]\n        },\n        {\n            &quot;linkageType&quot;: &quot;1&quot;,\n            &quot;name&quot;: &quot;单选/多选控制控件禁用&quot;,\n            &quot;src&quot;: { &quot;fieldKey&quot;: &quot;dogSex&quot; },\n            &quot;dist&quot;: [\n                {\n                    &quot;srcValue&quot;: &quot;2&quot;,\n                    &quot;fields&quot;: [\n                        {\n                            &quot;fieldKey&quot;: &quot;dogProperty&quot;,\n                            &quot;label&quot;: &quot;犬只性质&quot;,\n                            &quot;fieldType&quot;: 3\n                        },\n                        {\n                            &quot;fieldKey&quot;: &quot;dogColor&quot;,\n                            &quot;label&quot;: &quot;犬只颜色&quot;,\n                            &quot;fieldType&quot;: 1\n                        }\n                    ]\n                }\n            ]\n        },\n        {\n            &quot;linkageType&quot;: &quot;2&quot;,\n            &quot;name&quot;: &quot;单选/多选控制控件必填&quot;,\n            &quot;src&quot;: { &quot;fieldKey&quot;: &quot;isIris&quot; },\n            &quot;dist&quot;: [\n                {\n                    &quot;srcValue&quot;: &quot;2&quot;,\n                    &quot;fields&quot;: [\n                        {\n                            &quot;fieldKey&quot;: &quot;birthday&quot;,\n                            &quot;label&quot;: &quot;出生日期&quot;,\n                            &quot;fieldType&quot;: 5\n                        }\n                    ]\n                }\n            ]\n        },\n        {\n            &quot;linkageType&quot;: &quot;3&quot;,\n            &quot;name&quot;: &quot;单选/多选控制控件非必填&quot;,\n            &quot;src&quot;: { &quot;fieldKey&quot;: &quot;isIris&quot; },\n            &quot;dist&quot;: [\n                {\n                    &quot;srcValue&quot;: &quot;1&quot;,\n                    &quot;fields&quot;: [\n                        {\n                            &quot;fieldKey&quot;: &quot;birthday&quot;,\n                            &quot;label&quot;: &quot;出生日期&quot;,\n                            &quot;fieldType&quot;: 5\n                        }\n                    ]\n                }\n            ]\n        },\n        {\n            &quot;linkageType&quot;: &quot;4&quot;,\n            &quot;name&quot;: &quot;单选/多选 控制 选项&quot;,\n            &quot;src&quot;: { &quot;fieldKey&quot;: &quot;rfid&quot; },\n            &quot;dist&quot;: [\n                {\n                    &quot;srcValue&quot;: &quot;1&quot;,\n                    &quot;fields&quot;: [\n                        {\n                            &quot;fieldKey&quot;: &quot;domicile&quot;,\n                            &quot;label&quot;: &quot;住所性质&quot;,\n                            &quot;options&quot;: [\n                                { &quot;label&quot;: &quot;自有&quot;, &quot;value&quot;: &quot;1&quot; },\n                                { &quot;label&quot;: &quot;租赁&quot;, &quot;value&quot;: &quot;2&quot; },\n                                { &quot;label&quot;: &quot;其他&quot;, &quot;value&quot;: &quot;3&quot; }\n                            ]\n                        }\n                    ]\n                },\n                {\n                    &quot;srcValue&quot;: &quot;2&quot;,\n                    &quot;fields&quot;: [\n                        {\n                            &quot;fieldKey&quot;: &quot;domicile&quot;,\n                            &quot;label&quot;: &quot;住所性质&quot;,\n                            &quot;options&quot;: [{ &quot;label&quot;: &quot;自有&quot;, &quot;value&quot;: &quot;1&quot; }]\n                        }\n                    ]\n                }\n            ]\n        }\n    ],\n    &quot;buttonList&quot;: [\n        //按钮\n        {\n            &quot;id&quot;: 58,\n            &quot;formId&quot;: 111,\n            &quot;buttonType&quot;: 1,\n            &quot;name&quot;: &quot;保存按钮&quot;,\n            &quot;value&quot;: &quot;保存&quot;,\n            &quot;seq&quot;: 1,\n            &quot;description&quot;: null\n        }\n    ],\n    &quot;sectionList&quot;: [\n        //表单控件组\n        {\n            &quot;id&quot;: 111, //groupId\n            &quot;formId&quot;: 111,\n            &quot;name&quot;: &quot;犬只信息&quot;,\n            &quot;seq&quot;: 1, //组排序\n            &quot;description&quot;: &quot;犬只信息表&quot;,\n            &quot;formFieldInfoList&quot;: [\n                //表单控件\n                {\n                    &quot;id&quot;: 466,\n                    &quot;sectionId&quot;: 111,\n                    &quot;label&quot;: &quot;犬只名称&quot;,\n                    &quot;fieldKey&quot;: &quot;dogName&quot;,\n                    &quot;fieldType&quot;: 1, //控件类型\n                    &quot;required&quot;: 1, //是否必填\n                    &quot;regularExpression&quot;: null, //正则表达式\n                    &quot;description&quot;: null,\n                    &quot;errorMsg&quot;: null, //验证失败的提示信息\n                    &quot;placeholder&quot;: null,\n                    &quot;span&quot;: 8, //栅栏占格(1-24)\n                    &quot;labelWidth&quot;: 4,\n                    &quot;config&quot;: &quot;{\\&quot;maxLength\\&quot;:8,\\&quot;minLength\\&quot;:1}&quot;, //规则配置等\n                    &quot;initialValue&quot;: null, //初始值\n                    &quot;seq&quot;: 1 //排序\n                }\n            ]\n        },\n        {\n            &quot;id&quot;: 112,\n            &quot;formId&quot;: 111,\n            &quot;name&quot;: &quot;养犬人信息&quot;,\n            &quot;seq&quot;: 2,\n            &quot;description&quot;: &quot;养犬人信息表&quot;,\n            &quot;gmtCreate&quot;: &quot;2019-03-26 12:09:59&quot;,\n            &quot;gmtModified&quot;: &quot;2019-03-26 12:09:59&quot;,\n            &quot;formFieldInfoList&quot;: [\n                {\n                    &quot;id&quot;: 475,\n                    &quot;sectionId&quot;: 112,\n                    &quot;label&quot;: &quot;养犬人姓名&quot;,\n                    &quot;fieldKey&quot;: &quot;name&quot;,\n                    &quot;fieldType&quot;: 1,\n                    &quot;required&quot;: 1,\n                    &quot;regularExpression&quot;: null,\n                    &quot;description&quot;: null,\n                    &quot;errorMsg&quot;: null,\n                    &quot;placeholder&quot;: null,\n                    &quot;span&quot;: 8,\n                    &quot;labelWidth&quot;: 4,\n                    &quot;config&quot;: &quot;{\\&quot;maxLength\\&quot;:8,\\&quot;minLength\\&quot;:1}&quot;,\n                    &quot;initialValue&quot;: null,\n                    &quot;seq&quot;: 1\n                }\n            ]\n        }\n    ]\n}</code></pre>\n'},JfRf:function(e,t,n){var o=n("y8u0"),r=n("EIku"),a=n("uvK3"),i=Math.max;e.exports=function(e,t,n){var l=null==e?0:e.length;if(!l)return-1;var u=null==n?0:a(n);return u<0&&(u=i(l+u,0)),o(e,r(t,3),u)}},Jpah:function(e,t,n){e.exports=n("GzyK")},LPA5:function(e,t,n){e.exports=n("ZTnV")(427)},MFvt:function(e,t){e.exports=function(){}},"NN/P":function(e,t,n){var o=n("8Qmg");e.exports=function(e){if(o(e))return e}},QEvK:function(e,t,n){e.exports=n("ZTnV")(352)},"T+ma":function(e,t){e.exports=function(e,t,n){for(var o=-1,r=null==e?0:e.length;++o<r;)if(n(t,e[o]))return!0;return!1}},Utsp:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},WTWm:function(e,t,n){var o=n("y8u0"),r=n("2o6x"),a=n("2Aml");e.exports=function(e,t,n){return t==t?a(e,t,n):o(e,r,n)}},cXJ7:function(e,t,n){var o=n("s677"),r=n("2mOb"),a=n("T+ma"),i=n("QEvK"),l=n("d2dw"),u=n("dlQH"),s=200;e.exports=function(e,t,n){var c=-1,d=r,f=e.length,p=!0,m=[],h=m;if(n)p=!1,d=a;else if(f>=s){var g=t?null:l(e);if(g)return u(g);p=!1,d=i,h=new o}else h=t?[]:m;e:for(;++c<f;){var y=e[c],v=t?t(y):y;if(y=n||0!==y?y:0,p&&v==v){for(var q=h.length;q--;)if(h[q]===v)continue e;t&&h.push(v),m.push(y)}else d(h,v,n)||(h!==m&&h.push(v),m.push(y))}return m}},d2dw:function(e,t,n){var o=n("jkYs"),r=n("MFvt"),a=n("dlQH"),i=o&&1/a(new o([,-0]))[1]==1/0?function(e){return new o(e)}:r;e.exports=i},dlQH:function(e,t,n){e.exports=n("ZTnV")(355)},eb80:function(e,t,n){"use strict";n.r(t);var o=n("uqIC"),r=n.n(o),a=n("3hts"),i=n.n(a),l=n("A4Qw"),u=n.n(l),s=n("/sSO"),c=n("fPpz"),d=n("bS4n"),f=n.n(d),p=n("6ato"),m=n.n(p),h=n("2dj7"),g=n.n(h),y=n("Xtzg"),v=n.n(y),q=n("0dFU"),b=n.n(q),E=n("EH+i"),C=n.n(E),k=n("/umX"),w=n.n(k),O=n("iczh"),x=n.n(O);function T(e){var t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch(e){return t}}function S(e){var t=new XMLHttpRequest;e.onProgress&&t.upload&&(t.upload.onprogress=function(t){t.total>0&&(t.percent=t.loaded/t.total*100),e.onProgress(t)});var n=new FormData;e.data&&Object.keys(e.data).map(function(t){n.append(t,e.data[t])}),n.append(e.filename,e.file),t.onerror=function(t){e.onError(t)},t.onload=function(){if(t.status<200||t.status>=300)return e.onError(function(e,t){var n="cannot post "+e.action+" "+t.status+"'",o=new Error(n);return o.status=t.status,o.method="post",o.url=e.action,o}(e,t),T(t));e.onSuccess(T(t),t)},t.open("post",e.action,!0),e.withCredentials&&"withCredentials"in t&&(t.withCredentials=!0);var o=e.headers||{};for(var r in null!==o["X-Requested-With"]&&t.setRequestHeader("X-Requested-With","XMLHttpRequest"),o)o.hasOwnProperty(r)&&null!==o[r]&&t.setRequestHeader(r,o[r]);return t.send(n),{abort:function(){t.abort()}}}var L=+new Date,I=0;function P(){return"rc-upload-"+L+"-"+ ++I}var N=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),o=e.name||"",r=e.type||"",a=r.replace(/\/.*$/,"");return n.some(function(e){var t=e.trim();return"."===t.charAt(0)?function(e,t){return-1!==e.indexOf(t,e.length-t.length)}(o.toLowerCase(),t.toLowerCase()):/\/\*$/.test(t)?a===t.replace(/\/.*$/,""):r===t})}return!0};var j=function(e,t,n){var o=function e(o,r){r=r||"",o.isFile?o.file(function(e){n(e)&&t([e])}):o.isDirectory&&function(e,t){var n=e.createReader(),o=[];!function e(){n.readEntries(function(n){var r=Array.prototype.slice.apply(n);o=o.concat(r),r.length?e():t(o)})}()}(o,function(t){t.forEach(function(t){e(t,""+r+o.name+"/")})})},r=!0,a=!1,i=void 0;try{for(var l,u=e[Symbol.iterator]();!(r=(l=u.next()).done);r=!0)o(l.value.webkitGetAsEntry())}catch(e){a=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw i}}},M=function(e){function t(){var e,n,o,r;m()(this,t);for(var a=arguments.length,i=Array(a),l=0;l<a;l++)i[l]=arguments[l];return n=o=v()(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),o.state={uid:P()},o.reqs={},o.onChange=function(e){var t=e.target.files;o.uploadFiles(t),o.reset()},o.onClick=function(){var e=o.fileInput;e&&e.click()},o.onKeyDown=function(e){"Enter"===e.key&&o.onClick()},o.onFileDrop=function(e){if(e.preventDefault(),"dragover"!==e.type)if(o.props.directory)j(e.dataTransfer.items,o.uploadFiles,function(e){return N(e,o.props.accept)});else{var t=Array.prototype.slice.call(e.dataTransfer.files).filter(function(e){return N(e,o.props.accept)});o.uploadFiles(t)}},o.uploadFiles=function(e){var t=Array.prototype.slice.call(e);t.forEach(function(e){e.uid=P(),o.upload(e,t)})},o.saveFileInput=function(e){o.fileInput=e},r=n,v()(o,r)}return b()(t,e),g()(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.abort()}},{key:"upload",value:function(e,t){var n=this,o=this.props;if(!o.beforeUpload)return setTimeout(function(){return n.post(e)},0);var r=o.beforeUpload(e,t);r&&r.then?r.then(function(t){var o=Object.prototype.toString.call(t);return"[object File]"===o||"[object Blob]"===o?n.post(t):n.post(e)}).catch(function(e){console&&console.log(e)}):!1!==r&&setTimeout(function(){return n.post(e)},0)}},{key:"post",value:function(e){var t=this;if(this._isMounted){var n=this.props,o=n.data,r=n.onStart,a=n.onProgress;"function"==typeof o&&(o=o(e)),new Promise(function(t){var o=n.action;if("function"==typeof o)return t(o(e));t(o)}).then(function(i){var l=e.uid,u=n.customRequest||S;t.reqs[l]=u({action:i,filename:n.name,file:e,data:o,headers:n.headers,withCredentials:n.withCredentials,onProgress:a?function(t){a(t,e)}:null,onSuccess:function(o,r){delete t.reqs[l],n.onSuccess(o,e,r)},onError:function(o,r){delete t.reqs[l],n.onError(o,r,e)}}),r(e)})}}},{key:"reset",value:function(){this.setState({uid:P()})}},{key:"abort",value:function(e){var t=this.reqs;if(e){var n=e;e&&e.uid&&(n=e.uid),t[n]&&(t[n].abort(),delete t[n])}else Object.keys(t).forEach(function(e){t[e]&&t[e].abort(),delete t[e]})}},{key:"render",value:function(){var e,t=this.props,n=t.component,o=t.prefixCls,a=t.className,i=t.disabled,l=t.id,u=t.style,s=t.multiple,c=t.accept,d=t.children,p=t.directory,m=t.openFileDialogOnClick,h=x()((e={},w()(e,o,!0),w()(e,o+"-disabled",i),w()(e,a,a),e)),g=i?{}:{onClick:m?this.onClick:function(){},onKeyDown:this.onKeyDown,onDrop:this.onFileDrop,onDragOver:this.onFileDrop,tabIndex:"0"};return r.a.createElement(n,f()({},g,{className:h,role:"button",style:u}),r.a.createElement("input",{id:l,type:"file",ref:this.saveFileInput,key:this.state.uid,style:{display:"none"},accept:c,directory:p?"directory":null,webkitdirectory:p?"webkitdirectory":null,multiple:s,onChange:this.onChange}),d)}}]),t}(o.Component);M.propTypes={id:C.a.string,component:C.a.string,style:C.a.object,prefixCls:C.a.string,className:C.a.string,multiple:C.a.bool,directory:C.a.bool,disabled:C.a.bool,accept:C.a.string,children:C.a.any,onStart:C.a.func,data:C.a.oneOfType([C.a.object,C.a.func]),action:C.a.oneOfType([C.a.string,C.a.func]),headers:C.a.object,beforeUpload:C.a.func,customRequest:C.a.func,onProgress:C.a.func,withCredentials:C.a.bool,openFileDialogOnClick:C.a.bool};var D=M,K=n("jCnN"),F=n.n(K),R=n("QGNe"),W=n.n(R),U={position:"absolute",top:0,opacity:0,filter:"alpha(opacity=0)",left:0,zIndex:9999},_=function(e){function t(){var e,n,o,r;m()(this,t);for(var a=arguments.length,i=Array(a),l=0;l<a;l++)i[l]=arguments[l];return n=o=v()(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),o.state={uploading:!1},o.file={},o.onLoad=function(){if(o.state.uploading){var e=o,t=e.props,n=e.file,r=void 0;try{var a=o.getIframeDocument(),i=a.getElementsByTagName("script")[0];i&&i.parentNode===a.body&&a.body.removeChild(i),r=a.body.innerHTML,t.onSuccess(r,n)}catch(e){W()(!1,"cross domain error for Upload. Maybe server should return document.domain script. see Note from https://github.com/react-component/upload"),r="cross-domain",t.onError(e,null,n)}o.endUpload()}},o.onChange=function(){var e=o.getFormInputNode(),t=o.file={uid:P(),name:e.value&&e.value.substring(e.value.lastIndexOf("\\")+1,e.value.length)};o.startUpload();var n=o.props;if(!n.beforeUpload)return o.post(t);var r=n.beforeUpload(t);r&&r.then?r.then(function(){o.post(t)},function(){o.endUpload()}):!1!==r?o.post(t):o.endUpload()},o.saveIframe=function(e){o.iframe=e},r=n,v()(o,r)}return b()(t,e),g()(t,[{key:"componentDidMount",value:function(){this.updateIframeWH(),this.initIframe()}},{key:"componentDidUpdate",value:function(){this.updateIframeWH()}},{key:"getIframeNode",value:function(){return this.iframe}},{key:"getIframeDocument",value:function(){return this.getIframeNode().contentDocument}},{key:"getFormNode",value:function(){return this.getIframeDocument().getElementById("form")}},{key:"getFormInputNode",value:function(){return this.getIframeDocument().getElementById("input")}},{key:"getFormDataNode",value:function(){return this.getIframeDocument().getElementById("data")}},{key:"getFileForMultiple",value:function(e){return this.props.multiple?[e]:e}},{key:"getIframeHTML",value:function(e){var t="",n="";if(e){t='<script>document.domain="'+e+'";<\/script>',n='<input name="_documentDomain" value="'+e+'" />'}return'\n    <!DOCTYPE html>\n    <html>\n    <head>\n    <meta http-equiv="X-UA-Compatible" content="IE=edge" />\n    <style>\n    body,html {padding:0;margin:0;border:0;overflow:hidden;}\n    </style>\n    '+t+'\n    </head>\n    <body>\n    <form method="post"\n    encType="multipart/form-data"\n    action="" id="form"\n    style="display:block;height:9999px;position:relative;overflow:hidden;">\n    <input id="input" type="file"\n     name="'+this.props.name+'"\n     style="position:absolute;top:0;right:0;height:9999px;font-size:9999px;cursor:pointer;"/>\n    '+n+'\n    <span id="data"></span>\n    </form>\n    </body>\n    </html>\n    '}},{key:"initIframeSrc",value:function(){this.domain&&(this.getIframeNode().src="javascript:void((function(){\n        var d = document;\n        d.open();\n        d.domain='"+this.domain+"';\n        d.write('');\n        d.close();\n      })())")}},{key:"initIframe",value:function(){var e=this.getIframeNode(),t=e.contentWindow,n=void 0;this.domain=this.domain||"",this.initIframeSrc();try{n=t.document}catch(o){this.domain=document.domain,this.initIframeSrc(),n=(t=e.contentWindow).document}n.open("text/html","replace"),n.write(this.getIframeHTML(this.domain)),n.close(),this.getFormInputNode().onchange=this.onChange}},{key:"endUpload",value:function(){this.state.uploading&&(this.file={},this.state.uploading=!1,this.setState({uploading:!1}),this.initIframe())}},{key:"startUpload",value:function(){this.state.uploading||(this.state.uploading=!0,this.setState({uploading:!0}))}},{key:"updateIframeWH",value:function(){var e=F.a.findDOMNode(this),t=this.getIframeNode();t.style.height=e.offsetHeight+"px",t.style.width=e.offsetWidth+"px"}},{key:"abort",value:function(e){if(e){var t=e;e&&e.uid&&(t=e.uid),t===this.file.uid&&this.endUpload()}else this.endUpload()}},{key:"post",value:function(e){var t=this,n=this.getFormNode(),o=this.getFormDataNode(),r=this.props.data,a=this.props.onStart;"function"==typeof r&&(r=r(e));var i=document.createDocumentFragment();for(var l in r)if(r.hasOwnProperty(l)){var u=document.createElement("input");u.setAttribute("name",l),u.value=r[l],i.appendChild(u)}o.appendChild(i),new Promise(function(n){var o=t.props.action;if("function"==typeof o)return n(o(e));n(o)}).then(function(t){n.setAttribute("action",t),n.submit(),o.innerHTML="",a(e)})}},{key:"render",value:function(){var e,t=this.props,n=t.component,o=t.disabled,a=t.className,i=t.prefixCls,l=t.children,u=t.style,s=f()({},U,{display:this.state.uploading||o?"none":""}),c=x()((e={},w()(e,i,!0),w()(e,i+"-disabled",o),w()(e,a,a),e));return r.a.createElement(n,{className:c,style:f()({position:"relative",zIndex:0},u)},r.a.createElement("iframe",{ref:this.saveIframe,onLoad:this.onLoad,style:s}),l)}}]),t}(o.Component);_.propTypes={component:C.a.string,style:C.a.object,disabled:C.a.bool,prefixCls:C.a.string,className:C.a.string,accept:C.a.string,onStart:C.a.func,multiple:C.a.bool,children:C.a.any,data:C.a.oneOfType([C.a.object,C.a.func]),action:C.a.oneOfType([C.a.string,C.a.func]),name:C.a.string};var V=_;function A(){}var z=function(e){function t(){var e,n,o,r;m()(this,t);for(var a=arguments.length,i=Array(a),l=0;l<a;l++)i[l]=arguments[l];return n=o=v()(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),o.state={Component:null},o.saveUploader=function(e){o.uploader=e},r=n,v()(o,r)}return b()(t,e),g()(t,[{key:"componentDidMount",value:function(){this.props.supportServerRender&&this.setState({Component:this.getComponent()},this.props.onReady)}},{key:"getComponent",value:function(){return"undefined"!=typeof File?D:V}},{key:"abort",value:function(e){this.uploader.abort(e)}},{key:"render",value:function(){if(this.props.supportServerRender){var e=this.state.Component;return e?r.a.createElement(e,f()({},this.props,{ref:this.saveUploader})):null}var t=this.getComponent();return r.a.createElement(t,f()({},this.props,{ref:this.saveUploader}))}}]),t}(o.Component);z.propTypes={component:C.a.string,style:C.a.object,prefixCls:C.a.string,action:C.a.oneOfType([C.a.string,C.a.func]),name:C.a.string,multipart:C.a.bool,directory:C.a.bool,onError:C.a.func,onSuccess:C.a.func,onProgress:C.a.func,onStart:C.a.func,data:C.a.oneOfType([C.a.object,C.a.func]),headers:C.a.object,accept:C.a.string,multiple:C.a.bool,disabled:C.a.bool,beforeUpload:C.a.func,customRequest:C.a.func,onReady:C.a.func,withCredentials:C.a.bool,supportServerRender:C.a.bool,openFileDialogOnClick:C.a.bool},z.defaultProps={component:"span",prefixCls:"rc-upload",data:{},headers:{},name:"file",multipart:!1,onReady:A,onStart:A,onError:A,onSuccess:A,supportServerRender:!1,multiple:!1,beforeUpload:null,customRequest:null,withCredentials:!1,openFileDialogOnClick:!0};var H=z,Z=n("uVSq"),J=n.n(Z),B=n("JfRf"),Q=n.n(B),X=n("sVRC"),Y=n("V/OK"),$=n("U23S"),G=n("qibm"),ee=n("wOKz");function te(e){return!e||e<0?0:e>100?100:e}var ne=function(e){var t=e.prefixCls,n=e.percent,r=e.successPercent,a=e.strokeWidth,i=e.size,l=e.strokeColor,u=e.strokeLinecap,s=e.children,c={width:"".concat(te(n),"%"),height:a||("small"===i?6:8),background:l,borderRadius:"square"===u?0:"100px"},d={width:"".concat(te(r),"%"),height:a||("small"===i?6:8),borderRadius:"square"===u?0:"100px"},f=void 0!==r?o.createElement("div",{className:"".concat(t,"-success-bg"),style:d}):null;return o.createElement("div",null,o.createElement("div",{className:"".concat(t,"-outer")},o.createElement("div",{className:"".concat(t,"-inner")},o.createElement("div",{className:"".concat(t,"-bg"),style:c}),f)),s)},oe=n("YReu"),re=n.n(oe),ae=function(e){return function(e){function t(){return m()(this,t),v()(this,e.apply(this,arguments))}return b()(t,e),t.prototype.componentDidUpdate=function(){var e=this,t=Date.now(),n=!1;Object.keys(this.paths).forEach(function(o){var r=e.paths[o];if(r){n=!0;var a=r.style;a.transitionDuration=".3s, .3s, .3s, .06s",e.prevTimeStamp&&t-e.prevTimeStamp<100&&(a.transitionDuration="0s, 0s")}}),n&&(this.prevTimeStamp=Date.now())},t.prototype.render=function(){return e.prototype.render.call(this)},t}(e)},ie={className:"",percent:0,prefixCls:"rc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,style:{},trailColor:"#D9D9D9",trailWidth:1},le=C.a.oneOfType([C.a.number,C.a.string]),ue={className:C.a.string,percent:C.a.oneOfType([le,C.a.arrayOf(le)]),prefixCls:C.a.string,strokeColor:C.a.oneOfType([C.a.string,C.a.arrayOf(C.a.string)]),strokeLinecap:C.a.oneOf(["butt","round","square"]),strokeWidth:le,style:C.a.object,trailColor:C.a.string,trailWidth:le},se=function(e){function t(){var n,o,r;m()(this,t);for(var a=arguments.length,i=Array(a),l=0;l<a;l++)i[l]=arguments[l];return n=o=v()(this,e.call.apply(e,[this].concat(i))),o.paths={},r=n,v()(o,r)}return b()(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.className,o=t.percent,a=t.prefixCls,i=t.strokeColor,l=t.strokeLinecap,u=t.strokeWidth,s=t.style,c=t.trailColor,d=t.trailWidth,p=re()(t,["className","percent","prefixCls","strokeColor","strokeLinecap","strokeWidth","style","trailColor","trailWidth"]);delete p.gapPosition;var m=Array.isArray(o)?o:[o],h=Array.isArray(i)?i:[i],g=u/2,y="M "+("round"===l?g:0)+","+g+"\n           L "+("round"===l?100-u/2:100)+","+g,v="0 0 100 "+u,q=0;return r.a.createElement("svg",f()({className:a+"-line "+n,viewBox:v,preserveAspectRatio:"none",style:s},p),r.a.createElement("path",{className:a+"-line-trail",d:y,strokeLinecap:l,stroke:c,strokeWidth:d||u,fillOpacity:"0"}),m.map(function(t,n){var o={strokeDasharray:t+"px, 100px",strokeDashoffset:"-"+q+"px",transition:"stroke-dashoffset 0.3s ease 0s, stroke-dasharray .3s ease 0s, stroke 0.3s linear"},i=h[n]||h[h.length-1];return q+=t,r.a.createElement("path",{key:n,className:a+"-line-path",d:y,strokeLinecap:l,stroke:i,strokeWidth:u,fillOpacity:"0",ref:function(t){e.paths[n]=t},style:o})}))},t}(o.Component);se.propTypes=ue,se.defaultProps=ie;ae(se);var ce=function(e){function t(){var n,o,r;m()(this,t);for(var a=arguments.length,i=Array(a),l=0;l<a;l++)i[l]=arguments[l];return n=o=v()(this,e.call.apply(e,[this].concat(i))),o.paths={},r=n,v()(o,r)}return b()(t,e),t.prototype.getPathStyles=function(e,t,n,o){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=50-o/2,i=0,l=-a,u=0,s=-2*a;switch(arguments[5]){case"left":i=-a,l=0,u=2*a,s=0;break;case"right":i=a,l=0,u=-2*a,s=0;break;case"bottom":l=a,s=2*a}var c="M 50,50 m "+i+","+l+"\n     a "+a+","+a+" 0 1 1 "+u+","+-s+"\n     a "+a+","+a+" 0 1 1 "+-u+","+s,d=2*Math.PI*a;return{pathString:c,pathStyle:{stroke:n,strokeDasharray:t/100*(d-r)+"px "+d+"px",strokeDashoffset:"-"+(r/2+e/100*(d-r))+"px",transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s"}}},t.prototype.getStokeList=function(){var e=this,t=this.props,n=t.prefixCls,o=t.percent,a=t.strokeColor,i=t.strokeWidth,l=t.strokeLinecap,u=t.gapDegree,s=t.gapPosition,c=Array.isArray(o)?o:[o],d=Array.isArray(a)?a:[a],f=0;return c.map(function(t,o){var a=d[o]||d[d.length-1],c=e.getPathStyles(f,t,a,i,u,s),p=c.pathString,m=c.pathStyle;return f+=t,r.a.createElement("path",{key:o,className:n+"-circle-path",d:p,strokeLinecap:l,strokeWidth:0===t?0:i,fillOpacity:"0",style:m,ref:function(t){e.paths[o]=t}})})},t.prototype.render=function(){var e=this.props,t=e.prefixCls,n=e.strokeWidth,o=e.trailWidth,a=e.gapDegree,i=e.gapPosition,l=e.trailColor,u=e.strokeLinecap,s=e.style,c=e.className,d=re()(e,["prefixCls","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","style","className"]),p=this.getPathStyles(0,100,l,n,a,i),m=p.pathString,h=p.pathStyle;return delete d.percent,delete d.strokeColor,r.a.createElement("svg",f()({className:t+"-circle "+c,viewBox:"0 0 100 100",style:s},d),r.a.createElement("path",{className:t+"-circle-trail",d:m,stroke:l,strokeLinecap:u,strokeWidth:o||n,fillOpacity:"0",style:h}),this.getStokeList())},t}(o.Component);ce.propTypes=f()({},ue,{gapPosition:C.a.oneOf(["top","bottom","left","right"])}),ce.defaultProps=f()({},ie,{gapPosition:"top"});var de=ae(ce),fe={normal:"#108ee9",exception:"#ff5500",success:"#87d068"};var pe=function(e){var t=e.prefixCls,n=e.width,r=e.strokeWidth,a=e.trailColor,i=e.strokeLinecap,l=e.gapPosition,u=e.gapDegree,s=e.type,c=e.children,d=n||120,f={width:d,height:d,fontSize:.15*d+6},p=r||6,m=l||"dashboard"===s&&"bottom"||"top",h=u||"dashboard"===s&&75;return o.createElement("div",{className:"".concat(t,"-inner"),style:f},o.createElement(de,{percent:function(e){var t=e.percent,n=e.successPercent,o=te(t);return n?[n,te(o-te(n))]:o}(e),strokeWidth:p,trailWidth:p,strokeColor:function(e){var t=e.progressStatus,n=e.successPercent,o=e.strokeColor||fe[t];return n?[fe.success,o]:o}(e),strokeLinecap:i,trailColor:a,prefixCls:t,gapDegree:h,gapPosition:m}),c)};function me(e){return(me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function he(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ge(){return(ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function ye(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ve(e,t){return!t||"object"!==me(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function qe(e){return(qe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function be(e,t){return(be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ee=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&(n[o[r]]=e[o[r]])}return n},Ce=Object(ee.a)("line","circle","dashboard"),ke=Object(ee.a)("normal","exception","active","success"),we=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=ve(this,qe(t).apply(this,arguments))).renderProgress=function(t){var n,r,a=t.getPrefixCls,i=e.props,l=i.prefixCls,u=i.className,s=i.percent,c=void 0===s?0:s,d=i.status,f=(i.format,i.trailColor,i.size),p=i.successPercent,m=i.type,h=(i.strokeWidth,i.width,i.showInfo),g=(i.gapDegree,i.gapPosition,i.strokeColor,i.strokeLinecap,Ee(i,["prefixCls","className","percent","status","format","trailColor","size","successPercent","type","strokeWidth","width","showInfo","gapDegree","gapPosition","strokeColor","strokeLinecap"])),y=a("progress",l),v=parseInt(void 0!==p?p.toString():c.toString(),10)>=100&&!("status"in i)?"success":d||"normal",q=e.renderProcessInfo(y,v);"line"===m?r=o.createElement(ne,ge({},e.props,{prefixCls:y}),q):"circle"!==m&&"dashboard"!==m||(r=o.createElement(pe,ge({},e.props,{prefixCls:y,progressStatus:v}),q));var b=x()(y,(he(n={},"".concat(y,"-").concat("dashboard"===m?"circle":m),!0),he(n,"".concat(y,"-status-").concat(v),!0),he(n,"".concat(y,"-show-info"),h),he(n,"".concat(y,"-").concat(f),f),n),u);return o.createElement("div",ge({},g,{className:b}),r)},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&be(e,t)}(t,o["Component"]),function(e,t,n){t&&ye(e.prototype,t),n&&ye(e,n)}(t,[{key:"renderProcessInfo",value:function(e,t){var n,r=this.props,a=r.showInfo,i=r.format,l=r.type,u=r.percent,s=r.successPercent;if(!a)return null;var c="circle"===l||"dashboard"===l?"":"-circle";return i||"exception"!==t&&"success"!==t?n=(i||function(e){return"".concat(e,"%")})(te(u),te(s)):"exception"===t?n=o.createElement(Y.a,{type:"close".concat(c),theme:"line"===l?"filled":"outlined"}):"success"===t&&(n=o.createElement(Y.a,{type:"check".concat(c),theme:"line"===l?"filled":"outlined"})),o.createElement("span",{className:"".concat(e,"-text"),title:"string"==typeof n?n:void 0},n)}},{key:"render",value:function(){return o.createElement(G.a,null,this.renderProgress)}}]),t}();we.defaultProps={type:"line",percent:0,showInfo:!0,trailColor:"#f3f3f3",size:"default",gapDegree:0,strokeLinecap:"round"},we.propTypes={status:E.oneOf(ke),type:E.oneOf(Ce),showInfo:E.bool,percent:E.number,width:E.number,strokeWidth:E.number,strokeLinecap:E.oneOf(["round","square"]),strokeColor:E.string,trailColor:E.string,format:E.func,gapDegree:E.number,default:E.oneOf(["default","small"])};var Oe=we;function xe(e){return(xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Se(){return(Se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function Le(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Ie(e,t){return!t||"object"!==xe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Pe(e){return(Pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ne(e,t){return(Ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var je=function(e){return!!e&&0===e.indexOf("image/")},Me=function(e){if(je(e.type))return!0;var t=e.thumbUrl||e.url,n=function(e){if(!e)return"";var t=e.split("/"),n=t[t.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(n)||[""])[0]}(t);return!(!/^data:image\//.test(t)&&!/(webp|svg|png|gif|jpg|jpeg|bmp|dpg)$/i.test(n))||!/^data:/.test(t)&&!n},De=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=Ie(this,Pe(t).apply(this,arguments))).handleClose=function(t){var n=e.props.onRemove;n&&n(t)},e.handlePreview=function(t,n){var o=e.props.onPreview;if(o)return n.preventDefault(),o(t)},e.previewFile=function(e,t){if(!je(e.type))return t("");var n=new FileReader;n.onloadend=function(){return t(n.result)},n.readAsDataURL(e)},e.renderUploadList=function(t){var n,r=t.getPrefixCls,a=e.props,i=a.prefixCls,l=a.items,u=void 0===l?[]:l,s=a.listType,c=a.showPreviewIcon,d=a.showRemoveIcon,f=a.locale,p=r("upload",i),m=u.map(function(t){var n,r,a=o.createElement(Y.a,{type:"uploading"===t.status?"loading":"paper-clip"});if("picture"===s||"picture-card"===s)if("picture-card"===s&&"uploading"===t.status)a=o.createElement("div",{className:"".concat(p,"-list-item-uploading-text")},f.uploading);else if(t.thumbUrl||t.url){var i=Me(t)?o.createElement("img",{src:t.thumbUrl||t.url,alt:t.name}):o.createElement(Y.a,{type:"file",className:"".concat(p,"-list-item-icon"),theme:"twoTone"});a=o.createElement("a",{className:"".concat(p,"-list-item-thumbnail"),onClick:function(n){return e.handlePreview(t,n)},href:t.url||t.thumbUrl,target:"_blank",rel:"noopener noreferrer"},i)}else a=o.createElement(Y.a,{className:"".concat(p,"-list-item-thumbnail"),type:"picture",theme:"twoTone"});if("uploading"===t.status){var l="percent"in t?o.createElement(Oe,Se({type:"line"},e.props.progressAttr,{percent:t.percent})):null;r=o.createElement("div",{className:"".concat(p,"-list-item-progress"),key:"progress"},l)}var u,m=x()((Te(n={},"".concat(p,"-list-item"),!0),Te(n,"".concat(p,"-list-item-").concat(t.status),!0),n)),h="string"==typeof t.linkProps?JSON.parse(t.linkProps):t.linkProps,g=t.url?o.createElement("a",Se({target:"_blank",rel:"noopener noreferrer",className:"".concat(p,"-list-item-name"),title:t.name},h,{href:t.url,onClick:function(n){return e.handlePreview(t,n)}}),t.name):o.createElement("span",{className:"".concat(p,"-list-item-name"),onClick:function(n){return e.handlePreview(t,n)},title:t.name},t.name),y=c?o.createElement("a",{href:t.url||t.thumbUrl,target:"_blank",rel:"noopener noreferrer",style:t.url||t.thumbUrl?void 0:{pointerEvents:"none",opacity:.5},onClick:function(n){return e.handlePreview(t,n)},title:f.previewFile},o.createElement(Y.a,{type:"eye-o"})):null,v=d?o.createElement(Y.a,{type:"delete",title:f.removeFile,onClick:function(){return e.handleClose(t)}}):null,q=d?o.createElement(Y.a,{type:"close",title:f.removeFile,onClick:function(){return e.handleClose(t)}}):null,b="picture-card"===s&&"uploading"!==t.status?o.createElement("span",{className:"".concat(p,"-list-item-actions")},y,v):q;u=t.response&&"string"==typeof t.response?t.response:t.error&&t.error.statusText||f.uploadError;var E="error"===t.status?o.createElement($.a,{title:u},a,g):o.createElement("span",null,a,g);return o.createElement("div",{className:m,key:t.uid},o.createElement("div",{className:"".concat(p,"-list-item-info")},E),b,o.createElement(X.a,{transitionName:"fade",component:""},r))}),h=x()((Te(n={},"".concat(p,"-list"),!0),Te(n,"".concat(p,"-list-").concat(s),!0),n)),g="picture-card"===s?"animate-inline":"animate";return o.createElement(X.a,{transitionName:"".concat(p,"-").concat(g),component:"div",className:h},m)},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ne(e,t)}(t,o["Component"]),function(e,t,n){t&&Le(e.prototype,t),n&&Le(e,n)}(t,[{key:"componentDidUpdate",value:function(){var e=this;"picture"!==this.props.listType&&"picture-card"!==this.props.listType||(this.props.items||[]).forEach(function(t){"undefined"!=typeof document&&"undefined"!=typeof window&&window.FileReader&&window.File&&t.originFileObj instanceof File&&void 0===t.thumbUrl&&(t.thumbUrl="",e.previewFile(t.originFileObj,function(n){t.thumbUrl=n,e.forceUpdate()}))})}},{key:"render",value:function(){return o.createElement(G.a,null,this.renderUploadList)}}]),t}();function Ke(){return(Ke=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function Fe(e){return Ke({},e,{lastModified:e.lastModified,lastModifiedDate:e.lastModifiedDate,name:e.name,size:e.size,type:e.type,uid:e.uid,percent:0,originFileObj:e})}function Re(e,t){var n=void 0!==e.uid?"uid":"name";return t.filter(function(t){return t[n]===e[n]})[0]}De.defaultProps={listType:"text",progressAttr:{strokeWidth:2,showInfo:!1},showRemoveIcon:!0,showPreviewIcon:!0};var We=n("GVwX"),Ue=n("+MI8");function _e(e){return(_e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ae(){return(Ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function ze(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function He(e,t){return!t||"object"!==_e(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ze(e){return(Ze=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Je(e,t){return(Je=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Be=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=He(this,Ze(t).call(this,e))).onStart=function(e){var t=Fe(e);t.status="uploading";var o=n.state.fileList.concat(),r=Q()(o,function(e){return e.uid===t.uid});-1===r?o.push(t):o[r]=t,n.onChange({file:t,fileList:o}),window.FormData||n.autoUpdateProgress(0,t)},n.onSuccess=function(e,t){n.clearProgressTimer();try{"string"==typeof e&&(e=JSON.parse(e))}catch(e){}var o=n.state.fileList,r=Re(t,o);r&&(r.status="done",r.response=e,n.onChange({file:Ae({},r),fileList:o}))},n.onProgress=function(e,t){var o=Re(t,n.state.fileList);o&&(o.percent=e.percent,n.onChange({event:e,file:Ae({},o),fileList:n.state.fileList}))},n.onError=function(e,t,o){n.clearProgressTimer();var r=n.state.fileList,a=Re(o,r);a&&(a.error=e,a.response=t,a.status="error",n.onChange({file:Ae({},a),fileList:r}))},n.handleManualRemove=function(e){n.upload&&n.upload.abort(e),n.handleRemove(e)},n.onChange=function(e){"fileList"in n.props||n.setState({fileList:e.fileList});var t=n.props.onChange;t&&t(e)},n.onFileDrop=function(e){n.setState({dragState:e.type})},n.beforeUpload=function(e,t){if(!n.props.beforeUpload)return!0;var o=n.props.beforeUpload(e,t);return!1===o?(n.onChange({file:e,fileList:J()(n.state.fileList.concat(t.map(Fe)),function(e){return e.uid})}),!1):!o||!o.then||o},n.saveUpload=function(e){n.upload=e},n.renderUploadList=function(e){var t=n.props,r=t.showUploadList,a=t.listType,i=t.onPreview,l=r.showRemoveIcon,u=r.showPreviewIcon;return o.createElement(De,{listType:a,items:n.state.fileList,onPreview:i,onRemove:n.handleManualRemove,showRemoveIcon:l,showPreviewIcon:u,locale:Ae({},e,n.props.locale)})},n.renderUpload=function(e){var t,r=e.getPrefixCls,a=n.props,i=a.prefixCls,l=a.className,u=a.showUploadList,s=a.listType,c=a.type,d=a.disabled,f=a.children,p=r("upload",i),m=Ae({onStart:n.onStart,onError:n.onError,onProgress:n.onProgress,onSuccess:n.onSuccess},n.props,{prefixCls:p,beforeUpload:n.beforeUpload});delete m.className;var h=u?o.createElement(We.a,{componentName:"Upload",defaultLocale:Ue.a.Upload},n.renderUploadList):null;if("drag"===c){var g,y=x()(p,(Ve(g={},"".concat(p,"-drag"),!0),Ve(g,"".concat(p,"-drag-uploading"),n.state.fileList.some(function(e){return"uploading"===e.status})),Ve(g,"".concat(p,"-drag-hover"),"dragover"===n.state.dragState),Ve(g,"".concat(p,"-disabled"),d),g));return o.createElement("span",{className:l},o.createElement("div",{className:y,onDrop:n.onFileDrop,onDragOver:n.onFileDrop,onDragLeave:n.onFileDrop},o.createElement(H,Ae({},m,{ref:n.saveUpload,className:"".concat(p,"-btn")}),o.createElement("div",{className:"".concat(p,"-drag-container")},f))),h)}var v=x()(p,(Ve(t={},"".concat(p,"-select"),!0),Ve(t,"".concat(p,"-select-").concat(s),!0),Ve(t,"".concat(p,"-disabled"),d),t));f||delete m.id;var q=o.createElement("div",{className:v,style:f?void 0:{display:"none"}},o.createElement(H,Ae({},m,{ref:n.saveUpload})));return"picture-card"===s?o.createElement("span",{className:l},h,q):o.createElement("span",{className:l},q,h)},n.state={fileList:e.fileList||e.defaultFileList||[],dragState:"drop"},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Je(e,t)}(t,o["Component"]),function(e,t,n){t&&ze(e.prototype,t),n&&ze(e,n)}(t,[{key:"componentWillUnmount",value:function(){this.clearProgressTimer()}},{key:"autoUpdateProgress",value:function(e,t){var n=this,o=function(){var e=.1;return function(t){var n=t;return n>=.98?n:(n+=e,(e-=.01)<.001&&(e=.001),n)}}(),r=0;this.clearProgressTimer(),this.progressTimer=setInterval(function(){r=o(r),n.onProgress({percent:100*r},t)},200)}},{key:"handleRemove",value:function(e){var t=this,n=this.props.onRemove,o=e.status;e.status="removed",Promise.resolve("function"==typeof n?n(e):n).then(function(n){if(!1!==n){var r=function(e,t){var n=void 0!==e.uid?"uid":"name",o=t.filter(function(t){return t[n]!==e[n]});return o.length===t.length?null:o}(e,t.state.fileList);r&&t.onChange({file:e,fileList:r})}else e.status=o})}},{key:"clearProgressTimer",value:function(){clearInterval(this.progressTimer)}},{key:"render",value:function(){return o.createElement(G.a,null,this.renderUpload)}}],[{key:"getDerivedStateFromProps",value:function(e){return"fileList"in e?{fileList:e.fileList||[]}:null}}]),t}();Be.defaultProps={type:"select",multiple:!1,action:"",data:{},accept:"",beforeUpload:function(){return!0},showUploadList:!0,listType:"text",className:"",disabled:!1,supportServerRender:!0},Object(c.polyfill)(Be);var Qe=Be;function Xe(e){return(Xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ye(){return(Ye=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function $e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Ge(e,t){return!t||"object"!==Xe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function et(e){return(et=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tt(e,t){return(tt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var nt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ge(this,et(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tt(e,t)}(t,o["Component"]),function(e,t,n){t&&$e(e.prototype,t),n&&$e(e,n)}(t,[{key:"render",value:function(){var e=this.props;return o.createElement(Qe,Ye({},e,{type:"drag",style:Ye({},e.style,{height:e.height})}))}}]),t}();Qe.Dragger=nt;var ot=Qe,rt=n("49r3"),at=n("MTna"),it=n("9gA9"),lt=n("CIWa"),ut=n("rfPe"),st=n("60c8"),ct=n("O+74"),dt=n("8c8O"),ft=n("lfHM"),pt=n.n(ft),mt=n("MDOJ"),ht=n.n(mt),gt=n("Hwm8"),yt=n.n(gt),vt=n("8Qmg"),qt=n.n(vt);function bt(e,t,n,o){return qt()(e[n.src.fieldKey])?qt()(o.srcValue)?yt()(e[n.src.fieldKey])==yt()(o.srcValue)&&(t=t.concat(o.fields)):e[n.src.fieldKey].includes(o.srcValue)&&(t=t.concat(o.fields)):o.srcValue==e[n.src.fieldKey]&&(t=t.concat(o.fields)),t}var Et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;(e=s.e.isArray(e)?e:[]).length&&setTimeout(function(){var o=[],r=[],a=t();a.forEach(function(e){r.push(e.groupRef.current.getForm())});var i={};r.forEach(function(e){i=u()({},i,e.form.getFieldsValue())});var l=[],c=[],d=[],f=[],p=[],m=[],h=!1;e.forEach(function(e){if(i.hasOwnProperty(e.src.fieldKey))switch(e.linkageType){case"5.1":e.dist.forEach(function(t){l=bt(i,l,e,t)});break;case"5.2":e.dist.forEach(function(t){c=bt(i,c,e,t)});break;case"1":e.dist.forEach(function(t){d=bt(i,d,e,t)});break;case"2":e.dist.forEach(function(t){f=bt(i,f,e,t)});break;case"3":e.dist.forEach(function(t){p=bt(i,p,e,t)});break;case"4":h=n&&e.src.fieldKey==n.fieldKey,e.dist.forEach(function(t){m=bt(i,m,e,t)})}});var g=[];a.forEach(function(e){var t=Object(s.d)(l,{groupId:e.id});e.groupRef.current.show(!t.length),t.length||(o=o.concat(e.formItems),g.push(e.groupRef.current.getForm()))});var y=[];o.forEach(function(n){var o=Object(s.d)(c,{fieldKey:n.fieldKey});if(i.hasOwnProperty(n.fieldKey)){var r=Object(s.d)(d,{fieldKey:n.fieldKey}),a=Object(s.d)(f,{fieldKey:n.fieldKey}),l=Object(s.d)(p,{fieldKey:n.fieldKey}),h=Object(s.d)(m,{fieldKey:n.fieldKey}),g=u()({},n);if(r.length?g.required=0:a.length&&l.length?console.error('同个控件不应该同时存在"必填"和"非必填"联动配置，请纠正'):a.length?g.required=1:l.length&&(g.required=0),h.length){if("string"==typeof g.config)try{g.config=JSON.parse(g.config)}catch(g){}g.config=u()({},g.config,{selectList:h[0].options})}var v=r.length>0?kt[g.fieldType].getControl(g,e,t,{disabled:r.length>0}):null,q=yt()(g)!==yt()(n)?kt[g.fieldType].getOptions(g):null,b={};v&&(b.control=v),q&&(b.options=q),y.push({key:g.fieldKey,show:!o.length,newItem:v||q?b:"reset"})}else y.push({key:n.fieldKey,show:!o.length})}),g.forEach(function(e){e.methods.changeFormItems(y,!0);var t=d.map(function(e){return e.fieldKey}),n=p.map(function(e){return e.fieldKey}),o=m.map(function(e){return e.fieldKey});e.form.validateFields([].concat(ht()(t),ht()(n))),e.form.resetFields([].concat(ht()(t),ht()(h?o:[])))})},10)},Ct=function(e){return{rules:[{required:1==e.required,message:"不能为空。"}].concat(ht()(e.regularExpression?[{pattern:e.regularExpression,message:e.errorMsg}]:[])),initialValue:e.initialValue}},kt={1:{getControl:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(arguments.length>1&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]?arguments[3]:{});return r.a.createElement(dt.a,pt()({placeholder:e.placeholder},t))},getOptions:Ct},2:{getControl:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(arguments.length>1&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]?arguments[3]:{});return r.a.createElement(dt.a.TextArea,pt()({placeholder:e.placeholder},t))},getOptions:Ct},3:{getControl:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return[]},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=e.config;if("string"==typeof e.config)try{a=JSON.parse(e.config)}catch(e){}return r.a.createElement(ct.a,pt()({placeholder:e.placeholder},o,{onChange:function(o){Et(t,n,e)}}),a.selectList.map(function(e){if(null!=e)return r.a.createElement(ct.a.Option,{value:e.value,key:e.value},e.label)}))},getOptions:Ct},4:{getControl:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(arguments.length>1&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]?arguments[3]:{});return r.a.createElement(st.a,pt()({placeholder:e.placeholder},t))},getOptions:Ct},5:{getControl:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(arguments.length>1&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]?arguments[3]:{});return r.a.createElement(ut.a,pt()({format:e.format,placeholder:e.placeholder},t))},getOptions:Ct},8:{getControl:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return[]},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=e.config;if("string"==typeof e.config)try{a=JSON.parse(e.config)}catch(e){}return r.a.createElement(lt.a.Group,pt()({},o,{onChange:function(o){Et(t,n,e)}}),a.selectList.map(function(e){return r.a.createElement(lt.a,{key:e.value,value:e.value},e.label)}))},getOptions:Ct},9:{getControl:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return[]},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=e.config;if("string"==typeof e.config)try{a=JSON.parse(e.config)}catch(e){}return r.a.createElement(it.a.Group,pt()({},o,{onChange:function(o){Et(t,n,e)}}),a.selectList.map(function(e){return r.a.createElement(it.a,{key:e.value,value:e.value},e.label)}))},getOptions:Ct},10:{getControl:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(arguments.length>1&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]?arguments[3]:{});return r.a.createElement(at.a,pt()({format:e.format,placeholder:e.placeholder},t))},getOptions:Ct},11:{getControl:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(arguments.length>1&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],e.config);if("string"==typeof e.config)try{t=JSON.parse(e.config)}catch(e){}var n=r.a.createElement("div",null,r.a.createElement(Y.a,{type:"plus"}),r.a.createElement("div",{style:{marginTop:"8px",color:"#666"}},"Upload"));return r.a.createElement(ot,{multiple:e.multiple,action:t.url,listType:"picture-card",name:"file",accept:t.accept,beforeUpload:function(e){var t="image/jpeg"===e.type||"image/png";if(!t)return rt.a.error("图片要求是jpg或者png格式!"),t}},n)},getOptions:Ct}},wt=n("lRmw");var Ot={1:"primary",2:"default",3:"dashed",4:"danger"};function xt(e,t){var n=function(e){return Object(o.useCallback)(function(t){for(var n=null,o=0;o<e.length;o++){var r=e[o];if(r.groupRef.current.getShowState()){n=r.groupRef.current.getForm();break}}n&&n.methods.onSubmit(t)},[e])}(t);return Object(o.useCallback)(function(){return e&&s.e.isArray(e.buttonList)?r.a.createElement("div",{className:"z-padding-bottom-20 z-text-center"},e.buttonList.map(function(e){return r.a.createElement(wt.a,{key:e.value,type:Ot[e.buttonType],onClick:n},e.value)})):null},[e,n])}var Tt=n("+Qac"),St=r.a.memo(r.a.forwardRef(function(e,t){var n=e.name,a=e.formItems,l=e.getOtherForms,u=e.labelLayout,s=e.doLinkage,c=e.onSubmit,d=Object(o.useRef)(),f=Object(o.useRef)(!0),p=Object(o.useState)(!0),m=i()(p,2),h=m[0],g=m[1],y=Object(o.useCallback)(function(e,t){d.current={form:e,methods:t}});return Object(o.useImperativeHandle)(t,function(){return{getForm:function(){return d.current},show:function(e){g(e)},getShowState:function(){return h}}}),Object(o.useEffect)(function(){f.current?f.current=!1:h&&s&&s()},[h]),h?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"z-panel-heading"},n),r.a.createElement("div",{className:"z-panel-body"},r.a.createElement(Tt.b,{onSubmit:c,labelLayout:u||"inline",items:a,submitBtnName:"",getFormInstance:y,otherForms:l}))):null}));function Lt(e,t){return(e.hasOwnProperty("seq")?e.seq:0)-(t.hasOwnProperty("seq")?t.seq:0)}var It=r.a.memo(r.a.forwardRef(function(e,t){var n=e.formData,a=e.onSubmit,l=Object(o.useState)([]),c=i()(l,2),d=c[0],f=c[1],p=function(e){return Object(o.useCallback)(function(t){return e.filter(function(e){var n=e.groupRef.current.getForm();return t!==n.form&&e.groupRef.current.getShowState()}).map(function(e){return e.groupRef.current.getForm().form})},[e])}(d),m=xt(n,d),h=function(e){var t=Object(o.useRef)();return Object(o.useEffect)(function(){t.current=e},[e]),Object(o.useCallback)(function(){return t.current},[t])}(d);Object(o.useEffect)(function(){f(function(e,t){if(s.e.isObject(e)){var n=e.sectionList.map(function(n){var o=n.formFieldInfoList.map(function(n){var o=kt[n.fieldType].getOptions(n);return u()({},n,{seq:n.seq,key:n.fieldKey,label:n.label,span:n.span,labelFocused:[8,9,11].includes(n.fieldType),render:function(){return kt[n.fieldType].getControl(n,e.linkages,t)},options:o})});return o.sort(Lt),{groupRef:r.a.createRef(),seq:n.seq,id:n.id,name:n.name,formItems:o}});return n.sort(Lt),n}return[]}(n,h))},[n]);var g=function(e,t,n){var r=Object(o.useCallback)(function(){t&&Et(t.linkages,n)},[n,t]);return Object(o.useEffect)(function(){r()},[e]),r}(d,n,h);return r.a.createElement("div",{className:"z-padding-20 app-body"},r.a.createElement("div",{className:"z-panel"},d.map(function(e,t){return r.a.createElement(St,{onSubmit:a,doLinkage:g,key:e.id,labelLayout:e.labelLayout,name:e.name,ref:e.groupRef,formItems:e.formItems,getOtherForms:p})}),m()))}));function Pt(){return r.a.createElement("div",null)}Pt.FormViewer=It;var Nt=Pt,jt=n("pZ7Q"),Mt=n.n(jt),Dt=n("aLtU"),Kt=n.n(Dt),Ft=n("2x50"),Rt=n.n(Ft),Wt=n("gEKl"),Ut=n.n(Wt),_t=n("HTqB"),Vt=n.n(_t),At=n("DLeZ"),zt=n.n(At),Ht=n("ebhq"),Zt=n("HPR2"),Jt=n.n(Zt),Bt={id:111,name:"养犬信息登记表",code:"dog_check_in_form",version:11,seq:0,description:"养犬信息登记表",configuration:null,gmtCreate:"2019-03-26 12:09:59",gmtModified:"2019-03-26 12:09:59",sectionList:[{id:111,formId:111,name:"犬只信息",seq:1,description:"犬只信息表",gmtCreate:"2019-03-26 12:09:59",gmtModified:"2019-03-26 12:09:59",formFieldInfoList:[{id:466,sectionId:111,label:"犬只名称",fieldKey:"dogName",fieldType:1,required:1,regularExpression:null,description:null,errorMsg:null,placeholder:null,span:8,labelWidth:4,config:'{"maxLength":8,"minLength":1}',initialValue:null,seq:1,gmtCreate:"2019-03-26 12:09:59",gmtModified:"2019-03-26 12:09:59"},{id:467,sectionId:111,label:"犬只品种",fieldKey:"dogType",fieldType:1,required:1,regularExpression:null,description:null,errorMsg:null,placeholder:null,span:8,labelWidth:4,config:'{"maxLength":16,"minLength":1}',initialValue:null,seq:2,gmtCreate:"2019-03-26 12:09:59",gmtModified:"2019-03-26 12:09:59"},{id:468,sectionId:111,label:"犬只性别",fieldKey:"dogSex",fieldType:9,required:1,regularExpression:null,description:null,errorMsg:null,placeholder:null,span:8,labelWidth:4,config:'{"selectList":[{"label":"公","value":"1"},{"label":"母","value":"2"}]}',initialValue:"1",seq:4,gmtCreate:"2019-03-26 12:09:59",gmtModified:"2019-03-26 12:09:59"},{id:469,sectionId:111,label:"犬只性质",fieldKey:"dogProperty",fieldType:3,required:1,regularExpression:null,description:null,errorMsg:null,placeholder:null,span:8,labelWidth:4,config:'{"selectList":[{"label":"普通宠物","value":"1"},{"label":"导盲犬/扶助犬","value":"2"},{"label":"其他","value":"3"}]}',initialValue:null,seq:5,gmtCreate:"2019-03-26 12:09:59",gmtModified:"2019-03-26 12:09:59"},{id:470,sectionId:111,label:"犬只颜色",fieldKey:"dogColor",fieldType:1,required:1,regularExpression:null,description:null,errorMsg:null,placeholder:null,span:8,labelWidth:4,config:'{"maxLength":8,"minLength":1}',initialValue:null,seq:6,gmtCreate:"2019-03-26 12:09:59",gmtModified:"2019-03-26 12:09:59"},{id:471,sectionId:111,label:"录入虹膜",fieldKey:"isIris",fieldType:9,required:0,regularExpression:null,description:null,errorMsg:null,placeholder:null,span:8,labelWidth:4,config:'{"selectList":[{"label":"是","value":"1"},{"label":"否","value":"2"}]}',initialValue:null,seq:7,gmtCreate:"2019-03-26 12:09:59",gmtModified:"2019-03-26 12:09:59"},{id:472,sectionId:111,label:"电子标签",fieldKey:"rfid",fieldType:9,required:0,regularExpression:null,description:null,errorMsg:null,placeholder:null,span:8,labelWidth:4,config:'{"selectList":[{"label":"是","value":"1"},{"label":"否","value":"2"}]}',initialValue:null,seq:8,gmtCreate:"2019-03-26 12:09:59",gmtModified:"2019-03-26 12:09:59"},{id:473,sectionId:111,label:"出生日期",fieldKey:"birthday",fieldType:5,required:0,regularExpression:null,description:null,errorMsg:null,placeholder:null,span:8,labelWidth:4,config:'{"format":"YYYY-MM-DD"}',initialValue:null,seq:9,gmtCreate:"2019-03-26 12:09:59",gmtModified:"2019-03-26 12:09:59"},{id:474,sectionId:111,label:"图片",fieldKey:"pic",fieldType:11,required:0,regularExpression:null,description:null,errorMsg:null,placeholder:null,span:24,labelWidth:4,config:'{"url":"57","accept":"87887878","multiple":false,"paramName":"7878"}',initialValue:null,seq:10,gmtCreate:"2019-03-26 12:09:59",gmtModified:"2019-03-26 12:09:59"}]},{id:112,formId:111,name:"养犬人信息",seq:2,description:"养犬人信息表",gmtCreate:"2019-03-26 12:09:59",gmtModified:"2019-03-26 12:09:59",formFieldInfoList:[{id:475,sectionId:112,label:"养犬人姓名",fieldKey:"name",fieldType:1,required:1,regularExpression:null,description:null,errorMsg:null,placeholder:null,span:8,labelWidth:4,config:'{"maxLength":8,"minLength":1}',initialValue:null,seq:1,gmtCreate:"2019-03-26 12:09:59",gmtModified:"2019-03-26 12:09:59"},{id:476,sectionId:112,label:"证件类型",fieldKey:"type",fieldType:3,required:1,regularExpression:null,description:null,errorMsg:null,placeholder:null,span:8,labelWidth:4,config:'{"selectList":[{"label":"身份证","value":"1"},{"label":"港澳通行证","value":"2"}]}',initialValue:null,seq:2,gmtCreate:"2019-03-26 12:10:00",gmtModified:"2019-03-26 12:10:00"},{id:477,sectionId:112,label:"证件号码",fieldKey:"number",fieldType:4,required:1,regularExpression:null,description:null,errorMsg:null,placeholder:null,span:8,labelWidth:4,config:'{"decimalLength":0}',initialValue:null,seq:3,gmtCreate:"2019-03-26 12:10:00",gmtModified:"2019-03-26 12:10:00"},{id:478,sectionId:112,label:"移动电话",fieldKey:"tel",fieldType:4,required:1,regularExpression:null,description:null,errorMsg:null,placeholder:null,span:8,labelWidth:4,config:'{"decimalLength":0}',initialValue:null,seq:4,gmtCreate:"2019-03-26 12:10:00",gmtModified:"2019-03-26 12:10:00"},{id:479,sectionId:112,label:"固定电话",fieldKey:"telephone",fieldType:1,required:0,regularExpression:null,description:null,errorMsg:null,placeholder:null,span:8,labelWidth:4,config:'{"maxLength":20,"minLength":1}',initialValue:null,seq:5,gmtCreate:"2019-03-26 12:10:00",gmtModified:"2019-03-26 12:10:00"},{id:480,sectionId:112,label:"电子邮箱",fieldKey:"email",fieldType:1,required:0,regularExpression:null,description:null,errorMsg:null,placeholder:null,span:8,labelWidth:4,config:'{"maxLength":20,"minLength":1}',initialValue:null,seq:6,gmtCreate:"2019-03-26 12:10:00",gmtModified:"2019-03-26 12:10:00"},{id:481,sectionId:112,label:"犬只数量",fieldKey:"dogCount",fieldType:4,required:1,regularExpression:null,description:null,errorMsg:null,placeholder:null,span:8,labelWidth:4,config:'{"decimalLength":0}',initialValue:null,seq:7,gmtCreate:"2019-03-26 12:10:00",gmtModified:"2019-03-26 12:10:00"},{id:482,sectionId:112,label:"详细地址",fieldKey:"address",fieldType:1,required:0,regularExpression:null,description:null,errorMsg:null,placeholder:null,span:8,labelWidth:4,config:'{"maxLength":50,"minLength":1}',initialValue:null,seq:8,gmtCreate:"2019-03-26 12:10:00",gmtModified:"2019-03-26 12:10:00"},{id:483,sectionId:112,label:"住所性质",fieldKey:"domicile",fieldType:3,required:0,regularExpression:null,description:null,errorMsg:null,placeholder:null,span:8,labelWidth:4,config:'{"selectList":[{"label":"自有","value":"1"},{"label":"租赁","value":"2"},{"label":"其他","value":"3"}]}',initialValue:null,seq:9,gmtCreate:"2019-03-26 12:10:00",gmtModified:"2019-03-26 12:10:00"}]},{id:113,formId:111,name:"领取方式",seq:3,description:null,gmtCreate:"2019-03-26 12:10:00",gmtModified:"2019-03-26 12:10:00",formFieldInfoList:[{id:484,sectionId:113,label:"电子犬证",fieldKey:"dogCard",fieldType:1,required:1,regularExpression:null,description:null,errorMsg:null,placeholder:null,span:8,labelWidth:4,config:'{"maxLength":8,"minLength":1}',initialValue:"电子犬证",seq:1,gmtCreate:"2019-03-26 12:10:00",gmtModified:"2019-03-26 12:10:00"},{id:490,sectionId:113,label:"是否需要实体卡",fieldKey:"isEntity",fieldType:9,required:1,regularExpression:null,description:null,errorMsg:null,placeholder:null,span:8,labelWidth:4,config:'{"selectList":[{"label":"是","value":"1"},{"label":"否","value":"2"}]}',initialValue:"2",seq:2,gmtCreate:"2019-03-26 12:10:00",gmtModified:"2019-03-26 12:10:00"},{id:485,sectionId:113,label:"领取方式",fieldKey:"payment",fieldType:9,required:1,regularExpression:null,description:null,errorMsg:null,placeholder:null,span:8,labelWidth:4,config:'{"selectList":[{"label":"自取","value":"1"},{"label":"寄邮到付","value":"2"}]}',initialValue:null,seq:3,gmtCreate:"2019-03-26 12:10:00",gmtModified:"2019-03-26 12:10:00"},{id:486,sectionId:113,label:"自取地址",fieldKey:"location",fieldType:1,required:0,regularExpression:null,description:null,errorMsg:null,placeholder:null,span:8,labelWidth:4,config:'{"maxLength":50,"minLength":1}',initialValue:null,seq:4,gmtCreate:"2019-03-26 12:10:00",gmtModified:"2019-03-26 12:10:00"},{id:487,sectionId:113,label:"收件人姓名",fieldKey:"recipientName",fieldType:1,required:0,regularExpression:null,description:null,errorMsg:null,placeholder:null,span:8,labelWidth:4,config:'{"maxLength":8,"minLength":1}',initialValue:null,seq:5,gmtCreate:"2019-03-26 12:10:00",gmtModified:"2019-03-26 12:10:00"},{id:488,sectionId:113,label:"联系方式",fieldKey:"contact",fieldType:4,required:0,regularExpression:null,description:null,errorMsg:null,placeholder:null,span:8,labelWidth:4,config:'{"decimalLength":0}',initialValue:null,seq:6,gmtCreate:"2019-03-26 12:10:00",gmtModified:"2019-03-26 12:10:00"},{id:489,sectionId:113,label:"邮寄地址",fieldKey:" mailingAddress",fieldType:1,required:0,regularExpression:null,description:null,errorMsg:null,placeholder:null,span:8,labelWidth:4,config:'{"maxLength":50,"minLength":0}',initialValue:null,seq:7,gmtCreate:"2019-03-26 12:10:00",gmtModified:"2019-03-26 12:10:00"}]}],buttonList:[{id:58,formId:111,buttonType:1,name:"保存按钮",value:"保存",seq:1,description:null,gmtCreate:"2019-03-26 12:10:00",gmtModified:"2019-03-26 12:10:00"}]},Qt=[{linkageType:"5.1",name:"单选/多选控制组隐藏",src:{fieldKey:"rfid"},dist:[{srcValue:"2",fields:[{groupId:113,groupName:"名称"}]}]},{linkageType:"5.2",name:"单选/多选控制控件隐藏",src:{fieldKey:"isEntity"},dist:[{srcValue:"2",fields:[{fieldKey:"recipientName",label:"收件人姓名",fieldType:1},{fieldKey:"contact",label:"联系方式",fieldType:4}]}]},{linkageType:"1",name:"单选/多选控制控件禁用",src:{fieldKey:"dogSex"},dist:[{srcValue:"2",fields:[{fieldKey:"dogProperty",label:"犬只性质",fieldType:3},{fieldKey:"dogColor",label:"犬只颜色",fieldType:1}]}]},{linkageType:"2",name:"单选/多选控制控件必填",src:{fieldKey:"isIris"},dist:[{srcValue:"2",fields:[{fieldKey:"birthday",label:"出生日期",fieldType:5}]}]},{linkageType:"3",name:"单选/多选控制控件非必填",src:{fieldKey:"isIris"},dist:[{srcValue:"1",fields:[{fieldKey:"birthday",label:"出生日期",fieldType:5}]}]}],Xt=Ht.a.AmdDocHOC,Yt=Ht.a.AshowDemoHOC;t.default=Xt(Jt.a,{demo1:function(){var e=function(e){function t(){var e,n;Kt()(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(n=Ut()(this,(e=Vt()(t)).call.apply(e,[this].concat(r)))).formData=u()({},Bt,{linkages:Qt}),n.onSubmit=function(e){return console.log(e),Mt.a.resolve()},n}return zt()(t,e),Rt()(t,[{key:"render",value:function(){return r.a.createElement(Nt.FormViewer,{formData:this.formData,onSubmit:this.onSubmit})}}]),t}(r.a.PureComponent),t=Yt(r.a.createElement(e,null),!0);return r.a.createElement(t,null)},demo2:function(){var e=function(e){function t(){return Kt()(this,t),Ut()(this,Vt()(t).apply(this,arguments))}return zt()(t,e),Rt()(t,[{key:"render",value:function(){return r.a.createElement("span",null)}}]),t}(r.a.PureComponent);return r.a.createElement(e,null)}})},ebhq:function(e,t,n){"use strict";var o=n("M36X"),r=n.n(o),a=n("jjl2"),i={},l=[];a.keys().forEach(function(e){var t=void 0;try{t=a(e).default}catch(t){throw Error("".concat(e,":").concat(t))}if(void 0===t||"object"!==r()(t))throw Error("".concat(e,":内没有 export default 或者export default格式有误 "));if("function"!=typeof t.HOC)throw Error("".concat(e,":HOC有误"));var n=t.name;if("string"!=typeof n)throw Error("".concat(e,":缺少name属性"));if(!/^A[A-z0-9]*HOC$/.test(n))throw Error("".concat(e,":name属性请以A开头HOC结尾"));if(n=n.trim(),l.includes(n))throw Error("".concat(e,":").concat(n,"此HOC名称已被使用"));l.push(n),i[n]=t.HOC}),t.a=i},jjl2:function(e,t,n){var o={"./AmdDocHOC/index.jsx":"pnNO","./AshowDemoHOC/index.jsx":"+fre"};function r(e){var t=a(e);return n(t)}function a(e){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}r.keys=function(){return Object.keys(o)},r.resolve=a,e.exports=r,r.id="jjl2"},jkYs:function(e,t,n){e.exports=n("ZTnV")(360)},oIrN:function(e,t,n){var o=n("Jpah");e.exports=function(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var l,u=o(e);!(r=(l=u.next()).done)&&(n.push(l.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(a)throw i}}return n}},pnNO:function(e,t,n){"use strict";n.r(t);var o=n("Z3zS"),r=n("MaNN"),a=n("C6MB"),i=n("PwP1"),l=n("MDOJ"),u=n.n(l),s=n("/sSO"),c=n("aLtU"),d=n.n(c),f=n("2x50"),p=n.n(f),m=n("gEKl"),h=n.n(m),g=n("HTqB"),y=n.n(g),v=n("DLeZ"),q=n.n(v),b=n("kB6t"),E=n("uqIC"),C=n.n(E),k=n("jCnN"),w=n.n(k),O=(n("EH+i"),n("tW/l")),x=n.n(O);var T=Object(b.a)(),S=!1;var L=function(e){function t(){var e,n;d()(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(n=h()(this,(e=y()(t)).call.apply(e,[this].concat(r)))).methods={setHeader:function(e){n.setState({layerHeader:e})},setContent:function(e){n.setState({layerContent:e})}},n.state={layerHeader:null,layerContent:null},n.getMethods=function(e){n.layerMethods=e},n}return q()(t,e),p()(t,[{key:"render",value:function(){var e=this.state,t=e.layerHeader,n=e.layerContent;return C.a.createElement(o.a,{header:t,exportMethods:this.getMethods},n)}}]),t}(C.a.PureComponent);t.default={name:"AmdDocHOC",HOC:function(e,t){e='<p>如带有 <i class="zero-icon zerod-shengchangzhouqi"></i> 标记的 “函数” 表示会在组件的生命周期函数 “render” 中执行</p>'+e;var n=function(n){function o(){var e,t;d()(this,o);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=h()(this,(e=y()(o)).call.apply(e,[this].concat(r)))).renderEls=[],t.state={navs:[],closeModaled:!0},t.setNavs=function(){var e=[],n=t.mdEl.querySelectorAll(".z-doc-titles");Array.prototype.slice.call(n).forEach(function(n){e.push({name:n.dataset.title?n.dataset.title:n.nextElementSibling.innerText,el:n.nextElementSibling,active:-t.scrollInstance.scroll.y==n.nextElementSibling.offsetTop-24})}),e.length&&t.setState({navs:e},function(){if(t.bindScrollEvent(),t.navEl&&t.navContentEl){var e=s.g.BuildScroll;t.navScroollInstance=new e(t.navEl,{scrollbars:"custom"}),s.g.listenDivSizeChange(t.navEl,t.navScroollInstance.refresh),s.g.listenDivSizeChange(t.navContentEl,t.navScroollInstance.refresh)}})},t.scrollEnd=function(){var e=-t.scrollInstance.scroll.y;t.state.navs.forEach(function(e){e.active=!1});for(var n=t.state.navs.length,o=0;o<n;o++){var r=t.state.navs[o];if(e>=r.el.offsetTop-120){if(!(o<n-1)){r.active=!0;break}var a=t.state.navs[o+1];if(a&&e<a.el.offsetTop-120){r.active=!0;break}}}t.setState({navs:u()(t.state.navs)})},t.bindScrollEvent=function(){t.scrollInstance.scroll.on("scrollEnd",t.scrollEnd)},t.navScrollTo=function(e){t.scrollInstance.scroll.scrollTo(0,-(e.el.offsetTop-24),200)},t.layerRef=C.a.createRef(),t}return q()(o,n),p()(o,[{key:"componentWillUnmount",value:function(){S=!0,this.renderEls.forEach(function(e){w.a.unmountComponentAtNode(e)}),this.scrollInstance&&this.scrollInstance.scroll&&this.scrollInstance.scroll.off("scrollEnd",this.scrollEnd)}},{key:"componentDidMount",value:function(){var e=this,n=this.mdEl.querySelectorAll(".z-demo-box");Array.prototype.slice.call(n).forEach(function(n){var o=function(e){var t={};if(e.dataset)return e.dataset;for(var n=0;n<e.attributes.length;n++){var o=e.attributes[n].nodeName;if(/^data-\w+$/.test(o)){var r=e.attributes[n].nodeValue;t[o.match(/^data-(\w+)/)[1]]=r}}return t}(n);if(t&&"function"==typeof t[o.render]){var r=n.nextElementSibling;r=r&&"pre"==r.localName?r:null;var a=t[o.render]();e.renderEls.push(n),w.a.render(a,n,function(){var e=document.createElement("div");e.className="z-demo-footer";var t=document.createElement("div");t.className="z-demo-code-btn z-flex-space-between";var a=document.createElement("div");a.className="z-demo-code";var i=document.createElement("img");i.addEventListener("click",function(){i.src=i.open?"https://gw.alipayobjects.com/zos/rmsportal/wSAkBuJFbdxsosKKpqyq.svg":"https://gw.alipayobjects.com/zos/rmsportal/OpROPHYqWmrMDBFMZtKF.svg",a.style.height=i.open?"0px":"auto",i.open=!i.open},!1),i.src="https://gw.alipayobjects.com/zos/rmsportal/wSAkBuJFbdxsosKKpqyq.svg";var l=document.createElement("span");l.innerText=o.title?o.title:"",t.appendChild(l),r&&t.appendChild(i),e.appendChild(t),r&&a.appendChild(r),e.appendChild(a),n.appendChild(e)})}}),this.mdEl.addEventListener("click",function(t){"string"==typeof t.target.className&&t.target.className.includes("z-open-modal-btn")&&setTimeout(function(){if(S=!1,"function"==typeof t.target._render){var n=t.target._render();if("layer"!=n.windowType)e.props.showRightModal({show:!0,modal:t.target._modal?t.target._modal:"mainModal",content:n,scroll:t.target._scroll,onTransitionend:function(t){S||e.setState({closeModaled:!t})}});else{var o=n.header,r=n.content;e.layerRef.current.methods.setHeader(o),e.layerRef.current.methods.setContent(r),e.layerRef.current.layerMethods.showLayer(!0,null,!0)()}}},10)},!1),this.mdEl.addEventListener("click",function(t){if("string"==typeof t.target.className&&t.target.className.includes("z-show-loading-btn"))setTimeout(function(){if("mainRoute"==t.target._modal)e.props.showRouteLoading(!0),setTimeout(function(){e.props.showRouteLoading(!1)},2e3);else{var n=t.target._modal?t.target._modal:"mainModal";S=!1,e.props.showRightModal({show:!0,modal:n,content:null,scroll:!0,onTransitionend:function(t){S||e.setState({closeModaled:!t})}}),e.props.showModalLoading(!0,n),setTimeout(function(){e.props.showModalLoading(!1,n)},2e3)}},10);else if("string"==typeof t.target.className&&t.target.className.includes("z-history-href")){var n=t.target.dataset.path;"string"==typeof n&&e.props.$router.history.push(n)}}),this.scrollInstance=this.props.getScrollInstance("mainRoute"),setTimeout(function(){e.setNavs()},100)}},{key:"render",value:function(){var t=this;return C.a.createElement(a.b.Template,null,C.a.createElement(T,{pageHeader:{show:!1},hasBodyPadding:!1},C.a.createElement("div",{className:"z-panel ".concat(x.a["z-md-doc"]),ref:function(e){return t.mdEl=e}},C.a.createElement("div",{className:"z-panel-body",style:this.state.navs.length?{width:"calc(100% - 136px)"}:{}},C.a.createElement(i.a,{mode:"html"},e)))),this.state.navs.length&&this.state.closeModaled?w.a.createPortal(C.a.createElement("div",{className:x.a["z-nav-box"],ref:function(e){return t.navEl=e}},C.a.createElement("div",{ref:function(e){return t.navContentEl=e}},C.a.createElement("section",null,this.state.navs.map(function(e,n){return C.a.createElement("div",{title:e.name,className:"".concat(x.a["z-nav"]," ").concat(e.active?x.a.active:""),key:n,onClick:function(){t.navScrollTo(e)}},e.name)})))),document.body):null,C.a.createElement(L,{ref:this.layerRef}))}}]),o}(C.a.PureComponent);return r.a.setConsumer(n)}}},s677:function(e,t,n){e.exports=n("ZTnV")(348)},uVSq:function(e,t,n){var o=n("EIku"),r=n("cXJ7");e.exports=function(e,t){return e&&e.length?r(e,o(t,2)):[]}},uvK3:function(e,t,n){var o=n("02RS");e.exports=function(e){var t=o(e),n=t%1;return t==t?n?t-n:t:0}},y8u0:function(e,t){e.exports=function(e,t,n,o){for(var r=e.length,a=n+(o?1:-1);o?a--:++a<r;)if(t(e[a],a,e))return a;return-1}}}]);
//# sourceMappingURL=8.107848d161eed47a451a.js.map